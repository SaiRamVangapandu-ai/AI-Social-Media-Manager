<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Zenoti AI Social Media Intelligence Platform</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"/>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{background:#050510;font-family:'Inter',-apple-system,sans-serif;color:white;min-height:100vh}
input,textarea,select{font-family:'Inter',sans-serif}
input::placeholder,textarea::placeholder{color:rgba(255,255,255,0.25)!important}
select option{background:#0a0a1e;color:white}
::-webkit-scrollbar{width:5px}::-webkit-scrollbar-thumb{background:rgba(99,102,241,0.3);border-radius:3px}
@keyframes livepulse{0%,100%{opacity:1}50%{opacity:0.4}}
@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
@keyframes slideDown{from{opacity:0;transform:translateY(-22px)}to{opacity:1;transform:none}}
@keyframes zoomIn{from{opacity:0;transform:scale(0.88)}to{opacity:1;transform:scale(1)}}
@keyframes shimmer{0%{background-position:200% center}100%{background-position:-200% center}}
@keyframes countUp{from{opacity:0;transform:translateY(10px) scale(0.85)}to{opacity:1;transform:translateY(0) scale(1)}}
@keyframes navPop{from{opacity:0;transform:translateY(20px) scale(0.93)}to{opacity:1;transform:translateY(0) scale(1)}}
@keyframes badgePing{0%,100%{transform:scale(1)}50%{transform:scale(1.15)}}
@keyframes cardSlideUp{from{opacity:0;transform:translateY(32px)}to{opacity:1;transform:translateY(0)}}
@keyframes tagFadeIn{from{opacity:0;transform:translateY(8px) scale(0.9)}to{opacity:1;transform:translateY(0) scale(1)}}
@keyframes insightSlide{from{opacity:0;transform:translateX(-18px)}to{opacity:1;transform:translateX(0)}}
.live-dot{width:5px;height:5px;border-radius:50%;background:#10b981;display:inline-block;animation:livepulse 2s infinite;flex-shrink:0}
.card{background:rgba(12,12,32,0.85);border:1px solid rgba(99,102,241,0.18);border-radius:20px;backdrop-filter:blur(24px);box-shadow:0 8px 32px rgba(0,0,0,0.4);padding:24px;margin-bottom:16px}
.lbl{color:rgba(165,180,252,0.75);font-size:10.5px;font-weight:700;letter-spacing:0.12em;text-transform:uppercase;margin-bottom:8px;display:block}
.inp{width:100%;background:rgba(255,255,255,0.035);border:1px solid rgba(99,102,241,0.18);border-radius:12px;color:rgba(255,255,255,0.9);font-size:14px;padding:11px 15px;outline:none;transition:border-color 0.2s;resize:none}
.inp:focus{border-color:rgba(99,102,241,0.55)}
.sel{width:100%;background:rgba(8,8,28,0.95);border:1px solid rgba(99,102,241,0.22);border-radius:11px;color:rgba(255,255,255,0.82);font-size:13px;padding:9px 13px;outline:none;cursor:pointer}
.btn{border:none;border-radius:13px;color:white;font-weight:700;font-size:14px;padding:13px 22px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:7px;transition:all 0.18s;width:100%}
.btn:disabled{opacity:0.45;cursor:not-allowed}
.chip{background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.07);border-radius:20px;color:rgba(255,255,255,0.38);font-size:12px;font-weight:600;padding:5px 13px;cursor:pointer;transition:all 0.14s;white-space:nowrap}
.chip.active{background:linear-gradient(135deg,rgba(99,102,241,0.4),rgba(168,85,247,0.35));border-color:rgba(99,102,241,0.55);color:#c4b5fd}
.mbar{background:rgba(255,255,255,0.05);border-radius:4px;overflow:hidden;flex:1}
.mbar-fill{height:6px;border-radius:4px;transition:width 0.8s ease}
.post-card{background:rgba(255,255,255,0.025);border:1px solid rgba(99,102,241,0.12);border-radius:15px;padding:18px;margin-bottom:12px;animation:fadeIn 0.3s ease}
.sh{display:flex;align-items:center;gap:10px;margin-bottom:16px}
.sh-icon{width:34px;height:34px;border-radius:10px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(99,102,241,0.25),rgba(168,85,247,0.25));border:1px solid rgba(99,102,241,0.3);font-size:17px;flex-shrink:0}
.divider{height:1px;background:linear-gradient(90deg,rgba(99,102,241,0.35),transparent);margin-bottom:20px}
.bar-row{display:flex;align-items:center;gap:12px;margin-bottom:11px}
.insight-row{display:flex;align-items:flex-start;gap:10px;border-radius:10px;padding:10px 13px;margin-bottom:8px}
.sec-div{height:1px;background:linear-gradient(90deg,transparent,rgba(99,102,241,0.25),transparent);margin:18px 0}
.nb{border-radius:18px;padding:20px 14px;cursor:pointer;text-align:center;transition:transform 0.22s,box-shadow 0.22s,border-color 0.22s;animation:navPop 0.6s cubic-bezier(0.22,1,0.36,1) both;position:relative;overflow:hidden}
.ai-sug{display:none;margin-top:10px;background:linear-gradient(135deg,rgba(139,92,246,0.1),rgba(236,72,153,0.07));border:1px solid rgba(139,92,246,0.3);border-radius:12px;padding:14px}
.enh-btn{background:linear-gradient(135deg,rgba(139,92,246,0.25),rgba(236,72,153,0.2));border:1px solid rgba(139,92,246,0.45);border-radius:20px;color:#c4b5fd;font-size:11px;font-weight:700;padding:4px 12px;cursor:pointer;display:inline-flex;align-items:center;gap:5px}
.tab-panel{display:none}
.yt-sub-panel{}
.yts-btn{transition:all 0.18s}
</style>
</head>
<body>
<div id="app" style="max-width:760px;margin:0 auto;padding:0 20px 60px">

<div style="position:fixed;top:-150px;left:-150px;width:500px;height:500px;border-radius:50%;background:radial-gradient(circle,rgba(99,102,241,0.07),transparent 70%);pointer-events:none;z-index:0"></div>
<div style="position:fixed;bottom:-150px;right:-150px;width:600px;height:600px;border-radius:50%;background:radial-gradient(circle,rgba(168,85,247,0.06),transparent 70%);pointer-events:none;z-index:0"></div>

<!-- HEADER -->
<div style="text-align:center;padding:32px 0 20px;position:relative;z-index:1;animation:slideDown 0.7s cubic-bezier(0.22,1,0.36,1) both">
  <div style="display:inline-flex;align-items:center;gap:8px;background:linear-gradient(135deg,rgba(99,102,241,0.15),rgba(168,85,247,0.15));border:1px solid rgba(99,102,241,0.35);border-radius:20px;padding:4px 14px;margin-bottom:12px">
    <span class="live-dot"></span>
    <span style="font-size:11px;font-weight:700;color:#a5b4fc;letter-spacing:0.1em;text-transform:uppercase">@gozenoti Â· Live Profile Data</span>
  </div>
  <h1 style="font-size:30px;font-weight:900;margin:0 0 6px;background:linear-gradient(270deg,#e0e7ff,#a5b4fc,#c084fc,#f0abfc,#a5b4fc,#e0e7ff);background-size:400% auto;-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-0.025em;line-height:1.15;animation:shimmer 4s linear infinite">AI Social Media Intelligence Platform</h1>
  <p style="color:rgba(255,255,255,0.35);font-size:13px">Predict Â· Personalize Â· Automate Â· Amplify</p>
</div>

<!-- STATS -->
<div style="display:flex;gap:10px;margin-bottom:16px;position:relative;z-index:1;overflow-x:auto;padding-bottom:4px">
  <div style="background:rgba(225,48,108,0.08);border:1px solid rgba(225,48,108,0.2);border-radius:14px;padding:12px;text-align:center;min-width:130px;flex-shrink:0;animation:countUp 0.6s 0.35s both"><div style="font-size:18px;margin-bottom:3px">ğŸ“¸</div><div style="font-size:18px;font-weight:800">14K</div><div style="font-size:10px;color:rgba(225,48,108,0.8);font-weight:600">Instagram</div><div style="font-size:10px;color:rgba(255,255,255,0.35);margin-top:2px">1.2% eng Â· +512/mo</div></div>
  <div style="background:rgba(0,119,181,0.08);border:1px solid rgba(0,119,181,0.2);border-radius:14px;padding:12px;text-align:center;min-width:130px;flex-shrink:0;animation:countUp 0.6s 0.45s both"><div style="font-size:18px;margin-bottom:3px">ğŸ’¼</div><div style="font-size:18px;font-weight:800">68.8K</div><div style="font-size:10px;color:rgba(0,119,181,0.9);font-weight:600">LinkedIn</div><div style="font-size:10px;color:rgba(255,255,255,0.35);margin-top:2px">2.1% eng Â· +2.2K/mo</div></div>
  <div style="background:rgba(29,161,242,0.08);border:1px solid rgba(29,161,242,0.2);border-radius:14px;padding:12px;text-align:center;min-width:130px;flex-shrink:0;animation:countUp 0.6s 0.55s both"><div style="font-size:18px;margin-bottom:3px">ğŸ¦</div><div style="font-size:18px;font-weight:800">1.3K</div><div style="font-size:10px;color:rgba(29,161,242,0.9);font-weight:600">X / Twitter</div><div style="font-size:10px;color:rgba(255,255,255,0.35);margin-top:2px">0.9% eng Â· growing</div></div>
  <div style="background:rgba(24,119,242,0.08);border:1px solid rgba(24,119,242,0.2);border-radius:14px;padding:12px;text-align:center;min-width:130px;flex-shrink:0;animation:countUp 0.6s 0.65s both"><div style="font-size:18px;margin-bottom:3px">ğŸ‘¥</div><div style="font-size:18px;font-weight:800">12.4K</div><div style="font-size:10px;color:rgba(24,119,242,0.9);font-weight:600">Facebook</div><div style="font-size:10px;color:rgba(255,255,255,0.35);margin-top:2px">1.4% eng Â· stable</div></div>
  <div style="background:rgba(255,0,0,0.08);border:1px solid rgba(255,0,0,0.2);border-radius:14px;padding:12px;text-align:center;min-width:130px;flex-shrink:0;animation:countUp 0.6s 0.75s both"><div style="font-size:18px;margin-bottom:3px">â–¶ï¸</div><div style="font-size:18px;font-weight:800">8.2K</div><div style="font-size:10px;color:rgba(255,70,70,0.9);font-weight:600">YouTube</div><div style="font-size:10px;color:rgba(255,255,255,0.35);margin-top:2px">4.8% eng Â· +320/mo</div></div>
</div>

<!-- NAV -->
<div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:16px;position:relative;z-index:1">
  <button onclick="switchTab('analytics')" class="nb" style="background:linear-gradient(135deg,rgba(225,48,108,0.2),rgba(236,72,153,0.15));border:1px solid rgba(225,48,108,0.35);animation-delay:0.5s" onmouseover="hov(this,'rgba(225,48,108,0.5)','rgba(225,48,108,0.35)','rgba(225,48,108,0.7)')" onmouseout="unHov(this,'rgba(225,48,108,0.35)')"><div class="ni" style="font-size:32px;margin-bottom:8px;display:inline-block">ğŸ“Š</div><div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">Analytics</div><div style="font-size:11px;color:rgba(249,168,212,0.7)">IG Â· LinkedIn Â· Trends</div><div style="margin-top:10px;background:rgba(225,48,108,0.2);border-radius:20px;font-size:10px;font-weight:700;color:#f9a8d4;padding:3px 10px;display:inline-block">ğŸ“¡ Live Data</div></button>
  <button onclick="switchTab('create')" class="nb" style="background:linear-gradient(135deg,rgba(99,102,241,0.25),rgba(168,85,247,0.2));border:1px solid rgba(99,102,241,0.4);animation-delay:0.6s" onmouseover="hov(this,'rgba(99,102,241,0.55)','rgba(99,102,241,0.35)','rgba(99,102,241,0.75)')" onmouseout="unHov(this,'rgba(99,102,241,0.4)')"><div class="ni" style="font-size:32px;margin-bottom:8px;display:inline-block">ğŸš€</div><div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">Generate Post</div><div style="font-size:11px;color:rgba(165,180,252,0.7)">Text Â· Image Â· Video</div><div style="margin-top:10px;background:rgba(99,102,241,0.3);border-radius:20px;font-size:10px;font-weight:700;color:#a5b4fc;padding:3px 10px;display:inline-block">ğŸ†“ Free</div></button>
  <button onclick="switchTab('predict')" class="nb" style="background:linear-gradient(135deg,rgba(245,158,11,0.2),rgba(239,68,68,0.15));border:1px solid rgba(245,158,11,0.35);animation-delay:0.7s" onmouseover="hov(this,'rgba(245,158,11,0.5)','rgba(245,158,11,0.3)','rgba(245,158,11,0.7)')" onmouseout="unHov(this,'rgba(245,158,11,0.35)')"><div class="ni" style="font-size:32px;margin-bottom:8px;display:inline-block">ğŸ”¬</div><div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">Viral Predictor</div><div style="font-size:11px;color:rgba(253,230,138,0.7)">Score your posts</div><div style="margin-top:10px;background:rgba(245,158,11,0.2);border-radius:20px;font-size:10px;font-weight:700;color:#fde68a;padding:3px 10px;display:inline-block">ğŸ†“ Free</div></button>
  <button onclick="switchTab('persona')" class="nb" style="background:linear-gradient(135deg,rgba(139,92,246,0.2),rgba(236,72,153,0.15));border:1px solid rgba(139,92,246,0.35);animation-delay:0.8s" onmouseover="hov(this,'rgba(139,92,246,0.55)','rgba(139,92,246,0.32)','rgba(139,92,246,0.75)')" onmouseout="unHov(this,'rgba(139,92,246,0.35)')"><div class="ni" style="font-size:32px;margin-bottom:8px;display:inline-block">ğŸ­</div><div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">Persona AI</div><div style="font-size:11px;color:rgba(196,181,253,0.7)">4 audience variants</div><div style="margin-top:10px;background:rgba(139,92,246,0.2);border-radius:20px;font-size:10px;font-weight:700;color:#c4b5fd;padding:3px 10px;display:inline-block">ğŸ†“ Free</div></button>
  <button onclick="switchTab('ads')" class="nb" style="background:linear-gradient(135deg,rgba(251,191,36,0.2),rgba(239,68,68,0.15));border:1px solid rgba(251,191,36,0.35);animation-delay:0.9s" onmouseover="hov(this,'rgba(251,191,36,0.5)','rgba(251,191,36,0.28)','rgba(251,191,36,0.7)')" onmouseout="unHov(this,'rgba(251,191,36,0.35)')"><div class="ni" style="font-size:32px;margin-bottom:8px;display:inline-block">ğŸ“£</div><div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">Run Ads</div><div style="font-size:11px;color:rgba(253,230,138,0.7)">AI copy Â· Budget Â· ROI</div><div style="margin-top:10px;background:rgba(251,191,36,0.2);border-radius:20px;font-size:10px;font-weight:700;color:#fde68a;padding:3px 10px;display:inline-block">ğŸ†“ Free AI</div></button>
  <button onclick="switchTab('calendar')" class="nb" style="background:linear-gradient(135deg,rgba(59,130,246,0.2),rgba(99,102,241,0.15));border:1px solid rgba(59,130,246,0.35);animation-delay:1s" onmouseover="hov(this,'rgba(59,130,246,0.5)','rgba(59,130,246,0.28)','rgba(59,130,246,0.7)')" onmouseout="unHov(this,'rgba(59,130,246,0.35)')"><div class="ni" style="font-size:32px;margin-bottom:8px;display:inline-block">ğŸ“…</div><div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">Calendar</div><div style="font-size:11px;color:rgba(147,197,253,0.7)">Approve Â· Reject</div><div style="margin-top:10px;background:rgba(59,130,246,0.2);border-radius:20px;font-size:10px;font-weight:700;color:#93c5fd;padding:3px 10px;display:inline-block;animation:badgePing 2s 2s ease-in-out infinite"><span id="calBadge">4</span> Pending</div></button>
  <button onclick="switchTab('youtube')" class="nb" style="background:linear-gradient(135deg,rgba(255,0,0,0.2),rgba(255,80,0,0.15));border:1px solid rgba(255,0,0,0.35);animation-delay:1.1s;grid-column:span 3" onmouseover="hov(this,'rgba(255,0,0,0.5)','rgba(255,0,0,0.28)','rgba(255,0,0,0.7)')" onmouseout="unHov(this,'rgba(255,0,0,0.35)')"><div class="ni" style="font-size:32px;margin-bottom:8px;display:inline-block">â–¶ï¸</div><div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">YouTube Studio AI</div><div style="font-size:11px;color:rgba(255,160,160,0.7)">Analytics Â· SEO Â· Ideas Â· Thumbnail Â· Shorts Â· Comments Â· Competitor Â· Monetization</div><div style="margin-top:10px;background:rgba(255,0,0,0.2);border-radius:20px;font-size:10px;font-weight:700;color:#fca5a5;padding:3px 10px;display:inline-block">8 AI Tools ğŸ†“</div></button>
</div>

<!-- ACTION BAR -->
<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;position:relative;z-index:1;flex-wrap:wrap;gap:8px">
  <button onclick="switchTab('calendar');setTimeout(toggleUploadForm,80)" style="background:linear-gradient(135deg,rgba(99,102,241,0.28),rgba(168,85,247,0.22));border:1px solid rgba(99,102,241,0.45);border-radius:12px;color:#a5b4fc;font-size:12.5px;font-weight:700;padding:9px 16px;cursor:pointer">â• Schedule a Post</button>
  <button onclick="switchTab('settings')" style="background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.1);border-radius:12px;color:rgba(255,255,255,0.5);font-size:12.5px;font-weight:600;padding:8px 16px;cursor:pointer">âš™ï¸ Settings</button>
</div>

<!-- SETTINGS -->
<div id="panel-settings" class="tab-panel">
  <div class="card">
    <div class="sh"><div class="sh-icon">âš™ï¸</div><div><div style="color:white;font-weight:700;font-size:15.5px">Settings &amp; API Configuration</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Configure your API keys</div></div></div>
    <div class="divider"></div>
    <div style="background:rgba(16,185,129,0.08);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:14px 16px;margin-bottom:20px"><div style="font-size:12.5px;font-weight:700;color:#6ee7b7;margin-bottom:4px">âœ… All AI features work for free</div><div style="font-size:12px;color:rgba(255,255,255,0.5);line-height:1.6">Only add a Freepik key for real AI images and videos.</div></div>
    <div style="margin-bottom:20px"><div class="lbl">ğŸ–¼ï¸ Freepik API Key (Optional)</div><input id="freepikKey" class="inp" type="password" placeholder="FPSX-..."/><div style="margin-top:8px;font-size:11.5px;color:rgba(255,255,255,0.35)">Get free $5 credits at <a href="https://freepik.com/api" target="_blank" style="color:#a5b4fc">freepik.com/api</a></div></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
      <div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2);border-radius:14px;padding:16px"><div style="font-size:18px;margin-bottom:8px">ğŸ¤–</div><div style="font-size:13px;font-weight:700;color:white;margin-bottom:4px">AI Post Generation</div><div style="font-size:11.5px;color:rgba(255,255,255,0.4);margin-bottom:8px">Pollinations.ai</div><span style="background:rgba(16,185,129,0.15);border:1px solid rgba(16,185,129,0.3);border-radius:20px;color:#6ee7b7;font-size:11px;font-weight:700;padding:3px 10px">ğŸ†“ Free</span></div>
      <div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2);border-radius:14px;padding:16px"><div style="font-size:18px;margin-bottom:8px">ğŸ–¼ï¸</div><div style="font-size:13px;font-weight:700;color:white;margin-bottom:4px">Image &amp; Video Gen</div><div style="font-size:11.5px;color:rgba(255,255,255,0.4);margin-bottom:8px">Freepik AI</div><span id="freepikStatus" style="background:rgba(245,158,11,0.15);border:1px solid rgba(245,158,11,0.3);border-radius:20px;color:#fde68a;font-size:11px;font-weight:700;padding:3px 10px">ğŸ”‘ Key required</span></div>
    </div>
  </div>
</div>

<!-- ANALYTICS -->
<div id="panel-analytics" class="tab-panel">
  <div class="card" style="box-shadow:0 0 40px rgba(225,48,108,0.1)">
    <div class="sh"><div class="sh-icon" style="background:linear-gradient(135deg,rgba(225,48,108,0.3),rgba(236,72,153,0.2));border-color:rgba(225,48,108,0.4)">ğŸ“¸</div><div><div style="color:white;font-weight:700;font-size:15.5px">@gozenoti Instagram</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">14K followers Â· 1,089 posts Â· 1.2% engagement</div></div><div style="margin-left:auto;display:flex;align-items:center;gap:5px;background:rgba(16,185,129,0.12);border:1px solid rgba(16,185,129,0.3);border-radius:20px;padding:4px 10px"><span class="live-dot"></span><span style="font-size:10px;font-weight:700;color:#6ee7b7">Live</span></div></div>
    <div class="divider"></div>
    <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:20px">
      <div style="background:rgba(225,48,108,0.08);border:1px solid rgba(225,48,108,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:18px;margin-bottom:4px">ğŸ‘¥</div><div style="font-size:20px;font-weight:800">14K</div><div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-top:2px">Followers</div><div style="font-size:10px;color:#10b981;margin-top:3px;font-weight:600">â–² +512/mo</div></div>
      <div style="background:rgba(225,48,108,0.08);border:1px solid rgba(225,48,108,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:18px;margin-bottom:4px">ğŸ–¼ï¸</div><div style="font-size:20px;font-weight:800">1,089</div><div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-top:2px">Posts</div><div style="font-size:10px;color:#a5b4fc;margin-top:3px;font-weight:600">~6/week</div></div>
      <div style="background:rgba(225,48,108,0.08);border:1px solid rgba(225,48,108,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:18px;margin-bottom:4px">ğŸ’¬</div><div style="font-size:20px;font-weight:800">1.2%</div><div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-top:2px">Eng Rate</div><div style="font-size:10px;color:#f59e0b;margin-top:3px;font-weight:600">Avg 3.5%</div></div>
      <div style="background:rgba(225,48,108,0.08);border:1px solid rgba(225,48,108,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:18px;margin-bottom:4px">ğŸ“¡</div><div style="font-size:20px;font-weight:800">18.6K</div><div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-top:2px">Avg Reach</div><div style="font-size:10px;color:#10b981;margin-top:3px;font-weight:600">â–² +8%</div></div>
    </div>
    <div class="lbl">ğŸ“Š Content Format Performance</div><div id="ig-perf"></div>
    <div class="sec-div"></div>
    <div class="lbl">ğŸ·ï¸ Top Hashtags</div><div id="ig-tags"></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:16px">
      <div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2);border-radius:12px;padding:14px"><div style="font-size:11px;color:#a5b4fc;font-weight:700;margin-bottom:6px">â° Best Time</div><div style="font-size:14px;color:white;font-weight:700">Mon / Wed / Fri</div><div style="font-size:12px;color:rgba(255,255,255,0.45);margin-top:2px">6:00 PM â€“ 8:00 PM</div></div>
      <div style="background:rgba(16,185,129,0.08);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:14px"><div style="font-size:11px;color:#6ee7b7;font-weight:700;margin-bottom:6px">ğŸ“ˆ Monthly Growth</div><div style="font-size:14px;color:white;font-weight:700">+3.8% Â· +512 followers</div><div style="font-size:10.5px;color:#10b981;margin-top:6px;font-weight:600">Goal: 20K by Q3 2026</div></div>
    </div>
  </div>
  <div class="card" style="box-shadow:0 0 40px rgba(0,119,181,0.1)">
    <div class="sh"><div class="sh-icon" style="background:linear-gradient(135deg,rgba(0,119,181,0.3),rgba(0,119,181,0.15));border-color:rgba(0,119,181,0.4)">ğŸ’¼</div><div><div style="color:white;font-weight:700;font-size:15.5px">Zenoti LinkedIn</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">68.8K followers Â· 30K+ customers</div></div><div style="margin-left:auto;display:flex;align-items:center;gap:5px;background:rgba(16,185,129,0.12);border:1px solid rgba(16,185,129,0.3);border-radius:20px;padding:4px 10px"><span class="live-dot"></span><span style="font-size:10px;font-weight:700;color:#6ee7b7">Live</span></div></div>
    <div class="divider"></div>
    <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:20px">
      <div style="background:rgba(0,119,181,0.08);border:1px solid rgba(0,119,181,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:18px;margin-bottom:4px">ğŸ‘¥</div><div style="font-size:20px;font-weight:800">68.8K</div><div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-top:2px">Followers</div><div style="font-size:10px;color:#10b981;margin-top:3px;font-weight:600">â–² +2.2K/mo</div></div>
      <div style="background:rgba(0,119,181,0.08);border:1px solid rgba(0,119,181,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:18px;margin-bottom:4px">ğŸ’¬</div><div style="font-size:20px;font-weight:800">2.1%</div><div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-top:2px">Eng Rate</div><div style="font-size:10px;color:#10b981;margin-top:3px;font-weight:600">Top 15%</div></div>
      <div style="background:rgba(0,119,181,0.08);border:1px solid rgba(0,119,181,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:18px;margin-bottom:4px">ğŸ‘ï¸</div><div style="font-size:20px;font-weight:800">124K</div><div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-top:2px">Impressions/mo</div><div style="font-size:10px;color:#f59e0b;margin-top:3px;font-weight:600">â–² +18%</div></div>
      <div style="background:rgba(0,119,181,0.08);border:1px solid rgba(0,119,181,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:18px;margin-bottom:4px">ğŸ“ˆ</div><div style="font-size:20px;font-weight:800">+2.2K</div><div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-top:2px">New/Month</div><div style="font-size:10px;color:#10b981;margin-top:3px;font-weight:600">Goal: 100K</div></div>
    </div>
    <div class="lbl">ğŸ“Š Post Format Performance</div><div id="li-perf"></div>
    <div class="sec-div"></div>
    <div class="lbl">âš¡ Algorithm Insights</div><div id="li-insights"></div>
    <div class="sec-div"></div>
    <div class="lbl">ğŸ‘¥ Audience Breakdown</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px">
      <div><div style="font-size:10px;color:rgba(255,255,255,0.3);font-weight:600;margin-bottom:8px">BY ROLE</div><div id="li-roles"></div></div>
      <div><div style="font-size:10px;color:rgba(255,255,255,0.3);font-weight:600;margin-bottom:8px">BY INDUSTRY</div><div id="li-industries"></div></div>
    </div>
  </div>
  <div class="card">
    <div class="sh"><div class="sh-icon" style="background:linear-gradient(135deg,rgba(239,68,68,0.3),rgba(245,158,11,0.2));border-color:rgba(239,68,68,0.35)">ğŸ”¥</div><div><div style="color:white;font-weight:700;font-size:15.5px">Trending Topics</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Beauty &amp; Wellness Â· SaaS Â· AI</div></div></div>
    <div class="divider"></div>
    <div style="display:flex;gap:6px;margin-bottom:16px">
      <button class="chip active" id="tt-all" onclick="showTrends('all')">ğŸŒ All</button>
      <button class="chip" id="tt-ig" onclick="showTrends('ig')">ğŸ“¸ Instagram</button>
      <button class="chip" id="tt-li" onclick="showTrends('li')">ğŸ’¼ LinkedIn</button>
      <button class="chip" id="tt-tw" onclick="showTrends('tw')">ğŸ¦ X/Twitter</button>
    </div>
    <div id="trending"></div>
    <div style="margin-top:16px;background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.25);border-radius:14px;padding:16px">
      <div style="font-size:11px;color:#a5b4fc;font-weight:700;margin-bottom:8px">ğŸš€ Cross-Platform Opportunity</div>
      <div style="font-size:13px;color:rgba(255,255,255,0.7);line-height:1.7"><strong style="color:white">"AI in Beauty &amp; Wellness"</strong> is trending across all platforms.</div>
      <button onclick="switchTab('create')" style="margin-top:12px;background:linear-gradient(135deg,#6366f1,#8b5cf6);border:none;border-radius:10px;color:white;font-size:12.5px;font-weight:700;padding:9px 18px;cursor:pointer">ğŸš€ Create Post on This Trend</button>
    </div>
  </div>
</div>

<!-- VIRAL PREDICTOR -->
<div id="panel-predict" class="tab-panel">
  <div class="card">
    <div class="sh"><div class="sh-icon">ğŸ”¬</div><div><div style="color:white;font-weight:700;font-size:15.5px">Viral Score Analyzer</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Paste your draft â€” AI scores its potential</div></div></div>
    <div class="divider"></div>
    <div class="lbl">Platform</div>
    <div style="display:flex;gap:8px;margin-bottom:14px;flex-wrap:wrap">
      <button class="chip active" onclick="selVP(this,'linkedin')">ğŸ’¼ LinkedIn</button>
      <button class="chip" onclick="selVP(this,'instagram')">ğŸ“¸ Instagram</button>
      <button class="chip" onclick="selVP(this,'twitter')">ğŸ¦ X / Twitter</button>
      <button class="chip" onclick="selVP(this,'facebook')">ğŸ‘¥ Facebook</button>
      <button class="chip" onclick="selVP(this,'youtube')">â–¶ï¸ YouTube</button>
    </div>
    <div class="lbl">Draft Post</div>
    <textarea id="viralDraft" class="inp" rows="4" placeholder="Paste your post draft here..."></textarea>
    <button class="btn" onclick="analyzeViral()" id="viralBtn" style="background:linear-gradient(135deg,#f59e0b,#ef4444);margin-top:12px">ğŸ”¬ Analyze Viral Potential â€” Free</button>
    <div id="viralResult" style="margin-top:20px"></div>
  </div>
</div>

<!-- CREATE -->
<div id="panel-create" class="tab-panel">
  <div class="card">
    <div class="sh"><div class="sh-icon">ğŸ¨</div><div><div style="color:white;font-weight:700;font-size:15.5px">What type of post?</div></div></div>
    <div class="divider"></div>
    <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px">
      <button onclick="selPostType('text')" id="pt-text" style="background:linear-gradient(135deg,rgba(99,102,241,0.33),rgba(99,102,241,0.18));border:2px solid rgba(99,102,241,0.88);border-radius:16px;padding:18px 12px;cursor:pointer;text-align:center;transform:translateY(-2px)"><div style="font-size:26px;margin-bottom:8px">âœï¸</div><div style="font-size:13px;font-weight:700;color:white;margin-bottom:4px">Text Post</div><div style="font-size:10px;color:#a5b4fc">Pure copy Â· Free AI</div><div style="margin-top:8px;width:22px;height:22px;border-radius:11px;background:#6366f1;margin-left:auto;margin-right:auto;display:flex;align-items:center;justify-content:center;font-size:12px;color:white;font-weight:800">âœ“</div></button>
      <button onclick="selPostType('image')" id="pt-image" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.07);border-radius:16px;padding:18px 12px;cursor:pointer;text-align:center"><div style="font-size:26px;margin-bottom:8px">ğŸ–¼ï¸</div><div style="font-size:13px;font-weight:700;color:rgba(255,255,255,0.55);margin-bottom:4px">Image Post</div><div style="font-size:10px;color:rgba(255,255,255,0.3)">Freepik AI image</div></button>
      <button onclick="selPostType('video')" id="pt-video" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.07);border-radius:16px;padding:18px 12px;cursor:pointer;text-align:center"><div style="font-size:26px;margin-bottom:8px">ğŸ¬</div><div style="font-size:13px;font-weight:700;color:rgba(255,255,255,0.55);margin-bottom:4px">Video Post</div><div style="font-size:10px;color:rgba(255,255,255,0.3)">Freepik Kling</div></button>
      <button onclick="selPostType('youtube')" id="pt-youtube" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.07);border-radius:16px;padding:18px 12px;cursor:pointer;text-align:center"><div style="font-size:26px;margin-bottom:8px">â–¶ï¸</div><div style="font-size:13px;font-weight:700;color:rgba(255,255,255,0.55);margin-bottom:4px">YouTube</div><div style="font-size:10px;color:rgba(255,255,255,0.3)">Script Â· Shorts Â· Ad</div></button>
    </div>
  </div>
  <div class="card">
    <div class="sh"><div class="sh-icon">âœï¸</div><div><div style="color:white;font-weight:700;font-size:15.5px">Content Brief</div></div></div>
    <div class="divider"></div>
    <div style="margin-bottom:14px"><div class="lbl">Topic / Brief *</div><textarea id="postTopic" class="inp" rows="3" placeholder="e.g. Zenoti AI booking launch â€” trusted by 30k+ salons..."></textarea></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:14px">
      <div><div class="lbl">Platforms</div><div style="display:flex;flex-wrap:wrap;gap:6px"><button class="chip active" onclick="togPlat(this,'linkedin')">ğŸ’¼ LinkedIn</button><button class="chip active" onclick="togPlat(this,'instagram')">ğŸ“¸ Instagram</button><button class="chip" onclick="togPlat(this,'twitter')">ğŸ¦ X</button><button class="chip" onclick="togPlat(this,'facebook')">ğŸ‘¥ Facebook</button></div></div>
      <div><div class="lbl">Tone</div><div style="display:flex;flex-wrap:wrap;gap:6px"><button class="chip active" onclick="selTone(this,'Professional')">Professional</button><button class="chip" onclick="selTone(this,'Casual')">Casual</button><button class="chip" onclick="selTone(this,'Inspirational')">Inspirational</button><button class="chip" onclick="selTone(this,'Educational')">Educational</button></div></div>
    </div>
    <div><div class="lbl">Extra Context</div><input id="postExtra" class="inp" placeholder="e.g. mention 30k+ salons milestone..."/></div>
  </div>
  <div id="text-panel" class="card">
    <div class="sh"><div class="sh-icon">ğŸ“</div><div><div style="color:white;font-weight:700;font-size:15.5px">Text Post Generator</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Free AI Â· @gozenoti voice</div></div></div>
    <div class="divider"></div>
    <button class="btn" onclick="genPosts()" id="genPostsBtn" style="background:linear-gradient(135deg,#6366f1,#8b5cf6);margin-bottom:16px">âœ¨ Generate Text Posts â€” Free</button>
    <div id="postsOut"></div>
  </div>
  <div id="image-panel" class="card" style="display:none">
    <div class="sh"><div class="sh-icon">ğŸ–¼ï¸</div><div><div style="color:white;font-weight:700;font-size:15.5px">Image Post Generator</div></div></div>
    <div class="divider"></div>
    <div id="imgKeyWarn" style="background:rgba(239,68,68,0.08);border:1px solid rgba(239,68,68,0.25);border-radius:12px;padding:12px 16px;margin-bottom:16px;color:#fca5a5;font-size:12.5px">âš ï¸ Freepik API key required â€” add in âš™ï¸ Settings</div>
    <div style="margin-bottom:12px"><div class="lbl">Image Prompt *</div><textarea id="imgPrompt" class="inp" rows="3" placeholder="Describe your visual..."></textarea></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:16px">
      <div><div class="lbl">Style</div><select id="imgStyle" class="sel"><option>realistic</option><option>cinematic</option><option>digital-art</option><option>3d-render</option><option>minimalist</option></select></div>
      <div><div class="lbl">Size</div><select id="imgSize" class="sel"><option value="square_1_1">1:1 Square</option><option value="portrait_4_5">4:5 Portrait</option><option value="widescreen_16_9">16:9 Wide</option><option value="vertical_9_16">9:16 Story</option></select></div>
    </div>
    <button class="btn" onclick="genImage()" id="genImgBtn" style="background:linear-gradient(135deg,#10b981,#6366f1);margin-bottom:14px">ğŸ–¼ï¸ Generate Real Image</button>
    <div id="imgStatus"></div><div id="imgOut"></div>
  </div>
  <div id="video-panel" class="card" style="display:none">
    <div class="sh"><div class="sh-icon">ğŸ¬</div><div><div style="color:white;font-weight:700;font-size:15.5px">Video Post Generator</div></div></div>
    <div class="divider"></div>
    <div style="margin-bottom:12px"><div class="lbl">Video Prompt *</div><textarea id="vidPrompt" class="inp" rows="3" placeholder="Describe the scene..."></textarea></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">
      <div><div class="lbl">Aspect</div><select id="vidAspect" class="sel"><option value="16:9">16:9</option><option value="9:16">9:16 Reels</option><option value="1:1">1:1</option></select></div>
      <div><div class="lbl">Duration</div><select id="vidDur" class="sel"><option value="5">5s</option><option value="10">10s</option><option value="15">15s</option></select></div>
    </div>
    <button class="btn" onclick="genVideo()" id="genVidBtn" style="background:linear-gradient(135deg,#db2777,#9333ea);margin-bottom:14px">ğŸ¬ Generate Video</button>
    <div id="vidStatus"></div><div id="vidOut"></div>
  </div>
  <div id="youtube-panel" class="card" style="display:none">
    <div class="sh"><div class="sh-icon" style="background:linear-gradient(135deg,rgba(255,0,0,0.3),rgba(255,80,0,0.2));border-color:rgba(255,0,0,0.4)">â–¶ï¸</div><div><div style="color:white;font-weight:700;font-size:15.5px">YouTube Script Generator</div></div></div>
    <div class="divider"></div>
    <div style="display:flex;gap:8px;margin-bottom:14px;flex-wrap:wrap">
      <button class="chip active" id="yt-long" onclick="selYTType(this,'long')">ğŸ¬ Long-form</button>
      <button class="chip" id="yt-short" onclick="selYTType(this,'short')">ğŸ©³ Shorts</button>
      <button class="chip" id="yt-preroll" onclick="selYTType(this,'preroll')">ğŸ“£ Pre-roll Ad</button>
    </div>
    <div style="margin-bottom:12px"><div class="lbl">Video Topic *</div><textarea id="ytTopic" class="inp" rows="2" placeholder="e.g. How Zenoti AI booking eliminates no-shows..."></textarea></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">
      <div><div class="lbl">Target Audience</div><input id="ytAudience" class="inp" placeholder="e.g. Salon owners..."/></div>
      <div><div class="lbl">Video Length</div><select id="ytLength" class="sel"><option value="short">Shorts (60s)</option><option value="medium" selected>Medium (5-8 min)</option><option value="long">Long (10-15 min)</option></select></div>
    </div>
    <button class="btn" onclick="genYTScript()" id="genYTBtn" style="background:linear-gradient(135deg,#ff0000,#ff6b35);margin-bottom:16px">â–¶ï¸ Generate YouTube Script â€” Free</button>
    <div id="ytOut"></div>
  </div>
</div>

<!-- PERSONA -->
<div id="panel-persona" class="tab-panel">
  <div class="card">
    <div class="sh"><div class="sh-icon">ğŸ­</div><div><div style="color:white;font-weight:700;font-size:15.5px">Persona-Based Content Variants</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">One topic â†’ 4 audience-targeted variants</div></div></div>
    <div class="divider"></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:14px">
      <div><div class="lbl">Platform</div><div style="display:flex;gap:6px;flex-wrap:wrap"><button class="chip active" onclick="selPP(this,'instagram')">ğŸ“¸</button><button class="chip" onclick="selPP(this,'linkedin')">ğŸ’¼</button><button class="chip" onclick="selPP(this,'twitter')">ğŸ¦</button><button class="chip" onclick="selPP(this,'facebook')">ğŸ‘¥</button></div><input type="hidden" id="persPlat" value="instagram"/></div>
      <div><div class="lbl">Audience Persona</div><select id="persType" class="sel"><option value="Salon Owner (ROI focused, 35-50yo)">ğŸ’‡ Salon Owner</option><option value="Spa Manager (Wellness focused, 28-45yo)">ğŸ§– Spa Manager</option><option value="Wellness Coach (Holistic, 25-40yo)">ğŸ§˜ Wellness Coach</option><option value="Beauty Pro (Trend-driven, 22-35yo)">ğŸ’„ Beauty Pro</option></select></div>
    </div>
    <div style="margin-bottom:14px"><div class="lbl">Topic</div><input id="persTopic" class="inp" placeholder="e.g. AI appointment booking saves 3 hours a week..."/></div>
    <button class="btn" onclick="genPersona()" id="persBtn" style="background:linear-gradient(135deg,#8b5cf6,#ec4899)">ğŸ­ Generate 4 Persona Variants â€” Free</button>
    <div id="persOut" style="margin-top:20px"></div>
  </div>
</div>

<!-- ADS -->
<div id="panel-ads" class="tab-panel">
  <div class="card">
    <div class="sh"><div class="sh-icon" style="background:linear-gradient(135deg,rgba(251,191,36,0.3),rgba(239,68,68,0.2));border-color:rgba(251,191,36,0.4)">ğŸ“£</div><div><div style="color:white;font-weight:700;font-size:15.5px">Run Ads for @gozenoti</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">AI copy Â· Image Â· Video Â· Upload</div></div></div>
    <div class="divider"></div>
    <div class="lbl">Ad Platform</div>
    <div style="display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-bottom:16px">
      <button onclick="selAdPlat(this,'instagram')" id="adp-instagram" style="background:rgba(225,48,108,0.15);border:2px solid rgba(225,48,108,0.6);border-radius:12px;padding:10px 6px;cursor:pointer;text-align:center;color:white"><div style="font-size:20px;margin-bottom:4px">ğŸ“¸</div><div style="font-size:11px;font-weight:700">Instagram</div></button>
      <button onclick="selAdPlat(this,'linkedin')" id="adp-linkedin" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.08);border-radius:12px;padding:10px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:20px;margin-bottom:4px">ğŸ’¼</div><div style="font-size:11px;font-weight:700">LinkedIn</div></button>
      <button onclick="selAdPlat(this,'facebook')" id="adp-facebook" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.08);border-radius:12px;padding:10px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:20px;margin-bottom:4px">ğŸ‘¥</div><div style="font-size:11px;font-weight:700">Facebook</div></button>
      <button onclick="selAdPlat(this,'twitter')" id="adp-twitter" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.08);border-radius:12px;padding:10px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:20px;margin-bottom:4px">ğŸ¦</div><div style="font-size:11px;font-weight:700">X / Twitter</div></button>
      <button onclick="selAdPlat(this,'youtube')" id="adp-youtube" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.08);border-radius:12px;padding:10px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:20px;margin-bottom:4px">â–¶ï¸</div><div style="font-size:11px;font-weight:700">YouTube</div></button>
    </div>
    <div class="lbl">Campaign Objective</div>
    <div style="display:flex;flex-wrap:wrap;gap:6px;margin-bottom:16px"><button class="chip active" onclick="selAdObj(this,'Brand Awareness')">ğŸ“¢ Brand Awareness</button><button class="chip" onclick="selAdObj(this,'Lead Generation')">ğŸ¯ Lead Generation</button><button class="chip" onclick="selAdObj(this,'App Downloads')">ğŸ“² App Downloads</button><button class="chip" onclick="selAdObj(this,'Website Traffic')">ğŸŒ Traffic</button><button class="chip" onclick="selAdObj(this,'Conversions')">ğŸ’° Conversions</button></div>
    <div style="margin-bottom:16px"><div class="lbl">Target Audience</div><input id="adAudience" class="inp" placeholder="e.g. Salon owners, spa managers, 30-55yo..."/></div>
    <div class="lbl">Ad Content Type</div>
    <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-bottom:20px">
      <button onclick="selAdType(this,'text')" id="adt-text" style="background:linear-gradient(135deg,rgba(99,102,241,0.3),rgba(99,102,241,0.18));border:2px solid rgba(99,102,241,0.8);border-radius:12px;padding:10px 6px;cursor:pointer;text-align:center;color:white"><div style="font-size:18px;margin-bottom:4px">âœï¸</div><div style="font-size:10px;font-weight:700">Text Ad</div></button>
      <button onclick="selAdType(this,'image')" id="adt-image" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.08);border-radius:12px;padding:10px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:18px;margin-bottom:4px">ğŸ–¼ï¸</div><div style="font-size:10px;font-weight:700">Image Ad</div></button>
      <button onclick="selAdType(this,'video')" id="adt-video" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.08);border-radius:12px;padding:10px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:18px;margin-bottom:4px">ğŸ¬</div><div style="font-size:10px;font-weight:700">Video Ad</div></button>
      <button onclick="selAdType(this,'upload')" id="adt-upload" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.08);border-radius:12px;padding:10px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:18px;margin-bottom:4px">ğŸ“¤</div><div style="font-size:10px;font-weight:700">Upload</div></button>
    </div>
    <div id="adtype-text">
      <div class="lbl" style="display:flex;align-items:center;justify-content:space-between"><span>Ad Brief</span><button class="enh-btn" onclick="enhAdText('adBrief','adBriefStatus','adBriefSug','adBriefSugTxt')">âœ¨ AI Enhance</button></div>
      <span id="adBriefStatus" style="font-size:11px;color:rgba(255,255,255,0.4);display:none">â³ Enhancing...</span>
      <textarea id="adBrief" class="inp" rows="3" placeholder="e.g. Zenoti AI booking â€” help salon owners save 3 hours/week..." style="margin-bottom:8px"></textarea>
      <div id="adBriefSug" class="ai-sug"><div style="font-size:10px;color:#c4b5fd;font-weight:700;text-transform:uppercase;margin-bottom:8px">âœ¨ AI Enhanced</div><div id="adBriefSugTxt" style="font-size:12.5px;color:rgba(255,255,255,0.8);line-height:1.7;margin-bottom:10px"></div><div style="display:flex;gap:8px"><button onclick="applyEnh('adBrief','adBriefSugTxt','adBriefSug')" style="flex:2;background:linear-gradient(135deg,#8b5cf6,#ec4899);border:none;border-radius:9px;color:white;font-size:12px;font-weight:700;padding:8px;cursor:pointer">âœ“ Apply</button><button onclick="G('adBriefSug').style.display='none'" style="flex:1;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:9px;color:rgba(255,255,255,0.5);font-size:12px;padding:8px;cursor:pointer">âœ•</button></div></div>
      <button class="btn" onclick="genAd()" id="genAdBtn" style="background:linear-gradient(135deg,#f59e0b,#ef4444);margin-top:12px">ğŸ“£ Generate Ad Copy â€” Free</button>
      <div id="adOut" style="margin-top:16px"></div>
    </div>
    <div id="adtype-image" style="display:none">
      <div style="margin-bottom:12px"><div class="lbl">Visual Prompt</div><textarea id="adImgPrompt" class="inp" rows="3" placeholder="e.g. Luxury salon with AI dashboard..."></textarea></div>
      <button class="btn" onclick="genAdImage()" id="genAdImgBtn" style="background:linear-gradient(135deg,#10b981,#6366f1);margin-bottom:14px">ğŸ–¼ï¸ Generate Ad Image</button>
      <div id="adImgStatus"></div><div id="adImgOut"></div>
    </div>
    <div id="adtype-video" style="display:none">
      <div style="margin-bottom:12px"><div class="lbl">Scene Prompt</div><textarea id="adVidPrompt" class="inp" rows="3" placeholder="e.g. Busy salon before vs calm efficient salon after..."></textarea></div>
      <button class="btn" onclick="genAdVideo()" id="genAdVidBtn" style="background:linear-gradient(135deg,#db2777,#9333ea);margin-bottom:14px">ğŸ¬ Generate Ad Video</button>
      <div id="adVidStatus"></div><div id="adVidOut"></div>
    </div>
    <div id="adtype-upload" style="display:none">
      <textarea id="adUpCopy" class="inp" rows="2" placeholder="e.g. Join 30K+ salons using Zenoti AI." style="margin-bottom:8px"></textarea>
      <label for="adUpMedia" style="display:flex;flex-direction:column;align-items:center;gap:8px;background:rgba(255,255,255,0.03);border:2px dashed rgba(251,191,36,0.3);border-radius:12px;padding:24px;cursor:pointer;margin-bottom:14px"><span id="adUpIcon" style="font-size:30px">ğŸ“¤</span><span id="adUpText" style="font-size:13px;font-weight:600;color:rgba(255,255,255,0.6)">Click to upload</span></label>
      <input type="file" id="adUpMedia" accept="image/*,video/*" style="display:none" onchange="handleAdUpload(this)"/>
      <div id="adUpPreview" style="display:none;margin-bottom:14px"></div>
      <button class="btn" onclick="previewUploadAd()" style="background:linear-gradient(135deg,#f59e0b,#ef4444)">ğŸ‘ï¸ Preview Ad</button>
      <div id="adUpOut" style="margin-top:14px"></div>
    </div>
  </div>
  <div class="card">
    <div class="sh"><div class="sh-icon">ğŸ’°</div><div><div style="color:white;font-weight:700;font-size:15.5px">Budget Planner &amp; ROI Estimator</div></div></div>
    <div class="divider"></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px">
      <div><div class="lbl">Daily Budget (USD)</div><input type="number" id="adBudget" class="inp" placeholder="50" oninput="calcROI()"/></div>
      <div><div class="lbl">Duration</div><select id="adDuration" class="sel" onchange="calcROI()"><option value="7">7 days</option><option value="14">14 days</option><option value="30" selected>30 days</option><option value="60">60 days</option></select></div>
    </div>
    <div id="roiOut" style="display:none">
      <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:14px">
        <div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:11px;color:#a5b4fc;font-weight:700;margin-bottom:4px">ğŸ’¸ Total Spend</div><div id="roi-spend" style="font-size:22px;font-weight:800;color:white"></div></div>
        <div style="background:rgba(225,48,108,0.08);border:1px solid rgba(225,48,108,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:11px;color:#f9a8d4;font-weight:700;margin-bottom:4px">ğŸ“¡ Est. Reach</div><div id="roi-reach" style="font-size:22px;font-weight:800;color:white"></div></div>
        <div style="background:rgba(16,185,129,0.08);border:1px solid rgba(16,185,129,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:11px;color:#6ee7b7;font-weight:700;margin-bottom:4px">ğŸ‘† Est. Clicks</div><div id="roi-clicks" style="font-size:22px;font-weight:800;color:white"></div></div>
        <div style="background:rgba(245,158,11,0.08);border:1px solid rgba(245,158,11,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:11px;color:#fde68a;font-weight:700;margin-bottom:4px">ğŸ¯ Est. Leads</div><div id="roi-leads" style="font-size:22px;font-weight:800;color:white"></div></div>
      </div>
      <div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07);border-radius:12px;padding:14px">
        <div style="display:flex;justify-content:space-between;margin-bottom:8px"><span style="font-size:12px;color:rgba(255,255,255,0.5)">Cost Per Click</span><span id="roi-cpc" style="font-size:13px;font-weight:700;color:white"></span></div>
        <div style="display:flex;justify-content:space-between;margin-bottom:8px"><span style="font-size:12px;color:rgba(255,255,255,0.5)">Cost Per Lead</span><span id="roi-cpl" style="font-size:13px;font-weight:700;color:white"></span></div>
        <div style="display:flex;justify-content:space-between"><span style="font-size:12px;color:rgba(255,255,255,0.5)">Expected ROAS</span><span id="roi-roas" style="font-size:13px;font-weight:700;color:#10b981"></span></div>
      </div>
    </div>
    <div id="roiEmpty" style="text-align:center;padding:20px;color:rgba(255,255,255,0.25);font-size:13px">Enter a daily budget above to see estimated results</div>
  </div>
  <div class="card">
    <div class="sh"><div class="sh-icon">ğŸ“Š</div><div><div style="color:white;font-weight:700;font-size:15.5px">Ad Performance Benchmarks</div></div></div>
    <div class="divider"></div>
    <div id="adBenchmarks"></div>
  </div>
</div>

<!-- CALENDAR -->
<div id="panel-calendar" class="tab-panel">
  <div class="card">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px">
      <div class="sh" style="margin-bottom:0"><div class="sh-icon">ğŸ“…</div><div><div style="color:white;font-weight:700;font-size:15.5px">AI Content Calendar</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Approve or reject scheduled posts</div></div></div>
      <div style="display:flex;align-items:center;gap:8px"><span id="schCount" style="background:rgba(16,185,129,0.15);border:1px solid rgba(16,185,129,0.3);border-radius:20px;color:#6ee7b7;font-size:11px;font-weight:700;padding:4px 12px">3 Scheduled</span><button onclick="toggleUploadForm()" style="background:linear-gradient(135deg,rgba(99,102,241,0.3),rgba(168,85,247,0.25));border:1px solid rgba(99,102,241,0.5);border-radius:20px;color:#a5b4fc;font-size:11px;font-weight:700;padding:5px 13px;cursor:pointer">â• Add Post</button></div>
    </div>
    <div class="divider"></div>
    <div id="uploadForm" style="display:none;background:rgba(99,102,241,0.06);border:1px solid rgba(99,102,241,0.22);border-radius:16px;padding:18px;margin-bottom:18px">
      <div style="font-size:13px;font-weight:800;color:white;margin-bottom:14px">ğŸ“¤ Schedule a Post Manually</div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px">
        <div><div class="lbl">Platform</div><select id="upPlatform" class="sel"><option value="instagram">ğŸ“¸ Instagram</option><option value="linkedin">ğŸ’¼ LinkedIn</option><option value="twitter">ğŸ¦ X</option><option value="facebook">ğŸ‘¥ Facebook</option></select></div>
        <div><div class="lbl">Post Type</div><select id="upType" class="sel"><option>Reels</option><option>Carousel</option><option>Static Image</option><option>Video</option><option>Story</option><option>Article</option></select></div>
      </div>
      <div style="margin-bottom:12px">
        <div class="lbl" style="display:flex;align-items:center;justify-content:space-between"><span>Topic / Title</span><button class="enh-btn" onclick="aiEnhance()" id="aiEnhanceBtn">âœ¨ AI Enhance</button></div>
        <span id="aiEnhanceStatus" style="font-size:11px;color:rgba(255,255,255,0.4);display:none">â³ Enhancing...</span>
        <input id="upTopic" class="inp" placeholder="e.g. New AI Feature Launch"/>
      </div>
      <div style="margin-bottom:12px"><div class="lbl">Caption</div><textarea id="upCaption" class="inp" rows="3" placeholder="Write your post caption..."></textarea>
        <div id="aiSuggestion" class="ai-sug" style="margin-top:10px"><div style="font-size:10px;color:#c4b5fd;font-weight:700;text-transform:uppercase;margin-bottom:8px">âœ¨ AI Enhanced Version</div><div id="aiSugTitle" style="font-size:12.5px;font-weight:700;color:white;margin-bottom:6px"></div><div id="aiSugCaption" style="font-size:12px;color:rgba(255,255,255,0.7);line-height:1.7;margin-bottom:10px"></div><div style="display:flex;gap:8px"><button onclick="applyAISuggestion()" style="flex:2;background:linear-gradient(135deg,#8b5cf6,#ec4899);border:none;border-radius:9px;color:white;font-size:12px;font-weight:700;padding:8px;cursor:pointer">âœ“ Apply</button><button onclick="G('aiSuggestion').style.display='none'" style="flex:1;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:9px;color:rgba(255,255,255,0.5);font-size:12px;padding:8px;cursor:pointer">âœ•</button></div></div>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px">
        <div><div class="lbl">Date</div><input type="date" id="upDate" class="inp" style="color-scheme:dark"/></div>
        <div><div class="lbl">Time</div><input type="time" id="upTime" class="inp" style="color-scheme:dark"/></div>
      </div>
      <div style="display:flex;gap:8px"><button onclick="submitUpload()" style="flex:2;background:linear-gradient(135deg,#6366f1,#8b5cf6);border:none;border-radius:11px;color:white;font-size:13px;font-weight:700;padding:11px;cursor:pointer">ğŸ“… Add to Calendar</button><button onclick="toggleUploadForm()" style="flex:1;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:11px;color:rgba(255,255,255,0.5);font-size:13px;padding:11px;cursor:pointer">Cancel</button></div>
    </div>
    <div id="calItems"></div>
  </div>
</div>

<!-- YOUTUBE STUDIO -->
<div id="panel-youtube" class="tab-panel">
  <div class="card" style="padding:16px">
    <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:8px">
      <button onclick="showYTTab('analytics')" id="yts-analytics" class="yts-btn" style="background:linear-gradient(135deg,rgba(255,0,0,0.2),rgba(255,80,0,0.12));border:1px solid rgba(255,0,0,0.45);border-radius:12px;padding:12px 6px;cursor:pointer;text-align:center;color:white"><div style="font-size:20px;margin-bottom:4px">ğŸ“Š</div><div style="font-size:11px;font-weight:700">Channel Analytics</div></button>
      <button onclick="showYTTab('seo')" id="yts-seo" class="yts-btn" style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);border-radius:12px;padding:12px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:20px;margin-bottom:4px">ğŸ”</div><div style="font-size:11px;font-weight:700">SEO Optimizer</div></button>
      <button onclick="showYTTab('ideas')" id="yts-ideas" class="yts-btn" style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);border-radius:12px;padding:12px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:20px;margin-bottom:4px">ğŸ’¡</div><div style="font-size:11px;font-weight:700">Video Ideas</div></button>
      <button onclick="showYTTab('thumbnail')" id="yts-thumbnail" class="yts-btn" style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);border-radius:12px;padding:12px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:20px;margin-bottom:4px">ğŸ–¼ï¸</div><div style="font-size:11px;font-weight:700">Thumbnail Gen</div></button>
      <button onclick="showYTTab('shorts')" id="yts-shorts" class="yts-btn" style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);border-radius:12px;padding:12px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:20px;margin-bottom:4px">ğŸ©³</div><div style="font-size:11px;font-weight:700">Shorts Storyboard</div></button>
      <button onclick="showYTTab('comments')" id="yts-comments" class="yts-btn" style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);border-radius:12px;padding:12px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:20px;margin-bottom:4px">ğŸ’¬</div><div style="font-size:11px;font-weight:700">Comment Reply AI</div></button>
      <button onclick="showYTTab('competitor')" id="yts-competitor" class="yts-btn" style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);border-radius:12px;padding:12px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:20px;margin-bottom:4px">ğŸ”¬</div><div style="font-size:11px;font-weight:700">Competitor Analysis</div></button>
      <button onclick="showYTTab('monetize')" id="yts-monetize" class="yts-btn" style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);border-radius:12px;padding:12px 6px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:20px;margin-bottom:4px">ğŸ’°</div><div style="font-size:11px;font-weight:700">Monetization</div></button>
    </div>
  </div>

  <div id="ytp-analytics" class="yt-sub-panel">
    <div class="card"><div class="sh"><div class="sh-icon" style="background:linear-gradient(135deg,rgba(255,0,0,0.3),rgba(255,80,0,0.2));border-color:rgba(255,0,0,0.4)">â–¶ï¸</div><div><div style="color:white;font-weight:700;font-size:15.5px">@gozenoti YouTube Channel</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">8.2K subscribers Â· 4.8% engagement</div></div><div style="margin-left:auto;display:flex;align-items:center;gap:5px;background:rgba(16,185,129,0.12);border:1px solid rgba(16,185,129,0.3);border-radius:20px;padding:4px 10px"><span class="live-dot"></span><span style="font-size:10px;font-weight:700;color:#6ee7b7">Live</span></div></div>
      <div class="divider"></div>
      <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:20px">
        <div style="background:rgba(255,0,0,0.08);border:1px solid rgba(255,0,0,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:18px;margin-bottom:4px">ğŸ‘¥</div><div style="font-size:20px;font-weight:800">8.2K</div><div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-top:2px">Subscribers</div><div style="font-size:10px;color:#10b981;margin-top:3px;font-weight:600">â–² +320/mo</div></div>
        <div style="background:rgba(255,0,0,0.08);border:1px solid rgba(255,0,0,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:18px;margin-bottom:4px">ğŸ‘ï¸</div><div style="font-size:20px;font-weight:800">142K</div><div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-top:2px">Views/mo</div><div style="font-size:10px;color:#10b981;margin-top:3px;font-weight:600">â–² +22%</div></div>
        <div style="background:rgba(255,0,0,0.08);border:1px solid rgba(255,0,0,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:18px;margin-bottom:4px">â±ï¸</div><div style="font-size:20px;font-weight:800">4.2m</div><div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-top:2px">Avg Watch Time</div><div style="font-size:10px;color:#f59e0b;margin-top:3px;font-weight:600">52% retention</div></div>
        <div style="background:rgba(255,0,0,0.08);border:1px solid rgba(255,0,0,0.2);border-radius:14px;padding:14px;text-align:center"><div style="font-size:18px;margin-bottom:4px">ğŸ’°</div><div style="font-size:20px;font-weight:800">$420</div><div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-top:2px">Est. Revenue/mo</div><div style="font-size:10px;color:#10b981;margin-top:3px;font-weight:600">RPM $2.96</div></div>
      </div>
      <div class="lbl">ğŸ“Š Content Format Performance</div><div id="yt-analytics-perf"></div>
      <div class="sec-div"></div>
      <div class="lbl">âš¡ Algorithm Insights</div><div id="yt-analytics-insights"></div>
      <div class="sec-div"></div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
        <div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2);border-radius:12px;padding:14px"><div style="font-size:11px;color:#a5b4fc;font-weight:700;margin-bottom:8px">ğŸ¯ Top Performing Videos</div><div style="font-size:12px;color:rgba(255,255,255,0.6);line-height:1.9">1. "AI Booking Demo" â€” 18.4K views<br/>2. "Reduce No-Shows 67%" â€” 12.1K views<br/>3. "Salon Tech 2026" â€” 9.8K views</div></div>
        <div style="background:rgba(16,185,129,0.08);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:14px"><div style="font-size:11px;color:#6ee7b7;font-weight:700;margin-bottom:8px">ğŸ“ˆ Growth Opportunities</div><div style="font-size:12px;color:rgba(255,255,255,0.6);line-height:1.9">â€¢ Post Shorts 3-4x/week<br/>â€¢ Optimize thumbnails for CTR<br/>â€¢ Target "salon software" keyword</div></div>
      </div>
    </div>
  </div>

  <div id="ytp-seo" class="yt-sub-panel" style="display:none">
    <div class="card"><div class="sh"><div class="sh-icon">ğŸ”</div><div><div style="color:white;font-weight:700;font-size:15.5px">SEO Title &amp; Description Optimizer</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Rank higher Â· More clicks Â· Better discovery</div></div></div>
      <div class="divider"></div>
      <div style="margin-bottom:12px"><div class="lbl">Video Topic / Raw Title</div><input id="seoRawTitle" class="inp" placeholder="e.g. How Zenoti AI reduces salon no-shows by 67%"/></div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">
        <div><div class="lbl">Target Keyword</div><input id="seoKeyword" class="inp" placeholder="e.g. salon booking software"/></div>
        <div><div class="lbl">Category</div><select id="seoCategory" class="sel"><option>How-to / Tutorial</option><option>Product Demo</option><option>Case Study</option><option>Industry Trends</option><option>Customer Story</option></select></div>
      </div>
      <button class="btn" onclick="genSEO()" id="seoBtn" style="background:linear-gradient(135deg,#6366f1,#8b5cf6);margin-bottom:16px">ğŸ” Optimize for YouTube SEO â€” Free</button>
      <div id="seoOut"></div>
    </div>
  </div>

  <div id="ytp-ideas" class="yt-sub-panel" style="display:none">
    <div class="card"><div class="sh"><div class="sh-icon">ğŸ’¡</div><div><div style="color:white;font-weight:700;font-size:15.5px">Video Ideas Generator</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">AI-powered ideas tailored to Zenoti's audience</div></div></div>
      <div class="divider"></div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">
        <div><div class="lbl">Niche</div><select id="ideasNiche" class="sel"><option>Salon Business Growth</option><option>Spa &amp; Wellness Tech</option><option>AI in Beauty</option><option>Customer Success Stories</option><option>Product Features &amp; Demos</option></select></div>
        <div><div class="lbl">Format</div><select id="ideasFormat" class="sel"><option>Mix of all formats</option><option>Long-form only</option><option>YouTube Shorts only</option><option>Tutorial series</option></select></div>
      </div>
      <div style="margin-bottom:14px"><div class="lbl">Additional Context</div><input id="ideasContext" class="inp" placeholder="e.g. targeting salon owners who haven't tried AI yet..."/></div>
      <button class="btn" onclick="genVideoIdeas()" id="ideasBtn" style="background:linear-gradient(135deg,#f59e0b,#ef4444);margin-bottom:16px">ğŸ’¡ Generate 10 Video Ideas â€” Free</button>
      <div id="ideasOut"></div>
    </div>
  </div>

  <div id="ytp-thumbnail" class="yt-sub-panel" style="display:none">
    <div class="card"><div class="sh"><div class="sh-icon">ğŸ–¼ï¸</div><div><div style="color:white;font-weight:700;font-size:15.5px">AI Thumbnail Generator</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">High-CTR concepts + Freepik AI image</div></div></div>
      <div class="divider"></div>
      <div style="margin-bottom:12px"><div class="lbl">Video Title</div><input id="thumbTitle" class="inp" placeholder="e.g. How We Reduced No-Shows by 67% Using AI"/></div>
      <div class="lbl">Thumbnail Style</div>
      <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:14px">
        <button onclick="selThumbStyle(this,'facecam')" class="thumb-style-btn" style="background:linear-gradient(135deg,rgba(99,102,241,0.3),rgba(99,102,241,0.15));border:2px solid rgba(99,102,241,0.7);border-radius:12px;padding:10px;cursor:pointer;text-align:center;color:white"><div style="font-size:20px;margin-bottom:4px">ğŸ¤³</div><div style="font-size:11px;font-weight:700">Face + Text</div></button>
        <button onclick="selThumbStyle(this,'graphic')" class="thumb-style-btn" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.08);border-radius:12px;padding:10px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:20px;margin-bottom:4px">ğŸ¨</div><div style="font-size:11px;font-weight:700">Bold Graphic</div></button>
        <button onclick="selThumbStyle(this,'beforeafter')" class="thumb-style-btn" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.08);border-radius:12px;padding:10px;cursor:pointer;text-align:center;color:rgba(255,255,255,0.5)"><div style="font-size:20px;margin-bottom:4px">âš¡</div><div style="font-size:11px;font-weight:700">Before/After</div></button>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">
        <div><div class="lbl">Thumbnail Text</div><input id="thumbText" class="inp" placeholder="e.g. 67% FEWER NO-SHOWS"/></div>
        <div><div class="lbl">Color Scheme</div><select id="thumbColor" class="sel"><option value="red and white, bold contrast">ğŸ”´ Red &amp; White</option><option value="deep purple and gold, luxury">ğŸŸ£ Purple &amp; Gold</option><option value="bright yellow and black, high contrast">ğŸŸ¡ Yellow &amp; Black</option><option value="teal and white, professional">ğŸŸ¦ Teal &amp; White</option></select></div>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
        <button class="btn" onclick="genThumbConcept()" id="thumbConceptBtn" style="background:linear-gradient(135deg,#6366f1,#8b5cf6)">ğŸ¨ Generate Concepts â€” Free</button>
        <button class="btn" onclick="genThumbImage()" id="thumbImgBtn" style="background:linear-gradient(135deg,#10b981,#6366f1)">ğŸ–¼ï¸ Generate Real Image</button>
      </div>
      <div id="thumbOut" style="margin-top:16px"></div>
      <div id="thumbImgStatus" style="margin-top:8px"></div>
      <div id="thumbImgOut" style="margin-top:8px"></div>
    </div>
  </div>

  <div id="ytp-shorts" class="yt-sub-panel" style="display:none">
    <div class="card"><div class="sh"><div class="sh-icon">ğŸ©³</div><div><div style="color:white;font-weight:700;font-size:15.5px">YouTube Shorts Storyboard</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Scene-by-scene script + visual direction</div></div></div>
      <div class="divider"></div>
      <div style="margin-bottom:12px"><div class="lbl">Short Video Topic</div><input id="shortsTopicInput" class="inp" placeholder="e.g. 3 ways AI eliminates salon no-shows"/></div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">
        <div><div class="lbl">Hook Style</div><select id="shortsHookStyle" class="sel"><option>Shocking stat / fact</option><option>Question hook</option><option>Story hook</option><option>Controversial take</option><option>Before/After reveal</option></select></div>
        <div><div class="lbl">CTA Goal</div><select id="shortsCTA" class="sel"><option>Subscribe</option><option>Visit website</option><option>Book a demo</option><option>Comment engagement</option></select></div>
      </div>
      <button class="btn" onclick="genShortsStoryboard()" id="shortsBtn" style="background:linear-gradient(135deg,#ec4899,#8b5cf6);margin-bottom:16px">ğŸ©³ Generate Storyboard â€” Free</button>
      <div id="shortsOut"></div>
    </div>
  </div>

  <div id="ytp-comments" class="yt-sub-panel" style="display:none">
    <div class="card"><div class="sh"><div class="sh-icon">ğŸ’¬</div><div><div style="color:white;font-weight:700;font-size:15.5px">Comment Reply AI</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Turn comments into conversions</div></div></div>
      <div class="divider"></div>
      <div style="margin-bottom:12px"><div class="lbl">Paste YouTube Comment</div><textarea id="commentInput" class="inp" rows="3" placeholder="e.g. This looks amazing! How much does Zenoti cost?"></textarea></div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">
        <div><div class="lbl">Comment Type</div><select id="commentType" class="sel"><option>Genuine question</option><option>Positive praise</option><option>Negative / complaint</option><option>Pricing inquiry</option><option>Feature request</option></select></div>
        <div><div class="lbl">Reply Goal</div><select id="commentGoal" class="sel"><option>Book a demo</option><option>Visit website</option><option>Build community</option><option>Handle objection</option></select></div>
      </div>
      <button class="btn" onclick="genCommentReplies()" id="commentBtn" style="background:linear-gradient(135deg,#10b981,#6366f1);margin-bottom:16px">ğŸ’¬ Generate 3 Reply Variants â€” Free</button>
      <div id="commentOut"></div>
    </div>
  </div>

  <div id="ytp-competitor" class="yt-sub-panel" style="display:none">
    <div class="card"><div class="sh"><div class="sh-icon">ğŸ”¬</div><div><div style="color:white;font-weight:700;font-size:15.5px">Competitor Channel Analyzer</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Find content gaps Â· Win</div></div></div>
      <div class="divider"></div>
      <div style="margin-bottom:12px"><div class="lbl">Competitor Channel / Brand Name</div><input id="competitorName" class="inp" placeholder="e.g. Mindbody, Vagaro, Boulevard..."/></div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">
        <div><div class="lbl">Their Estimated Size</div><select id="competitorSize" class="sel"><option>Small (&lt;10K subs)</option><option>Medium (10K-100K subs)</option><option>Large (100K+ subs)</option></select></div>
        <div><div class="lbl">Analysis Focus</div><select id="competitorFocus" class="sel"><option>Content strategy gaps</option><option>SEO keyword opportunities</option><option>Audience sentiment</option><option>Full competitor overview</option></select></div>
      </div>
      <button class="btn" onclick="genCompetitorAnalysis()" id="competitorBtn" style="background:linear-gradient(135deg,#ef4444,#f59e0b);margin-bottom:16px">ğŸ”¬ Analyze Competitor â€” Free</button>
      <div id="competitorOut"></div>
    </div>
  </div>

  <div id="ytp-monetize" class="yt-sub-panel" style="display:none">
    <div class="card"><div class="sh"><div class="sh-icon">ğŸ’°</div><div><div style="color:white;font-weight:700;font-size:15.5px">Monetization Estimator</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Revenue projections + strategy</div></div></div>
      <div class="divider"></div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">
        <div><div class="lbl">Monthly Views</div><input type="number" id="monoViews" class="inp" placeholder="142000" oninput="calcMonetization()"/></div>
        <div><div class="lbl">Subscribers</div><input type="number" id="monoSubs" class="inp" placeholder="8200" oninput="calcMonetization()"/></div>
        <div><div class="lbl">Avg Video Length</div><select id="monoLength" class="sel" onchange="calcMonetization()"><option value="short">Shorts / Under 3 min</option><option value="medium" selected>3-10 minutes</option><option value="long">10+ minutes</option></select></div>
        <div><div class="lbl">Content Niche</div><select id="monoNiche" class="sel" onchange="calcMonetization()"><option value="saas">SaaS / Business Software</option><option value="beauty">Beauty &amp; Wellness</option><option value="education">Education / How-to</option><option value="tech">Tech / AI</option></select></div>
      </div>
      <div id="monoOut" style="display:none">
        <div class="sec-div"></div>
        <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:16px">
          <div style="background:rgba(251,191,36,0.08);border:1px solid rgba(251,191,36,0.2);border-radius:14px;padding:16px;text-align:center"><div style="font-size:11px;color:#fde68a;font-weight:700;margin-bottom:6px">ğŸ“º AdSense (monthly)</div><div id="mono-adsense" style="font-size:24px;font-weight:800;color:white"></div><div id="mono-rpm" style="font-size:10px;color:rgba(255,255,255,0.4);margin-top:4px"></div></div>
          <div style="background:rgba(16,185,129,0.08);border:1px solid rgba(16,185,129,0.2);border-radius:14px;padding:16px;text-align:center"><div style="font-size:11px;color:#6ee7b7;font-weight:700;margin-bottom:6px">ğŸ¤ Sponsorships</div><div id="mono-sponsor" style="font-size:24px;font-weight:800;color:white"></div><div style="font-size:10px;color:rgba(255,255,255,0.4);margin-top:4px">per sponsored video</div></div>
          <div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2);border-radius:14px;padding:16px;text-align:center"><div style="font-size:11px;color:#a5b4fc;font-weight:700;margin-bottom:6px">ğŸ¯ Lead Gen Value</div><div id="mono-leads" style="font-size:24px;font-weight:800;color:white"></div><div style="font-size:10px;color:rgba(255,255,255,0.4);margin-top:4px">est. pipeline/mo</div></div>
          <div style="background:rgba(236,72,153,0.08);border:1px solid rgba(236,72,153,0.2);border-radius:14px;padding:16px;text-align:center"><div style="font-size:11px;color:#f9a8d4;font-weight:700;margin-bottom:6px">ğŸ’ Total Potential</div><div id="mono-total" style="font-size:24px;font-weight:800;color:white"></div></div>
        </div>
        <div id="mono-strategy"></div>
      </div>
      <div id="monoEmpty" style="text-align:center;padding:30px;color:rgba(255,255,255,0.25);font-size:13px">Enter your channel stats above to see revenue projections</div>
      <div class="sec-div"></div>
      <button class="btn" onclick="genMonetizationStrategy()" id="monoStratBtn" style="background:linear-gradient(135deg,#f59e0b,#10b981)">ğŸ’¡ Generate Monetization Strategy â€” Free</button>
      <div id="monoStratOut" style="margin-top:16px"></div>
    </div>
  </div>
</div>

</div>
<script>
// â”€â”€ CONSTANTS â”€â”€
var PC={linkedin:'#0077b5',instagram:'#e1306c',twitter:'#1da1f2',facebook:'#1877f2',youtube:'#ff0000'};
var PI={linkedin:'ğŸ’¼',instagram:'ğŸ“¸',twitter:'ğŸ¦',facebook:'ğŸ‘¥',youtube:'â–¶ï¸'};
var PL={linkedin:'LinkedIn',instagram:'Instagram',twitter:'X/Twitter',facebook:'Facebook',youtube:'YouTube'};
var PM={linkedin:3000,instagram:2200,twitter:280,facebook:500,youtube:5000};
var PT={linkedin:'professional, insightful',instagram:'visual, engaging, emotional',twitter:'punchy, witty, concise',facebook:'friendly, community-driven',youtube:'educational, engaging, storytelling'};
var adBD={instagram:{cpc:1.28,cpl:12.5,ctr:1.08,roas:3.2,rpd:420},linkedin:{cpc:5.26,cpl:35.0,ctr:0.65,roas:2.1,rpd:180},facebook:{cpc:0.97,cpl:10.2,ctr:1.32,roas:3.8,rpd:510},twitter:{cpc:1.35,cpl:14.0,ctr:0.90,roas:2.5,rpd:380},youtube:{cpc:2.10,cpl:22.0,ctr:0.85,roas:2.8,rpd:300}};
var monoRPM={saas:{short:1.2,medium:4.5,long:6.8},beauty:{short:1.0,medium:3.2,long:4.8},education:{short:0.9,medium:3.8,long:5.5},tech:{short:1.4,medium:5.2,long:7.5}};
var igPD=[['ğŸ¬ Reels',91,'#e1306c','4.8% eng Â· 3.2x reach'],['ğŸ  Carousel',85,'#c026d3','3.6% eng Â· Highest saves'],['â­• Stories',72,'#9333ea','82% completion'],['ğŸ–¼ï¸ Static',64,'#6366f1','2.1% eng'],['ğŸ”— Link',38,'#3b82f6','0.9% eng']];
var igTD=[{tag:'#GoZenoti',reach:'18.4K',color:'#e1306c'},{tag:'#SalonTech',reach:'142K',color:'#c026d3'},{tag:'#BeautyAndWellness',reach:'98K',color:'#9333ea'},{tag:'#MedSpa',reach:'76K',color:'#6366f1'},{tag:'#AIBeauty',reach:'54K',color:'#3b82f6'},{tag:'#SpaLife',reach:'211K',color:'#0ea5e9'},{tag:'#WellnessTech',reach:'38K',color:'#10b981'},{tag:'#SalonOwner',reach:'89K',color:'#f59e0b'}];
var liPD=[['ğŸ“„ Document',92,'#0077b5','5.2% eng Â· Top saves'],['ğŸ¬ Native Video',86,'#0ea5e9','4.1% eng'],['âœï¸ Text Post',78,'#6366f1','3.8% eng'],['ğŸ—³ï¸ Poll',71,'#8b5cf6','Avg 340 votes'],['ğŸ“° Article',62,'#a855f7','SEO value'],['ğŸ”— Link',34,'#64748b','Penalized']];
var liID=[{icon:'âš¡',text:'Posts shown to only ~1.6% of followers initially â€” early engagement determines viral fate',bg:'rgba(245,158,11,0.07)',bd:'rgba(245,158,11,0.2)'},{icon:'ğŸ’¬',text:'Comments are 15x more valuable than likes â€” reply within 60 min to trigger second wave',bg:'rgba(16,185,129,0.07)',bd:'rgba(16,185,129,0.2)'},{icon:'â°',text:'First 90 min is the golden window â€” schedule 8-10 AM Tue/Wed/Thu',bg:'rgba(99,102,241,0.08)',bd:'rgba(99,102,241,0.2)'},{icon:'ğŸ“„',text:'Documents get 3x more saves â€” saves signal topic authority to the algorithm',bg:'rgba(168,85,247,0.07)',bd:'rgba(168,85,247,0.2)'},{icon:'ğŸ‘¤',text:'Employee posts get 2.75x more impressions â€” tag team members',bg:'rgba(239,68,68,0.07)',bd:'rgba(239,68,68,0.2)'}];
var liRD=[['Salon/Spa Owner',42,'#0077b5'],['C-Suite / VP',18,'#6366f1'],['Product Manager',14,'#8b5cf6'],['Marketing Lead',13,'#ec4899'],['Operations',13,'#10b981']];
var liInD=[['Health & Wellness',38,'#0077b5'],['Hospitality',22,'#10b981'],['Beauty & Personal Care',19,'#e1306c'],['Retail & eComm',11,'#f59e0b'],['Technology',10,'#6366f1']];
var ytAnalyticsPD=[['ğŸ“¹ Long-form (8-15min)',88,'#ff0000','High watch time'],['ğŸ©³ YouTube Shorts',82,'#ff4444','Fast growth'],['ğŸ“ Tutorial',79,'#ff6b35','High search'],['ğŸ“¢ Product Demo',71,'#ff9500','Good conversions'],['ğŸ™ï¸ Podcast',58,'#ffcc00','Loyal audience']];
var ytAnalyticsInsights=[{icon:'ğŸ”',text:'Search is #1 discovery â€” optimise title, description and tags with exact keywords your audience uses',bg:'rgba(255,0,0,0.07)',bd:'rgba(255,0,0,0.2)'},{icon:'ğŸ“Œ',text:'First 30 seconds decide everything â€” hook viewers immediately or the algorithm buries the video',bg:'rgba(245,158,11,0.07)',bd:'rgba(245,158,11,0.2)'},{icon:'ğŸ‘†',text:'CTR is king â€” compelling thumbnail + title gets more impressions than any other factor',bg:'rgba(99,102,241,0.08)',bd:'rgba(99,102,241,0.2)'},{icon:'ğŸ©³',text:'YouTube Shorts feed subscribers into long-form â€” post 3-4 Shorts per week',bg:'rgba(16,185,129,0.07)',bd:'rgba(16,185,129,0.2)'},{icon:'ğŸ’¬',text:'Comments in first hour signal quality â€” pin a question to drive engagement right after upload',bg:'rgba(168,85,247,0.07)',bd:'rgba(168,85,247,0.2)'}];
var allTrends=[{topic:'AI in Beauty & Wellness',score:96,delta:'+42%',plats:['ğŸ“¸','ğŸ’¼','ğŸ¦'],tag:'ğŸ”¥ Breakout',filter:['all','ig','li','tw']},{topic:'MedSpa Automation',score:88,delta:'+38%',plats:['ğŸ“¸','ğŸ’¼'],tag:'ğŸ“ˆ Rising',filter:['all','ig','li']},{topic:'Salon Booking Software',score:84,delta:'+31%',plats:['ğŸ’¼','ğŸ‘¥'],tag:'ğŸ“ˆ Rising',filter:['all','li']},{topic:'Self-Care Sunday',score:80,delta:'+27%',plats:['ğŸ“¸','ğŸ‘¥'],tag:'âœ… Steady',filter:['all','ig']},{topic:'AI Appointment Booking',score:76,delta:'+24%',plats:['ğŸ’¼','ğŸ¦'],tag:'âœ… Steady',filter:['all','li','tw']},{topic:'Wellness Tech 2026',score:73,delta:'+19%',plats:['ğŸ’¼','ğŸ¦'],tag:'âœ… Steady',filter:['all','li','tw']},{topic:'Spa Industry Trends',score:70,delta:'+16%',plats:['ğŸ“¸','ğŸ‘¥'],tag:'âœ… Steady',filter:['all','ig']},{topic:'Beauty Business Tips',score:66,delta:'+12%',plats:['ğŸ“¸','ğŸ‘¥','ğŸ¦'],tag:'âœ… Steady',filter:['all','ig','tw']}];
var calMeta={1:{caption:'Show how Zenoti AI booking works in 60 seconds.',hashtags:'#GoZenoti #AIBooking #SalonTech',cta:'Link in bio to book a free demo ğŸ‘†'},2:{caption:'The beauty industry is at an inflection point.',hashtags:'#SalonTech #BeautyAndWellness',cta:'Drop a comment ğŸ‘‡'},3:{caption:'5 wellness trends reshaping spas and salons in 2026.',hashtags:'#WellnessTrends #SpaLife',cta:'Follow for more insights'},4:{caption:'Swipe to see real client transformations powered by Zenoti.',hashtags:'#BeforeAndAfter #GoZenoti',cta:'DM us ğŸ’¬'},5:{caption:'LIVE WEBINAR: How top salons are using AI to 2x revenue.',hashtags:'#Webinar #SalonBusiness',cta:'Register free â€” link in bio'},6:{caption:'We reduced no-shows by 67% in 30 days.',hashtags:'#CustomerSuccess #GoZenoti',cta:'Read full story â€” link in bio'},7:{caption:'Quick poll for salon owners.',hashtags:'#SalonOwner #BeautyBiz',cta:'Vote and share!'}};

// â”€â”€ STATE â”€â”€
var S={viralPlat:'linkedin',postType:'text',selPlats:['linkedin','instagram'],tone:'Professional',adPlatform:'instagram',adObjective:'Brand Awareness',ytScriptType:'long',trendFilter:'all',thumbStyleSel:'facecam',
  cal:[{id:1,pl:'instagram',type:'Reels',topic:'AI Booking Demo',score:94,time:'Mon 6pm',st:'scheduled'},{id:2,pl:'linkedin',type:'Article',topic:'Future of Salon Tech',score:88,time:'Tue 9am',st:'pending'},{id:3,pl:'twitter',type:'Thread',topic:'5 Wellness Trends 2026',score:85,time:'Wed 12pm',st:'pending'},{id:4,pl:'instagram',type:'Carousel',topic:'Before & After Gallery',score:91,time:'Wed 6pm',st:'scheduled'},{id:5,pl:'facebook',type:'Event',topic:'Zenoti Webinar Live',score:79,time:'Thu 2pm',st:'pending'},{id:6,pl:'linkedin',type:'Video',topic:'Customer Success Story',score:92,time:'Fri 10am',st:'pending'},{id:7,pl:'twitter',type:'Poll',topic:'Biggest Salon Challenge?',score:83,time:'Fri 1pm',st:'scheduled'}]
};

// â”€â”€ HELPERS â”€â”€
function G(id){return document.getElementById(id);}
function setH(id,h){var el=G(id);if(el)el.innerHTML=h;}
function getV(id){var el=G(id);return el?el.value.trim():'';}
function errMsg(id,msg){setH(id,'<div style="background:rgba(239,68,68,0.08);border:1px solid rgba(239,68,68,0.3);border-radius:12px;padding:12px 16px;color:#fca5a5;font-size:13px">âŒ '+msg+'</div>');}
function ldBtn(b,m){b.disabled=true;b.innerHTML='<span style="width:14px;height:14px;border:2px solid rgba(255,255,255,0.3);border-top:2px solid white;border-radius:50%;animation:spin 1s linear infinite;display:inline-block;flex-shrink:0"></span> '+m;}
function doneBtn(b,l){b.disabled=false;b.innerHTML=l;}
function sleep(ms){return new Promise(function(r){setTimeout(r,ms);});}
function esc(s){return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;');}
function hov(el,s1,s2,bc){el.style.transform='translateY(-6px) scale(1.03)';el.style.boxShadow='0 0 0 2px '+s1+',0 16px 40px '+s2;el.style.borderColor=bc;}
function unHov(el,bc){el.style.transform='';el.style.boxShadow='';el.style.borderColor=bc;}
async function freeAI(prompt){var r=await fetch('https://text.pollinations.ai/'+encodeURIComponent(prompt),{headers:{'Accept':'text/plain'}});return await r.text();}
function safeJSON(raw){return JSON.parse(raw.replace(/```json|```/g,'').trim());}

// â”€â”€ TAB SWITCH â”€â”€
function switchTab(id){
  document.querySelectorAll('.tab-panel').forEach(function(p){p.style.display='none';});
  var panel=G('panel-'+id);if(!panel)return;
  panel.style.display='block';
  panel.querySelectorAll('.card').forEach(function(c,i){c.style.animation='none';c.offsetHeight;c.style.animation='cardSlideUp 0.5s '+(i*0.1)+'s cubic-bezier(0.22,1,0.36,1) both';});
  if(id==='analytics')renderAnalytics();
  if(id==='calendar')renderCal();
  if(id==='ads'){renderAdBenchmarks();}
  if(id==='youtube'){showYTTab('analytics');}
  setTimeout(function(){var top=panel.getBoundingClientRect().top+window.pageYOffset-16;window.scrollTo({top:top,behavior:'smooth'});},50);
}

// â”€â”€ YOUTUBE STUDIO TABS â”€â”€
function showYTTab(id){
  document.querySelectorAll('.yt-sub-panel').forEach(function(p){p.style.display='none';});
  var panel=G('ytp-'+id);if(panel)panel.style.display='block';
  document.querySelectorAll('.yts-btn').forEach(function(b){b.style.background='rgba(255,255,255,0.03)';b.style.borderColor='rgba(255,255,255,0.08)';b.style.color='rgba(255,255,255,0.5)';});
  var btn=G('yts-'+id);
  if(btn){btn.style.background='linear-gradient(135deg,rgba(255,0,0,0.2),rgba(255,80,0,0.12))';btn.style.borderColor='rgba(255,0,0,0.45)';btn.style.color='white';}
  if(id==='analytics')renderYTAnalytics();
  if(id==='monetize')calcMonetization();
}

// â”€â”€ ANALYTICS â”€â”€
function barHTML(arr,prefix,minW){
  return arr.map(function(d,i){
    return '<div class="bar-row"><span style="min-width:'+(minW||'110px')+';font-size:12.5px;color:rgba(255,255,255,0.72);font-weight:600">'+d[0]+'</span><div class="mbar" style="height:8px"><div id="'+prefix+i+'" style="height:8px;border-radius:6px;width:0%;background:linear-gradient(90deg,'+d[2]+','+d[2]+'88);transition:width 0.85s '+(0.25+i*0.09)+'s ease"></div></div><span style="min-width:26px;font-size:12.5px;font-weight:800;color:'+d[2]+'">'+d[1]+'</span><span style="font-size:10px;color:rgba(255,255,255,0.28);padding-left:4px">'+d[3]+'</span></div>';
  }).join('');
}
function smallBarHTML(arr,prefix){
  return arr.map(function(d,i){
    return '<div style="display:flex;align-items:center;gap:8px;margin-bottom:9px"><span style="font-size:11px;color:rgba(255,255,255,0.5);min-width:95px">'+d[0]+'</span><div class="mbar"><div id="'+prefix+i+'" style="height:6px;border-radius:4px;width:0%;background:'+d[2]+';transition:width 0.8s '+(0.25+i*0.09)+'s ease"></div></div><span style="font-size:11px;font-weight:700;color:'+d[2]+';min-width:28px">'+d[1]+'%</span></div>';
  }).join('');
}
function renderAnalytics(){
  setH('ig-perf',barHTML(igPD,'igb','110px'));
  setH('li-perf',barHTML(liPD,'lib','130px'));
  setH('ig-tags','<div style="display:flex;flex-wrap:wrap;gap:0;margin-bottom:8px">'+igTD.map(function(h,i){return '<span style="display:inline-block;margin:3px;background:'+h.color+'18;border:1px solid '+h.color+'40;border-radius:20px;font-size:11.5px;color:'+h.color+';padding:5px 12px;font-weight:700;animation:tagFadeIn 0.4s '+(0.08+i*0.05)+'s both">'+h.tag+' <span style="opacity:0.5;font-size:10px">Â· '+h.reach+'</span></span>';}).join('')+'</div>');
  setH('li-insights',liID.map(function(ins){return '<div class="insight-row" style="background:'+ins.bg+';border:1px solid '+ins.bd+'"><span style="font-size:16px;flex-shrink:0">'+ins.icon+'</span><span style="font-size:12px;color:rgba(255,255,255,0.65);line-height:1.65">'+ins.text+'</span></div>';}).join(''));
  setH('li-roles',smallBarHTML(liRD,'rb'));
  setH('li-industries',smallBarHTML(liInD,'ib'));
  setTimeout(function(){
    igPD.forEach(function(d,i){var el=G('igb'+i);if(el)el.style.width=d[1]+'%';});
    liPD.forEach(function(d,i){var el=G('lib'+i);if(el)el.style.width=d[1]+'%';});
    liRD.forEach(function(d,i){var el=G('rb'+i);if(el)el.style.width=d[1]+'%';});
    liInD.forEach(function(d,i){var el=G('ib'+i);if(el)el.style.width=d[1]+'%';});
  },60);
  renderTrendRows(allTrends,'trending','tr');
}
function renderYTAnalytics(){
  setH('yt-analytics-perf',barHTML(ytAnalyticsPD,'ytab','150px'));
  setH('yt-analytics-insights',ytAnalyticsInsights.map(function(ins){return '<div class="insight-row" style="background:'+ins.bg+';border:1px solid '+ins.bd+'"><span style="font-size:16px;flex-shrink:0">'+ins.icon+'</span><span style="font-size:12px;color:rgba(255,255,255,0.65);line-height:1.65">'+ins.text+'</span></div>';}).join(''));
  setTimeout(function(){ytAnalyticsPD.forEach(function(d,i){var el=G('ytab'+i);if(el)el.style.width=d[1]+'%';});},60);
}

function trendScoreColor(s){return s>=85?'#ef4444':s>=75?'#f59e0b':'#10b981';}
function renderTrendRows(list,containerId,prefix){
  var tEl=G(containerId);if(!tEl)return;
  var rows='';
  list.forEach(function(t,i){
    var c=trendScoreColor(t.score),bg=t.score>=85?'rgba(239,68,68,0.12)':t.score>=75?'rgba(245,158,11,0.12)':'rgba(16,185,129,0.12)';
    rows+='<div style="display:flex;align-items:center;gap:12px;padding:10px 12px;margin-bottom:6px;background:rgba(255,255,255,0.025);border:1px solid rgba(255,255,255,0.06);border-radius:12px"><div style="width:26px;height:26px;border-radius:8px;background:linear-gradient(135deg,rgba(99,102,241,0.35),rgba(168,85,247,0.35));display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:800;color:#a5b4fc;flex-shrink:0">'+(i+1)+'</div><div style="flex:1;min-width:0"><div style="font-size:13px;font-weight:700;color:white;margin-bottom:3px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap">'+t.topic+'</div><div style="display:flex;gap:5px"><span style="font-size:9.5px;background:rgba(255,255,255,0.06);border-radius:20px;padding:2px 7px;color:rgba(255,255,255,0.4)">'+t.tag+'</span><span style="font-size:10px;color:rgba(255,255,255,0.25)">'+t.plats.join(' ')+'</span></div></div><div style="display:flex;align-items:center;gap:8px;flex-shrink:0"><div style="width:50px;height:5px;background:rgba(255,255,255,0.06);border-radius:3px;overflow:hidden"><div id="'+prefix+i+'" style="height:5px;border-radius:3px;width:0;background:'+c+';transition:width 0.7s ease"></div></div><div style="background:'+bg+';border:1px solid '+c+'55;border-radius:20px;padding:3px 10px"><span style="font-size:12px;font-weight:800;color:'+c+'">'+t.score+'</span></div><span style="font-size:11px;font-weight:700;color:#10b981;min-width:36px;text-align:right">'+t.delta+'</span></div></div>';
  });
  tEl.innerHTML=rows;
  setTimeout(function(){list.forEach(function(t,i){var b=G(prefix+i);if(b)b.style.width=t.score+'%';});},50);
}
function showTrends(filter){
  S.trendFilter=filter;
  ['all','ig','li','tw'].forEach(function(k){var b=G('tt-'+k);if(b)b.classList.toggle('active',k===filter);});
  renderTrendRows(allTrends.filter(function(t){return t.filter.indexOf(filter)>=0;}),'trending','ftr');
}

// â”€â”€ CALENDAR â”€â”€
function renderCal(){
  var sch=S.cal.filter(function(x){return x.st==='scheduled';}).length;
  var pend=S.cal.filter(function(x){return x.st==='pending';}).length;
  var sc=G('schCount');if(sc)sc.textContent=sch+' Scheduled';
  var cb=G('calBadge');if(cb)cb.textContent=pend;
  function scoreColor(s){return s>=85?'#10b981':s>=70?'#f59e0b':'#ef4444';}
  function scoreLabel(s){return s>=85?'High Potential':s>=70?'Good':'Needs Work';}
  setH('calItems',S.cal.map(function(item){
    var isSch=item.st==='scheduled',meta=calMeta[item.id]||{caption:'',hashtags:'',cta:''},sc2=scoreColor(item.score);
    return '<div style="background:rgba(255,255,255,0.025);border:1px solid '+(isSch?'rgba(16,185,129,0.22)':'rgba(255,255,255,0.08)')+';border-radius:16px;padding:18px;margin-bottom:12px"><div style="display:flex;align-items:center;gap:12px;margin-bottom:14px"><div style="width:44px;height:44px;border-radius:13px;background:'+PC[item.pl]+'22;border:1px solid '+PC[item.pl]+'44;display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0">'+PI[item.pl]+'</div><div style="flex:1"><div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-bottom:5px"><span style="font-size:14px;font-weight:800;color:white">'+item.topic+'</span><span style="font-size:10.5px;background:'+PC[item.pl]+'22;color:'+PC[item.pl]+';padding:2px 9px;border-radius:20px;font-weight:700">'+item.type+'</span>'+(isSch?'<span style="font-size:10px;background:rgba(16,185,129,0.15);border:1px solid rgba(16,185,129,0.3);color:#6ee7b7;padding:2px 9px;border-radius:20px;font-weight:700">âœ“ Approved</span>':'')+' </div><div style="display:flex;gap:14px;align-items:center"><span style="font-size:11.5px;color:rgba(255,255,255,0.4)">â° '+item.time+'</span><span style="font-size:11.5px;color:rgba(255,255,255,0.4)">'+PL[item.pl]+'</span><div style="display:flex;align-items:center;gap:6px"><div style="width:6px;height:6px;border-radius:50%;background:'+sc2+'"></div><span style="font-size:11px;font-weight:700;color:'+sc2+'">'+item.score+' â€” '+scoreLabel(item.score)+'</span></div></div></div></div><div style="display:flex;align-items:center;gap:10px;margin-bottom:14px"><span style="font-size:10px;color:rgba(255,255,255,0.3);font-weight:600;white-space:nowrap">AI SCORE</span><div class="mbar"><div class="mbar-fill" style="width:'+item.score+'%;background:linear-gradient(90deg,'+sc2+','+sc2+'88)"></div></div><span style="font-size:11px;font-weight:800;color:'+sc2+';min-width:42px">'+item.score+'/100</span></div><div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07);border-radius:12px;padding:13px 15px;margin-bottom:12px"><div style="font-size:10px;color:rgba(255,255,255,0.3);font-weight:700;text-transform:uppercase;margin-bottom:7px">ğŸ“ Caption Preview</div><div style="font-size:12.5px;color:rgba(255,255,255,0.72);line-height:1.7;margin-bottom:8px">'+meta.caption+'</div><div style="font-size:11px;color:rgba(165,180,252,0.6);margin-bottom:6px">'+meta.hashtags+'</div><div style="font-size:11.5px;color:#6ee7b7;font-weight:600">'+meta.cta+'</div></div>'+(isSch?'<div style="display:flex;gap:8px"><button onclick="rejCal('+item.id+')" style="flex:1;background:rgba(239,68,68,0.08);border:1px solid rgba(239,68,68,0.22);border-radius:10px;color:#fca5a5;font-size:12.5px;font-weight:700;padding:9px;cursor:pointer">âœ• Remove</button></div>':'<div style="display:flex;gap:8px"><button onclick="appCal('+item.id+')" style="flex:2;background:linear-gradient(135deg,rgba(16,185,129,0.2),rgba(16,185,129,0.12));border:1px solid rgba(16,185,129,0.35);border-radius:10px;color:#6ee7b7;font-size:12.5px;font-weight:700;padding:10px;cursor:pointer">âœ“ Approve</button><button onclick="rejCal('+item.id+')" style="flex:1;background:rgba(239,68,68,0.08);border:1px solid rgba(239,68,68,0.22);border-radius:10px;color:#fca5a5;font-size:12.5px;font-weight:700;padding:10px;cursor:pointer">âœ• Reject</button></div>')+'</div>';
  }).join(''));
}
function appCal(id){S.cal=S.cal.map(function(x){return x.id===id?Object.assign({},x,{st:'scheduled'}):x;});renderCal();}
function rejCal(id){S.cal=S.cal.filter(function(x){return x.id!==id;});renderCal();}
function toggleUploadForm(){var f=G('uploadForm'),open=f.style.display==='block';f.style.display=open?'none':'block';if(!open){var t=new Date();t.setDate(t.getDate()+1);G('upDate').value=t.toISOString().split('T')[0];G('upTime').value='09:00';}}
function submitUpload(){
  var topic=getV('upTopic');if(!topic){alert('Please enter a topic');return;}
  var date=G('upDate').value,time=G('upTime').value;if(!date||!time){alert('Please set date and time');return;}
  var d=new Date(date+'T'+time),days=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],hr=d.getHours(),h12=hr%12||12,ampm=hr>=12?'pm':'am';
  var tl=days[d.getDay()]+' '+h12+ampm;
  var newId=Date.now();
  calMeta[newId]={caption:getV('upCaption')||'No caption.',hashtags:'#GoZenoti',cta:''};
  S.cal.push({id:newId,pl:G('upPlatform').value,type:G('upType').value,topic:topic,score:75,time:tl,st:'pending'});
  G('upTopic').value='';G('upCaption').value='';G('aiSuggestion').style.display='none';
  toggleUploadForm();renderCal();
}
async function aiEnhance(){
  var topic=getV('upTopic'),caption=getV('upCaption');if(!topic&&!caption){alert('Please enter a topic first');return;}
  var btn=G('aiEnhanceBtn'),status=G('aiEnhanceStatus');btn.style.display='none';status.style.display='block';G('aiSuggestion').style.display='none';
  try{var r=safeJSON(await freeAI('Enhance this post for Zenoti on '+PL[G('upPlatform').value]+'. Title: "'+topic+'" Caption: "'+caption+'". Return ONLY valid JSON: {"title":"enhanced","caption":"enhanced caption"}'));G('aiSugTitle').textContent=r.title;G('aiSugCaption').textContent=r.caption;G('aiSuggestion').style.display='block';}catch(e){alert('Enhance failed.');}
  btn.style.display='flex';status.style.display='none';
}
function applyAISuggestion(){G('upTopic').value=G('aiSugTitle').textContent;G('upCaption').value=G('aiSugCaption').textContent;G('aiSuggestion').style.display='none';}

// â”€â”€ ADS â”€â”€
function selAdPlat(el,pl){
  S.adPlatform=pl;
  var colors={instagram:'rgba(225,48,108',linkedin:'rgba(0,119,181',facebook:'rgba(24,119,242',twitter:'rgba(29,161,242',youtube:'rgba(255,0,0'};
  ['instagram','linkedin','facebook','twitter','youtube'].forEach(function(p){var b=G('adp-'+p);if(!b)return;var act=p===pl,c=colors[p];b.style.background=act?c+',0.15)':'rgba(255,255,255,0.03)';b.style.borderColor=act?c+',0.7)':'rgba(255,255,255,0.08)';b.style.color=act?'white':'rgba(255,255,255,0.5)';});
  calcROI();renderAdBenchmarks();
}
function selAdObj(el,obj){S.adObjective=obj;el.parentElement.querySelectorAll('.chip').forEach(function(c){c.classList.remove('active');});el.classList.add('active');}
function selAdType(el,type){
  var cols={text:'rgba(99,102,241',image:'rgba(16,185,129',video:'rgba(236,72,153',upload:'rgba(251,191,36'};
  ['text','image','video','upload'].forEach(function(t){var btn=G('adt-'+t),panel=G('adtype-'+t),act=t===type,c=cols[t];if(btn){btn.style.background=act?'linear-gradient(135deg,'+c+',0.3),'+c+',0.18))':'rgba(255,255,255,0.03)';btn.style.borderColor=act?c+',0.8)':'rgba(255,255,255,0.08)';btn.style.color=act?'white':'rgba(255,255,255,0.5)';}if(panel)panel.style.display=act?'block':'none';});
}
function calcROI(){
  var budget=parseFloat((G('adBudget')||{}).value)||0,days=parseInt((G('adDuration')||{}).value)||30;
  if(!budget){if(G('roiOut'))G('roiOut').style.display='none';if(G('roiEmpty'))G('roiEmpty').style.display='block';return;}
  var b=adBD[S.adPlatform]||adBD.instagram,total=budget*days,reach=Math.round(total*b.rpd),clicks=Math.round(total/b.cpc),leads=Math.round(total/b.cpl);
  G('roi-spend').textContent='$'+total.toLocaleString();G('roi-reach').textContent=reach>=1000?(reach/1000).toFixed(1)+'K':reach;G('roi-clicks').textContent=clicks>=1000?(clicks/1000).toFixed(1)+'K':clicks;G('roi-leads').textContent=leads;G('roi-cpc').textContent='$'+b.cpc.toFixed(2);G('roi-cpl').textContent='$'+b.cpl.toFixed(2);G('roi-roas').textContent=b.roas+'x return';
  G('roiOut').style.display='block';G('roiEmpty').style.display='none';
}
function renderAdBenchmarks(){
  var b=adBD[S.adPlatform]||adBD.instagram;
  var metrics=[['ğŸ“Š Avg CTR',b.ctr+'%','#a5b4fc'],['ğŸ‘† Avg CPC','$'+b.cpc,'#f9a8d4'],['ğŸ¯ Avg CPL','$'+b.cpl,'#6ee7b7'],['ğŸ“ˆ Avg ROAS',b.roas+'x','#fde68a'],['ğŸ“¡ Reach/$1',b.rpd+' people','#c4b5fd']];
  setH('adBenchmarks','<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">'+metrics.map(function(m){return '<div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07);border-radius:12px;padding:12px 14px;display:flex;justify-content:space-between;align-items:center"><span style="font-size:12px;color:rgba(255,255,255,0.5)">'+m[0]+'</span><span style="font-size:14px;font-weight:800;color:'+m[2]+'">'+m[1]+'</span></div>';}).join('')+'</div>');
}
async function enhAdText(fieldId,statusId,sugId,sugTxtId){
  var text=getV(fieldId);if(!text){alert('Please enter some copy first');return;}
  var statusEl=G(statusId);if(statusEl)statusEl.style.display='block';G(sugId).style.display='none';
  try{var r=safeJSON(await freeAI('Enhance this ad copy for Zenoti on '+S.adPlatform+': "'+text+'". Return ONLY valid JSON: {"enhanced":"improved copy"}'));G(sugTxtId).textContent=r.enhanced;G(sugId).style.display='block';}catch(e){alert('Enhance failed.');}
  if(statusEl)statusEl.style.display='none';
}
function applyEnh(fieldId,sugTxtId,sugId){G(fieldId).value=G(sugTxtId).textContent;G(sugId).style.display='none';}
async function genAd(){
  var brief=getV('adBrief');if(!brief){alert('Please enter an ad brief');return;}
  var btn=G('genAdBtn');ldBtn(btn,'Generating...');setH('adOut','');
  try{
    var r=safeJSON(await freeAI('Ad copywriter for Zenoti (@gozenoti). Create a '+S.adPlatform+' ad for '+S.adObjective+'. Brief: "'+brief+'". Target: "'+(getV('adAudience')||'salon owners')+'". Return ONLY valid JSON: {"headline":"short headline","primaryText":"2-3 sentence ad copy","cta":"button text","hashtags":"3-5 hashtags","hook":"opening line","whyItWorks":"one sentence strategy"}'));
    var pc=PC[S.adPlatform]||'#f59e0b';
    setH('adOut','<div style="background:rgba(255,255,255,0.025);border:1px solid rgba(255,255,255,0.08);border-radius:16px;overflow:hidden"><div style="background:linear-gradient(135deg,rgba(99,102,241,0.15),rgba(168,85,247,0.1));padding:12px 16px;border-bottom:1px solid rgba(255,255,255,0.06);display:flex;align-items:center;justify-content:space-between"><div style="display:flex;align-items:center;gap:8px"><div style="width:32px;height:32px;border-radius:8px;background:linear-gradient(135deg,#6366f1,#8b5cf6);display:flex;align-items:center;justify-content:center;font-size:16px">'+PI[S.adPlatform]+'</div><div><div style="font-size:12px;font-weight:700;color:white">@gozenoti</div><div style="font-size:10px;color:rgba(255,255,255,0.35)">Sponsored</div></div></div><span style="font-size:10px;background:'+pc+'22;color:'+pc+';border:1px solid '+pc+'44;border-radius:20px;padding:3px 10px;font-weight:700">'+PL[S.adPlatform]+' Ad</span></div><div style="padding:16px"><div style="font-size:14px;font-weight:800;color:white;margin-bottom:8px">'+r.headline+'</div><div style="font-size:13px;color:rgba(255,255,255,0.72);line-height:1.7;margin-bottom:10px">'+r.primaryText+'</div><div style="font-size:11px;color:#a5b4fc;margin-bottom:12px">'+r.hashtags+'</div><div style="display:flex;justify-content:space-between;align-items:center"><div style="background:linear-gradient(135deg,'+pc+','+pc+'cc);border-radius:8px;padding:8px 18px;font-size:12.5px;font-weight:700;color:white">'+r.cta+'</div><button onclick="navigator.clipboard.writeText(this.dataset.t)" data-t="'+esc(r.headline+'\n\n'+r.primaryText+'\n\n'+r.hashtags+'\n\nCTA: '+r.cta)+'" style="background:rgba(99,102,241,0.12);border:1px solid rgba(99,102,241,0.28);border-radius:8px;color:#a5b4fc;font-size:11.5px;padding:6px 13px;cursor:pointer">â˜ Copy</button></div></div><div style="border-top:1px solid rgba(255,255,255,0.06);padding:14px 16px;display:grid;grid-template-columns:1fr 1fr;gap:10px"><div style="background:rgba(99,102,241,0.08);border-radius:10px;padding:10px"><div style="font-size:9.5px;color:#a5b4fc;font-weight:700;text-transform:uppercase;margin-bottom:5px">ğŸª Hook</div><div style="font-size:12px;color:rgba(255,255,255,0.65);font-style:italic">"'+r.hook+'"</div></div><div style="background:rgba(16,185,129,0.08);border-radius:10px;padding:10px"><div style="font-size:9.5px;color:#6ee7b7;font-weight:700;text-transform:uppercase;margin-bottom:5px">ğŸ§  Why It Works</div><div style="font-size:12px;color:rgba(255,255,255,0.65)">'+r.whyItWorks+'</div></div></div></div><button onclick="genAd()" style="width:100%;margin-top:8px;background:transparent;border:1px solid rgba(245,158,11,0.22);border-radius:11px;color:rgba(253,230,138,0.55);font-size:12.5px;font-weight:600;padding:10px;cursor:pointer">ğŸ”„ Regenerate</button>');
  }catch(e){errMsg('adOut','Ad generation failed.');}
  doneBtn(btn,'ğŸ“£ Generate Ad Copy â€” Free');
}
async function freepikImg(prompt,size,fk){
  var res=await fetch('https://api.freepik.com/v1/ai/text-to-image',{method:'POST',headers:{'Content-Type':'application/json','x-freepik-api-key':fk},body:JSON.stringify({prompt:prompt,num_images:1,image:{size:size},filter_nsfw:true})});
  var data=await res.json();if(!res.ok)throw new Error(data&&data.message?data.message:'Freepik error');
  if(data&&data.data&&data.data.length&&data.data[0]){var it=data.data[0];return it.base64?'data:image/jpeg;base64,'+it.base64:it.url;}
  if(data&&data.data&&data.data.task_id){
    var tid=data.data.task_id;
    for(var i=0;i<20;i++){
      await sleep(4000);
      var p=await(await fetch('https://api.freepik.com/v1/ai/text-to-image/'+tid,{headers:{'x-freepik-api-key':fk}})).json();
      if(p&&p.data&&(p.data.status==='COMPLETED'||p.data.status==='OK')){var imgs=p.data.generated||p.data||[];if(imgs[0])return imgs[0].base64?'data:image/jpeg;base64,'+imgs[0].base64:imgs[0].url;}
      if(p&&p.data&&p.data.status==='FAILED')throw new Error('Task failed');
    }
  }
  throw new Error('No image returned');
}
async function genAdImage(){
  var fk=getV('freepikKey');if(!fk){alert('Add Freepik API key in Settings');return;}
  var prompt=getV('adImgPrompt');if(!prompt){alert('Please enter a visual prompt');return;}
  var btn=G('genAdImgBtn');ldBtn(btn,'Generating...');setH('adImgStatus','<div style="background:rgba(16,185,129,0.07);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:12px 16px;color:#6ee7b7;font-size:12.5px">â³ Generating via Freepik AI...</div>');setH('adImgOut','');
  try{var imgUrl=await freepikImg(prompt+', professional advertising style','widescreen_16_9',fk);setH('adImgStatus','<div style="background:rgba(16,185,129,0.1);border:1px solid rgba(16,185,129,0.3);border-radius:12px;padding:10px 14px;color:#6ee7b7;font-size:12px">âœ… Ad image generated!</div>');setH('adImgOut','<img src="'+imgUrl+'" style="width:100%;border-radius:12px;margin-top:8px"/>');}catch(e){setH('adImgStatus','');errMsg('adImgOut',e.message);}
  doneBtn(btn,'ğŸ–¼ï¸ Generate Ad Image');
}
async function genAdVideo(){
  var fk=getV('freepikKey');if(!fk){alert('Add Freepik API key in Settings');return;}
  var prompt=getV('adVidPrompt');if(!prompt){alert('Please enter a scene prompt');return;}
  var btn=G('genAdVidBtn');ldBtn(btn,'Submitting...');setH('adVidStatus','');setH('adVidOut','');
  try{
    var res=await fetch('https://api.freepik.com/v1/ai/video/kling-v3-pro',{method:'POST',headers:{'Content-Type':'application/json','x-freepik-api-key':fk},body:JSON.stringify({prompt:prompt,aspect_ratio:'16:9',duration:'5',negative_prompt:'blurry, low quality'})});
    var data=await res.json();if(!res.ok)throw new Error(data&&data.message?data.message:'Freepik error');
    var tid=data&&data.data&&data.data.task_id;if(!tid)throw new Error('No task ID');
    for(var i=0;i<40;i++){await sleep(5000);btn.innerHTML='Rendering... '+((i+1)*5)+'s';var p=await(await fetch('https://api.freepik.com/v1/ai/video/kling-v3-pro/'+tid,{headers:{'x-freepik-api-key':fk}})).json();if(p&&p.data&&(p.data.status==='COMPLETED'||p.data.status==='OK')){var url=p.data.generated&&p.data.generated[0]?p.data.generated[0].url:p.data.url;if(url){setH('adVidStatus','');setH('adVidOut','<video src="'+url+'" controls style="width:100%;border-radius:12px;margin-top:8px"></video>');break;}}if(p&&p.data&&p.data.status==='FAILED')throw new Error('Video failed');}
  }catch(e){setH('adVidStatus','');errMsg('adVidOut',e.message);}
  doneBtn(btn,'ğŸ¬ Generate Ad Video');
}
function handleAdUpload(input){var file=input.files[0];if(!file)return;var isV=file.type.startsWith('video/'),url=URL.createObjectURL(file);G('adUpIcon').textContent=isV?'ğŸ¬':'ğŸ–¼ï¸';G('adUpText').textContent=file.name;var p=G('adUpPreview');p.style.display='block';p.innerHTML=isV?'<video src="'+url+'" controls style="width:100%;border-radius:10px;max-height:200px"></video>':'<img src="'+url+'" style="width:100%;border-radius:10px;max-height:200px;object-fit:cover"/>';}
function previewUploadAd(){var copy=getV('adUpCopy'),file=G('adUpMedia').files[0];if(!copy){alert('Please enter ad copy');return;}if(!file){alert('Please upload a creative');return;}setH('adUpOut','<div style="background:rgba(255,255,255,0.025);border:1px solid rgba(251,191,36,0.2);border-radius:14px;overflow:hidden;padding:14px"><div style="font-size:13.5px;font-weight:700;color:white;margin-bottom:10px">'+copy+'</div>'+G('adUpPreview').innerHTML+'<div style="margin-top:10px;background:rgba(16,185,129,0.06);border-top:1px solid rgba(16,185,129,0.15);padding:10px;border-radius:8px;font-size:11px;color:#6ee7b7;font-weight:700">âœ… Ad Preview Ready â€” Publish via your ad platform</div></div>');}

// â”€â”€ POST GENERATION â”€â”€
function togPlat(el,p){el.classList.toggle('active');if(el.classList.contains('active')){if(S.selPlats.indexOf(p)<0)S.selPlats.push(p);}else{S.selPlats=S.selPlats.filter(function(x){return x!==p;});}}
function selTone(el,t){document.querySelectorAll('#panel-create .chip').forEach(function(c){if(c.getAttribute('onclick')&&c.getAttribute('onclick').indexOf('selTone')>=0)c.classList.remove('active');});el.classList.add('active');S.tone=t;}
function selVP(el,p){el.parentElement.querySelectorAll('.chip').forEach(function(c){c.classList.remove('active');});el.classList.add('active');S.viralPlat=p;}
function selPP(el,p){el.parentElement.querySelectorAll('.chip').forEach(function(c){c.classList.remove('active');});el.classList.add('active');G('persPlat').value=p;}
function selYTType(el,type){S.ytScriptType=type;['long','short','preroll'].forEach(function(t){var b=G('yt-'+t);if(b)b.classList.toggle('active',t===type);});var ls=G('ytLength');if(ls&&(type==='short'||type==='preroll'))ls.value='short';}
function selPostType(t){
  S.postType=t;var cols={text:'#6366f1',image:'#10b981',video:'#ec4899',youtube:'#ff0000'};
  ['text','image','video','youtube'].forEach(function(x){var b=G('pt-'+x);if(!b)return;var on=x===t,c=cols[x]||'#6366f1';b.style.background=on?'linear-gradient(135deg,'+c+'33,'+c+'18)':'rgba(255,255,255,0.03)';b.style.border='2px solid '+(on?c+'88':'rgba(255,255,255,0.07)');b.style.transform=on?'translateY(-2px)':'none';var old=b.querySelector('.chk');if(old)old.remove();if(on){var d=document.createElement('div');d.className='chk';d.style.cssText='margin-top:8px;width:22px;height:22px;border-radius:11px;background:'+c+';margin-left:auto;margin-right:auto;display:flex;align-items:center;justify-content:center;font-size:12px;color:white;font-weight:800';d.textContent='âœ“';b.appendChild(d);}});
  G('text-panel').style.display=t==='text'?'block':'none';G('image-panel').style.display=t==='image'?'block':'none';G('video-panel').style.display=t==='video'?'block':'none';G('youtube-panel').style.display=t==='youtube'?'block':'none';
}
async function analyzeViral(){
  var draft=getV('viralDraft');if(!draft){alert('Please enter a post draft');return;}
  var btn=G('viralBtn');ldBtn(btn,'Analyzing...');setH('viralResult','');
  try{
    var r=safeJSON(await freeAI('Analyze this '+S.viralPlat+' post for Zenoti. Return ONLY valid JSON. Post: "'+draft+'" {"viralScore":78,"engagementPrediction":"8-12%","reachEstimate":"45K-80K","hookStrength":72,"emotionalTrigger":85,"shareability":68,"clarity":90,"ctaStrength":60,"bestTimeToPost":"Wed 6-8pm","strengths":["point 1","point 2"],"improvements":["fix 1","fix 2"],"rewrittenHook":"better opening","verdict":"2-line assessment"}'));
    function sc(s){return s>=85?'#10b981':s>=70?'#f59e0b':'#ef4444';}
    function ring(score,lbl,sz){sz=sz||80;var r2=30,ci=2*Math.PI*r2,d=(score/100)*ci,c=sc(score);return '<div style="display:flex;flex-direction:column;align-items:center;gap:5px"><svg width="'+sz+'" height="'+sz+'" viewBox="0 0 72 72"><circle cx="36" cy="36" r="'+r2+'" fill="none" stroke="rgba(255,255,255,0.06)" stroke-width="5"/><circle cx="36" cy="36" r="'+r2+'" fill="none" stroke="'+c+'" stroke-width="5" stroke-dasharray="'+d+' '+(ci-d)+'" stroke-dashoffset="'+ci/4+'" stroke-linecap="round"/><text x="36" y="40" text-anchor="middle" fill="white" font-size="14" font-weight="800">'+score+'</text></svg>'+(lbl?'<span style="font-size:9px;color:rgba(255,255,255,0.38);font-weight:700;text-transform:uppercase">'+lbl+'</span>':'')+'</div>';}
    setH('viralResult','<div style="display:flex;gap:12px;align-items:center;justify-content:center;margin-bottom:20px;flex-wrap:wrap">'+ring(r.viralScore,'Viral Score')+ring(r.hookStrength,'Hook',64)+ring(r.emotionalTrigger,'Emotion',64)+ring(r.shareability,'Share',64)+ring(r.ctaStrength,'CTA',64)+'</div><div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">'+[['ğŸ“Š Engagement',r.engagementPrediction],['ğŸ“¡ Reach',r.reachEstimate],['â° Best Time',r.bestTimeToPost],['ğŸ¯ Clarity',r.clarity+'/100']].map(function(lv){return '<div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:12px"><div style="font-size:10px;color:rgba(255,255,255,0.38);margin-bottom:3px">'+lv[0]+'</div><div style="font-size:15px;font-weight:700">'+lv[1]+'</div></div>';}).join('')+'</div><div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px"><div style="background:rgba(16,185,129,0.07);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:14px"><div style="font-size:10px;color:#6ee7b7;font-weight:700;margin-bottom:8px">âœ… STRENGTHS</div>'+(r.strengths||[]).map(function(s){return '<div style="font-size:12px;color:rgba(255,255,255,0.65);margin-bottom:5px"><span style="color:#10b981">+ </span>'+s+'</div>';}).join('')+'</div><div style="background:rgba(239,68,68,0.07);border:1px solid rgba(239,68,68,0.2);border-radius:12px;padding:14px"><div style="font-size:10px;color:#fca5a5;font-weight:700;margin-bottom:8px">âš¡ IMPROVEMENTS</div>'+(r.improvements||[]).map(function(s){return '<div style="font-size:12px;color:rgba(255,255,255,0.65);margin-bottom:5px"><span style="color:#f59e0b">â†’ </span>'+s+'</div>';}).join('')+'</div></div><div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.22);border-radius:12px;padding:14px;margin-bottom:14px;border-left:3px solid #6366f1"><div style="font-size:10px;color:#a5b4fc;font-weight:700;margin-bottom:5px">ğŸª„ AI REWRITES YOUR HOOK</div><div style="font-size:13px;color:#c4b5fd;font-style:italic">"'+r.rewrittenHook+'"</div></div><div style="background:rgba(255,255,255,0.03);border-radius:12px;padding:14px"><div style="font-size:10px;color:rgba(255,255,255,0.38);font-weight:700;margin-bottom:4px">ğŸ§  AI VERDICT</div><div style="font-size:13px;color:rgba(255,255,255,0.75);line-height:1.6">'+r.verdict+'</div></div>');
  }catch(e){errMsg('viralResult','Analysis failed.');}
  doneBtn(btn,'ğŸ”¬ Analyze Viral Potential â€” Free');
}
async function genPosts(){
  var topic=getV('postTopic');if(!topic){alert('Please enter a topic');return;}if(!S.selPlats.length){alert('Select at least one platform');return;}
  var btn=G('genPostsBtn');ldBtn(btn,'Generating...');setH('postsOut','');
  try{
    var pd=S.selPlats.map(function(id){return PL[id]+': max '+PM[id]+' chars, tone: '+PT[id];}).join(' | ');
    var extra=getV('postExtra');
    var posts=safeJSON(await freeAI('Social media manager for Zenoti (@gozenoti). Topic: '+topic+', Tone: '+S.tone+(extra?', Extra: '+extra:'')+'. Platforms: '+pd+'. Return ONLY valid JSON: {'+S.selPlats.map(function(id){return '"'+id+'":"post content"';}).join(',')+'}')); 
    var html='<div style="display:flex;gap:6px;margin-bottom:14px;flex-wrap:wrap">';
    S.selPlats.forEach(function(id,i){html+='<button class="chip'+(i===0?' active':'')+'" onclick="showPost(this,\''+id+'\')">'+PI[id]+' '+PL[id]+'</button>';});
    html+='<button class="chip" onclick="showAllPosts(this)">ğŸ“‹ All</button></div><div id="postCards">';
    S.selPlats.forEach(function(id,i){if(!posts[id])return;html+='<div class="post-card" data-p="'+id+'" style="'+(i>0?'display:none':'')+'"><div style="display:flex;justify-content:space-between;margin-bottom:10px"><span style="color:rgba(255,255,255,0.65);font-weight:600;font-size:12.5px">'+PI[id]+' '+PL[id]+'</span><span style="color:rgba(255,255,255,0.25);font-size:10.5px">'+posts[id].length+'/'+PM[id]+'</span></div><p style="color:rgba(255,255,255,0.78);font-size:13.5px;line-height:1.72;white-space:pre-wrap;margin-bottom:12px">'+posts[id]+'</p><button onclick="cpBtn(this)" data-t="'+esc(posts[id])+'" style="background:rgba(99,102,241,0.12);border:1px solid rgba(99,102,241,0.28);border-radius:8px;color:#a5b4fc;font-size:11.5px;font-weight:600;padding:5px 13px;cursor:pointer">â˜ Copy</button></div>';});
    html+='</div><button onclick="genPosts()" style="width:100%;margin-top:8px;background:transparent;border:1px solid rgba(99,102,241,0.22);border-radius:11px;color:rgba(165,180,252,0.55);font-size:12.5px;font-weight:600;padding:10px;cursor:pointer">ğŸ”„ Regenerate</button>';
    setH('postsOut',html);
  }catch(e){errMsg('postsOut','Generation failed.');}
  doneBtn(btn,'âœ¨ Generate Text Posts â€” Free');
}
function showPost(el,p){document.querySelectorAll('#postCards .post-card').forEach(function(c){c.style.display=c.dataset.p===p?'block':'none';});el.parentElement.querySelectorAll('.chip').forEach(function(c){c.classList.remove('active');});el.classList.add('active');}
function showAllPosts(el){document.querySelectorAll('#postCards .post-card').forEach(function(c){c.style.display='block';});el.parentElement.querySelectorAll('.chip').forEach(function(c){c.classList.remove('active');});el.classList.add('active');}
function cpBtn(b){navigator.clipboard.writeText(b.dataset.t).then(function(){b.textContent='âœ“ Copied';setTimeout(function(){b.textContent='â˜ Copy';},2000);});}
async function genImage(){
  var fk=getV('freepikKey');if(!fk){alert('Add Freepik API key in Settings');return;}
  var prompt=getV('imgPrompt');if(!prompt){alert('Please enter an image prompt');return;}
  var btn=G('genImgBtn');ldBtn(btn,'Generating...');setH('imgStatus','<div style="background:rgba(16,185,129,0.07);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:12px 16px;color:#6ee7b7;font-size:12.5px">â³ Generating...</div>');setH('imgOut','');
  try{var imgUrl=await freepikImg(prompt+', '+G('imgStyle').value+' style, professional social media',G('imgSize').value,fk);setH('imgStatus','<div style="background:rgba(16,185,129,0.1);border:1px solid rgba(16,185,129,0.3);border-radius:12px;padding:10px 14px;color:#6ee7b7;font-size:12px">âœ… Image generated!</div>');setH('imgOut','<div style="position:relative;border-radius:14px;overflow:hidden;border:1px solid rgba(16,185,129,0.25);margin-top:8px"><img src="'+imgUrl+'" style="width:100%;display:block"/><a href="'+imgUrl+'" download="zenoti-image.jpg" target="_blank" style="position:absolute;bottom:8px;right:8px;background:rgba(0,0,0,0.75);border:1px solid rgba(255,255,255,0.15);border-radius:8px;color:white;font-size:12px;padding:5px 11px;text-decoration:none">â¬‡ Save</a></div>');}catch(e){setH('imgStatus','');errMsg('imgOut',e.message);}
  doneBtn(btn,'ğŸ–¼ï¸ Generate Real Image');
}
async function genVideo(){
  var fk=getV('freepikKey');if(!fk){alert('Add Freepik API key in Settings');return;}
  var prompt=getV('vidPrompt');if(!prompt){alert('Please enter a video prompt');return;}
  var btn=G('genVidBtn');ldBtn(btn,'Submitting...');setH('vidStatus','');setH('vidOut','');
  try{
    var res=await fetch('https://api.freepik.com/v1/ai/video/kling-v3-pro',{method:'POST',headers:{'Content-Type':'application/json','x-freepik-api-key':fk},body:JSON.stringify({prompt:prompt,aspect_ratio:G('vidAspect').value,duration:G('vidDur').value,negative_prompt:'blurry, low quality'})});
    var data=await res.json();if(!res.ok)throw new Error(data&&data.message?data.message:'Freepik error');
    var tid=data&&data.data&&data.data.task_id;if(!tid)throw new Error('No task ID');
    for(var i=0;i<40;i++){await sleep(5000);btn.innerHTML='Rendering... '+((i+1)*5)+'s';var p=await(await fetch('https://api.freepik.com/v1/ai/video/kling-v3-pro/'+tid,{headers:{'x-freepik-api-key':fk}})).json();if(p&&p.data&&(p.data.status==='COMPLETED'||p.data.status==='OK')){var url=p.data.generated&&p.data.generated[0]?p.data.generated[0].url:p.data.url;if(url){setH('vidStatus','');setH('vidOut','<video src="'+url+'" controls style="width:100%;border-radius:12px;margin-top:8px"></video>');break;}}if(p&&p.data&&p.data.status==='FAILED')throw new Error('Video failed');}
  }catch(e){setH('vidStatus','');errMsg('vidOut',e.message);}
  doneBtn(btn,'ğŸ¬ Generate Video');
}
async function genYTScript(){
  var topic=getV('ytTopic');if(!topic){alert('Please enter a video topic');return;}
  var btn=G('genYTBtn');ldBtn(btn,'Generating script...');setH('ytOut','');
  try{
    var audience=getV('ytAudience')||'salon owners',length=G('ytLength').value;
    var typeLabel=S.ytScriptType==='short'?'YouTube Shorts (60s)':S.ytScriptType==='preroll'?'Pre-roll Ad (15s)':'Long-form video ('+length+')';
    var r=safeJSON(await freeAI('YouTube scriptwriter for Zenoti (@gozenoti). Write a '+typeLabel+' script. Topic: "'+topic+'". Audience: "'+audience+'". Return ONLY valid JSON: {"title":"SEO title","hook":"Opening 10s","script":"Full script","cta":"End CTA","tags":"10 SEO tags","thumbnail":"Thumbnail text (max 6 words)","description":"YouTube description with hashtags"}'));
    var copyText=r.title+'\n\nHook:\n'+r.hook+'\n\nScript:\n'+r.script+'\n\nCTA:\n'+r.cta+'\n\nDescription:\n'+r.description+'\n\nTags: '+r.tags;
    setH('ytOut','<div style="background:rgba(255,255,255,0.025);border:1px solid rgba(255,0,0,0.2);border-radius:16px;overflow:hidden"><div style="background:linear-gradient(135deg,rgba(255,0,0,0.12),rgba(255,80,0,0.08));padding:12px 16px;border-bottom:1px solid rgba(255,255,255,0.06)"><div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">'+r.title+'</div><span style="font-size:10.5px;background:rgba(255,0,0,0.15);border:1px solid rgba(255,0,0,0.3);border-radius:20px;color:#fca5a5;padding:2px 8px;font-weight:700">â–¶ï¸ '+typeLabel+'</span></div><div style="padding:16px"><div style="background:rgba(255,0,0,0.08);border:1px solid rgba(255,0,0,0.2);border-radius:10px;padding:12px;margin-bottom:12px"><div style="font-size:9.5px;color:#fca5a5;font-weight:700;text-transform:uppercase;margin-bottom:6px">ğŸª Opening Hook</div><div style="font-size:13px;color:white;font-weight:600;line-height:1.6;font-style:italic">"'+r.hook+'"</div></div><div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07);border-radius:10px;padding:14px;margin-bottom:12px"><div style="font-size:9.5px;color:rgba(255,255,255,0.4);font-weight:700;text-transform:uppercase;margin-bottom:8px">ğŸ“ Full Script</div><div style="font-size:12.5px;color:rgba(255,255,255,0.75);line-height:1.8;white-space:pre-wrap">'+r.script+'</div></div><div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:12px"><div style="background:rgba(16,185,129,0.08);border:1px solid rgba(16,185,129,0.2);border-radius:10px;padding:12px"><div style="font-size:9.5px;color:#6ee7b7;font-weight:700;margin-bottom:6px">ğŸ“¢ CTA</div><div style="font-size:12px;color:rgba(255,255,255,0.75)">'+r.cta+'</div></div><div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2);border-radius:10px;padding:12px"><div style="font-size:9.5px;color:#a5b4fc;font-weight:700;margin-bottom:6px">ğŸ” SEO Tags</div><div style="font-size:11px;color:rgba(255,255,255,0.55)">'+r.tags+'</div></div></div><div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07);border-radius:10px;padding:12px;margin-bottom:12px"><div style="font-size:9.5px;color:rgba(255,255,255,0.4);font-weight:700;margin-bottom:6px">ğŸ“„ Description</div><div style="font-size:12px;color:rgba(255,255,255,0.65);line-height:1.7">'+r.description+'</div></div><button onclick="navigator.clipboard.writeText(this.dataset.t);this.textContent=\'âœ“ Copied\';var s=this;setTimeout(function(){s.textContent=\'â˜ Copy Full Script\';},2000)" data-t="'+esc(copyText)+'" style="width:100%;background:rgba(255,0,0,0.12);border:1px solid rgba(255,0,0,0.28);border-radius:10px;color:#fca5a5;font-size:12.5px;font-weight:600;padding:10px;cursor:pointer">â˜ Copy Full Script</button></div></div><button onclick="genYTScript()" style="width:100%;margin-top:8px;background:transparent;border:1px solid rgba(255,0,0,0.22);border-radius:11px;color:rgba(255,120,120,0.55);font-size:12.5px;font-weight:600;padding:10px;cursor:pointer">ğŸ”„ Regenerate</button>');
  }catch(e){errMsg('ytOut','Script generation failed.');}
  doneBtn(btn,'â–¶ï¸ Generate YouTube Script â€” Free');
}
async function genPersona(){
  var topic=getV('persTopic');if(!topic){alert('Please enter a topic');return;}
  var btn=G('persBtn');ldBtn(btn,'Generating...');setH('persOut','');
  try{
    var plat=G('persPlat').value,persona=G('persType').value;
    var vars=safeJSON(await freeAI('Create 4 post variants for Zenoti on '+PL[plat]+', topic: "'+topic+'", targeting: '+persona+'. Return ONLY valid JSON array of 4: [{"variant":"Name","hook":"Opening","body":"Body max 150 chars","angle":"Strategy","predictedEng":"X-Y%"}]'));
    if(!Array.isArray(vars))throw new Error('Invalid response');
    var cols=['#6366f1','#8b5cf6','#ec4899','#f59e0b'];
    setH('persOut','<div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">'+vars.slice(0,4).map(function(v,i){return '<div style="background:rgba(255,255,255,0.025);border:1px solid '+cols[i]+'33;border-radius:15px;padding:16px"><div style="display:flex;justify-content:space-between;margin-bottom:10px"><span style="font-size:11px;font-weight:700;color:'+cols[i]+';background:'+cols[i]+'22;padding:3px 10px;border-radius:20px">'+v.variant+'</span><span style="font-size:11px;color:#10b981;font-weight:700">'+v.predictedEng+'</span></div><div style="font-size:13px;font-weight:700;color:white;margin-bottom:6px">"'+v.hook+'"</div><div style="font-size:11.5px;color:rgba(255,255,255,0.5);margin-bottom:8px;line-height:1.6">'+v.body+'</div><div style="font-size:10.5px;color:'+cols[i]+';background:'+cols[i]+'11;padding:5px 10px;border-radius:8px">'+v.angle+'</div></div>';}).join('')+'</div>');
  }catch(e){errMsg('persOut','Generation failed.');}
  doneBtn(btn,'ğŸ­ Generate 4 Persona Variants â€” Free');
}

// â”€â”€ YOUTUBE STUDIO FUNCTIONS â”€â”€
function selThumbStyle(el,style){
  S.thumbStyleSel=style;
  document.querySelectorAll('.thumb-style-btn').forEach(function(b){b.style.background='rgba(255,255,255,0.03)';b.style.borderColor='rgba(255,255,255,0.08)';b.style.color='rgba(255,255,255,0.5)';});
  el.style.background='linear-gradient(135deg,rgba(99,102,241,0.3),rgba(99,102,241,0.15))';el.style.borderColor='rgba(99,102,241,0.7)';el.style.color='white';
}
async function genSEO(){
  var title=getV('seoRawTitle');if(!title){alert('Please enter a video title');return;}
  var btn=G('seoBtn');ldBtn(btn,'Optimizing...');setH('seoOut','');
  try{
    var r=safeJSON(await freeAI('YouTube SEO expert for Zenoti. Optimize this video. Raw title: "'+title+'". Keyword: "'+getV('seoKeyword')+'". Category: "'+G('seoCategory').value+'". Return ONLY valid JSON: {"optimizedTitle":"SEO title under 60 chars","alternativeTitles":["alt1","alt2","alt3"],"description":"Full YouTube description 150-200 words with CTAs","tags":["tag1","tag2","tag3","tag4","tag5","tag6","tag7","tag8","tag9","tag10"],"chapters":["0:00 - Intro","1:30 - Section","5:00 - CTA"],"ctrScore":82,"seoScore":88,"improvements":["tip1","tip2","tip3"]}'));
    function scoreColor(s){return s>=80?'#10b981':s>=65?'#f59e0b':'#ef4444';}
    setH('seoOut','<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px"><div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2);border-radius:12px;padding:12px;text-align:center"><div style="font-size:10px;color:#a5b4fc;font-weight:700;margin-bottom:4px">ğŸ¯ SEO Score</div><div style="font-size:28px;font-weight:900;color:'+scoreColor(r.seoScore)+'">'+r.seoScore+'</div></div><div style="background:rgba(16,185,129,0.08);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:12px;text-align:center"><div style="font-size:10px;color:#6ee7b7;font-weight:700;margin-bottom:4px">ğŸ‘† CTR Score</div><div style="font-size:28px;font-weight:900;color:'+scoreColor(r.ctrScore)+'">'+r.ctrScore+'</div></div></div><div style="background:rgba(255,255,255,0.03);border:1px solid rgba(99,102,241,0.25);border-radius:14px;padding:16px;margin-bottom:12px"><div style="font-size:10px;color:#a5b4fc;font-weight:700;text-transform:uppercase;margin-bottom:8px">âœ… Optimized Title</div><div style="font-size:15px;font-weight:800;color:white;margin-bottom:10px">'+r.optimizedTitle+'</div><div style="font-size:10px;color:rgba(255,255,255,0.35);font-weight:700;text-transform:uppercase;margin-bottom:6px">Alternative Titles</div>'+(r.alternativeTitles||[]).map(function(t,i){return '<div style="font-size:12.5px;color:rgba(255,255,255,0.6);margin-bottom:5px"><span style="background:rgba(99,102,241,0.2);border-radius:6px;padding:1px 7px;font-size:10px;font-weight:700;color:#a5b4fc;margin-right:6px">'+(i+1)+'</span>'+t+'</div>';}).join('')+'</div><div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07);border-radius:14px;padding:16px;margin-bottom:12px"><div style="font-size:10px;color:rgba(255,255,255,0.4);font-weight:700;text-transform:uppercase;margin-bottom:8px">ğŸ“„ Optimized Description</div><div style="font-size:12px;color:rgba(255,255,255,0.65);line-height:1.8;white-space:pre-wrap;margin-bottom:10px">'+r.description+'</div><button onclick="navigator.clipboard.writeText(this.dataset.t)" data-t="'+esc(r.description)+'" style="background:rgba(99,102,241,0.15);border:1px solid rgba(99,102,241,0.3);border-radius:8px;color:#a5b4fc;font-size:11.5px;padding:6px 13px;cursor:pointer">â˜ Copy Description</button></div><div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07);border-radius:14px;padding:14px;margin-bottom:12px"><div style="font-size:10px;color:rgba(255,255,255,0.4);font-weight:700;text-transform:uppercase;margin-bottom:8px">ğŸ·ï¸ SEO Tags</div><div style="display:flex;flex-wrap:wrap;gap:5px">'+(r.tags||[]).map(function(t){return '<span style="background:rgba(99,102,241,0.15);border:1px solid rgba(99,102,241,0.28);border-radius:20px;padding:3px 10px;font-size:11px;color:#a5b4fc">'+t+'</span>';}).join('')+'</div></div><div style="display:grid;grid-template-columns:1fr 1fr;gap:10px"><div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07);border-radius:12px;padding:12px"><div style="font-size:10px;color:rgba(255,255,255,0.4);font-weight:700;text-transform:uppercase;margin-bottom:8px">â±ï¸ Chapter Timestamps</div>'+(r.chapters||[]).map(function(c){return '<div style="font-size:12px;color:rgba(255,255,255,0.6);margin-bottom:4px">'+c+'</div>';}).join('')+'</div><div style="background:rgba(16,185,129,0.07);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:12px"><div style="font-size:10px;color:#6ee7b7;font-weight:700;text-transform:uppercase;margin-bottom:8px">ğŸ’¡ Quick Wins</div>'+(r.improvements||[]).map(function(s){return '<div style="font-size:12px;color:rgba(255,255,255,0.65);margin-bottom:5px"><span style="color:#10b981">â†’ </span>'+s+'</div>';}).join('')+'</div></div>');
  }catch(e){errMsg('seoOut','SEO optimization failed.');}
  doneBtn(btn,'ğŸ” Optimize for YouTube SEO â€” Free');
}
async function genVideoIdeas(){
  var btn=G('ideasBtn');ldBtn(btn,'Generating...');setH('ideasOut','');
  try{
    var ideas=safeJSON(await freeAI('YouTube content strategist for Zenoti (@gozenoti, beauty & wellness SaaS). Generate 10 video ideas. Niche: "'+G('ideasNiche').value+'". Format: "'+G('ideasFormat').value+'".'+(getV('ideasContext')?'Context: "'+getV('ideasContext')+'".':'')+' Return ONLY valid JSON array of 10: [{"title":"Clickable video title","format":"Long-form|Short|Tutorial","estimatedViews":"10K-25K","searchVolume":"High|Medium|Low","hook":"Opening line","whyItWorks":"One sentence","difficulty":"Easy|Medium|Hard"}]'));
    if(!Array.isArray(ideas))throw new Error('Invalid response');
    var fmtColor={'Long-form':'#ff0000',Short:'#ec4899',Tutorial:'#6366f1'};
    var diffColor={Easy:'#10b981',Medium:'#f59e0b',Hard:'#ef4444'};
    setH('ideasOut','<div>'+ideas.slice(0,10).map(function(idea,i){var fc=fmtColor[idea.format]||'#6366f1',dc=diffColor[idea.difficulty]||'#10b981';return '<div style="background:rgba(255,255,255,0.025);border:1px solid rgba(255,255,255,0.07);border-radius:14px;padding:16px;margin-bottom:10px"><div style="display:flex;align-items:flex-start;gap:12px"><div style="width:28px;height:28px;border-radius:8px;background:rgba(255,0,0,0.2);display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:800;color:#fca5a5;flex-shrink:0">'+(i+1)+'</div><div style="flex:1"><div style="font-size:13.5px;font-weight:700;color:white;margin-bottom:8px">'+idea.title+'</div><div style="display:flex;gap:6px;flex-wrap:wrap;margin-bottom:8px"><span style="background:'+fc+'22;border:1px solid '+fc+'44;border-radius:20px;padding:2px 9px;font-size:10.5px;color:'+fc+';font-weight:700">'+idea.format+'</span><span style="background:rgba(245,158,11,0.12);border:1px solid rgba(245,158,11,0.3);border-radius:20px;padding:2px 9px;font-size:10.5px;color:#fde68a;font-weight:700">ğŸ‘ '+idea.estimatedViews+'</span><span style="background:rgba(99,102,241,0.1);border:1px solid rgba(99,102,241,0.25);border-radius:20px;padding:2px 9px;font-size:10.5px;color:#a5b4fc;font-weight:700">ğŸ” '+idea.searchVolume+'</span><span style="background:'+dc+'18;border:1px solid '+dc+'40;border-radius:20px;padding:2px 9px;font-size:10.5px;color:'+dc+';font-weight:700">'+idea.difficulty+'</span></div><div style="font-size:12px;color:rgba(255,255,255,0.5);margin-bottom:4px;font-style:italic">"'+idea.hook+'"</div><div style="font-size:11.5px;color:rgba(16,185,129,0.8)">â†’ '+idea.whyItWorks+'</div></div><button onclick="prefillYTScript(this.dataset.t)" data-t="'+esc(idea.title)+'" style="flex-shrink:0;background:rgba(255,0,0,0.12);border:1px solid rgba(255,0,0,0.28);border-radius:8px;color:#fca5a5;font-size:11px;font-weight:700;padding:5px 10px;cursor:pointer">â–¶ï¸ Script</button></div></div>';}).join('')+'</div><button onclick="genVideoIdeas()" style="width:100%;margin-top:4px;background:transparent;border:1px solid rgba(245,158,11,0.22);border-radius:11px;color:rgba(253,230,138,0.55);font-size:12.5px;font-weight:600;padding:10px;cursor:pointer">ğŸ”„ Regenerate Ideas</button>');
  }catch(e){errMsg('ideasOut','Generation failed.');}
  doneBtn(btn,'ğŸ’¡ Generate 10 Video Ideas â€” Free');
}
function prefillYTScript(title){switchTab('create');setTimeout(function(){selPostType('youtube');var el=G('ytTopic');if(el){el.value=title;el.focus();}},150);}
async function genThumbConcept(){
  var title=getV('thumbTitle');if(!title){alert('Please enter the video title');return;}
  var btn=G('thumbConceptBtn');ldBtn(btn,'Generating...');setH('thumbOut','');
  try{
    var r=safeJSON(await freeAI('YouTube thumbnail designer for Zenoti. Video title: "'+title+'". Thumbnail text: "'+getV('thumbText')+'". Style: '+S.thumbStyleSel+'. Color: '+G('thumbColor').value+'. Return ONLY valid JSON: {"concept1":{"layout":"description","mainElement":"what to show","textPlacement":"where","emotion":"feeling"},"concept2":{"layout":"...","mainElement":"...","textPlacement":"...","emotion":"..."},"concept3":{"layout":"...","mainElement":"...","textPlacement":"...","emotion":"..."},"freepikPrompt":"Detailed image generation prompt for the best concept","ctrTips":["tip1","tip2","tip3"]}'));
    window._thumbPrompt=r.freepikPrompt;
    var cols=['#6366f1','#ec4899','#f59e0b'];
    setH('thumbOut','<div class="lbl" style="margin-bottom:10px">ğŸ¨ 3 Thumbnail Concepts</div><div style="display:grid;gap:10px;margin-bottom:14px">'+[r.concept1,r.concept2,r.concept3].map(function(c,i){return '<div style="background:rgba(255,255,255,0.025);border:1px solid '+cols[i]+'33;border-radius:13px;padding:14px"><div style="display:flex;align-items:center;gap:8px;margin-bottom:10px"><span style="background:'+cols[i]+'22;color:'+cols[i]+';border:1px solid '+cols[i]+'44;border-radius:20px;padding:3px 10px;font-size:11px;font-weight:700">Concept '+(i+1)+'</span><span style="font-size:11px;color:rgba(255,255,255,0.4);font-style:italic">'+c.emotion+'</span></div><div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;font-size:12px;color:rgba(255,255,255,0.65)"><div><span style="color:rgba(255,255,255,0.35);font-size:10px;font-weight:700;display:block;margin-bottom:2px">LAYOUT</span>'+c.layout+'</div><div><span style="color:rgba(255,255,255,0.35);font-size:10px;font-weight:700;display:block;margin-bottom:2px">MAIN ELEMENT</span>'+c.mainElement+'</div><div style="grid-column:span 2"><span style="color:rgba(255,255,255,0.35);font-size:10px;font-weight:700;display:block;margin-bottom:2px">TEXT PLACEMENT</span>'+c.textPlacement+'</div></div></div>';}).join('')+'</div><div style="background:rgba(16,185,129,0.07);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:14px;margin-bottom:12px"><div style="font-size:10px;color:#6ee7b7;font-weight:700;text-transform:uppercase;margin-bottom:8px">âœ… High-CTR Tips</div>'+(r.ctrTips||[]).map(function(t){return '<div style="font-size:12px;color:rgba(255,255,255,0.65);margin-bottom:5px"><span style="color:#10b981">+ </span>'+t+'</div>';}).join('')+'</div><div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.22);border-radius:12px;padding:14px"><div style="font-size:10px;color:#a5b4fc;font-weight:700;text-transform:uppercase;margin-bottom:6px">ğŸ¤– Freepik AI Prompt (ready to use)</div><div style="font-size:12px;color:rgba(255,255,255,0.65);line-height:1.7;margin-bottom:8px;font-style:italic">'+r.freepikPrompt+'</div><button onclick="navigator.clipboard.writeText(this.dataset.t)" data-t="'+esc(r.freepikPrompt)+'" style="background:rgba(99,102,241,0.18);border:1px solid rgba(99,102,241,0.35);border-radius:8px;color:#a5b4fc;font-size:11.5px;padding:6px 13px;cursor:pointer">â˜ Copy Prompt</button></div>');
  }catch(e){errMsg('thumbOut','Concept generation failed.');}
  doneBtn(btn,'ğŸ¨ Generate Concepts â€” Free');
}
async function genThumbImage(){
  var fk=getV('freepikKey');if(!fk){alert('Add Freepik API key in Settings');return;}
  var title=getV('thumbTitle');if(!title){alert('Please enter the video title first');return;}
  var btn=G('thumbImgBtn');ldBtn(btn,'Generating...');
  var prompt=window._thumbPrompt||('YouTube thumbnail for Zenoti: '+title+', '+G('thumbColor').value+', bold text overlay, professional, 16:9');
  setH('thumbImgStatus','<div style="background:rgba(16,185,129,0.07);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:12px 16px;color:#6ee7b7;font-size:12.5px">â³ Generating thumbnail...</div>');setH('thumbImgOut','');
  try{var imgUrl=await freepikImg(prompt+', YouTube thumbnail, high contrast, bold typography','widescreen_16_9',fk);setH('thumbImgStatus','<div style="background:rgba(16,185,129,0.1);border:1px solid rgba(16,185,129,0.3);border-radius:12px;padding:10px 14px;color:#6ee7b7;font-size:12px">âœ… Thumbnail generated!</div>');setH('thumbImgOut','<div style="border-radius:14px;overflow:hidden;border:1px solid rgba(255,0,0,0.3);margin-top:6px;position:relative"><img src="'+imgUrl+'" style="width:100%;display:block"/><a href="'+imgUrl+'" download="zenoti-thumbnail.jpg" target="_blank" style="position:absolute;bottom:8px;right:8px;background:rgba(0,0,0,0.75);border:1px solid rgba(255,255,255,0.15);border-radius:8px;color:white;font-size:12px;padding:5px 11px;text-decoration:none">â¬‡ Save</a></div>');}catch(e){setH('thumbImgStatus','');errMsg('thumbImgOut',e.message);}
  doneBtn(btn,'ğŸ–¼ï¸ Generate Real Image');
}
async function genShortsStoryboard(){
  var topic=getV('shortsTopicInput');if(!topic){alert('Please enter a topic');return;}
  var btn=G('shortsBtn');ldBtn(btn,'Building storyboard...');setH('shortsOut','');
  try{
    var r=safeJSON(await freeAI('YouTube Shorts director for Zenoti. Create a 60-second storyboard. Topic: "'+topic+'". Hook style: '+G('shortsHookStyle').value+'. CTA: '+G('shortsCTA').value+'. Return ONLY valid JSON: {"title":"Short title","scenes":[{"scene":1,"timestamp":"0-3s","visual":"what camera shows","dialogue":"what to say","direction":"camera note"},{"scene":2,"timestamp":"3-8s","visual":"...","dialogue":"...","direction":"..."},{"scene":3,"timestamp":"8-20s","visual":"...","dialogue":"...","direction":"..."},{"scene":4,"timestamp":"20-45s","visual":"...","dialogue":"...","direction":"..."},{"scene":5,"timestamp":"45-55s","visual":"...","dialogue":"...","direction":"..."},{"scene":6,"timestamp":"55-60s","visual":"...","dialogue":"...","direction":"..."}],"editingTips":["tip1","tip2","tip3"],"captionSuggestion":"Ready-to-post caption with hashtags"}'));
    var sceneColors=['#ef4444','#f59e0b','#6366f1','#8b5cf6','#ec4899','#10b981'];
    setH('shortsOut','<div style="background:rgba(255,255,255,0.025);border:1px solid rgba(236,72,153,0.2);border-radius:16px;overflow:hidden"><div style="background:linear-gradient(135deg,rgba(236,72,153,0.15),rgba(139,92,246,0.1));padding:12px 16px;border-bottom:1px solid rgba(255,255,255,0.06)"><div style="font-size:13px;font-weight:800;color:white">ğŸ©³ '+r.title+'</div></div><div style="padding:16px"><div class="lbl" style="margin-bottom:10px">ğŸ¬ Scene-by-Scene Storyboard</div>'+(r.scenes||[]).map(function(s,i){var c=sceneColors[i]||'#6366f1';return '<div style="display:flex;gap:12px;margin-bottom:12px"><div style="flex-shrink:0;text-align:center"><div style="width:36px;height:36px;border-radius:10px;background:'+c+'22;border:1px solid '+c+'44;display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:800;color:'+c+'">S'+s.scene+'</div><div style="font-size:9px;color:rgba(255,255,255,0.3);margin-top:4px;white-space:nowrap">'+s.timestamp+'</div></div><div style="flex:1;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.06);border-radius:10px;padding:11px"><div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:6px"><div><div style="font-size:9px;color:'+c+';font-weight:700;text-transform:uppercase;margin-bottom:3px">ğŸ“· Visual</div><div style="font-size:11.5px;color:rgba(255,255,255,0.7)">'+s.visual+'</div></div><div><div style="font-size:9px;color:#a5b4fc;font-weight:700;text-transform:uppercase;margin-bottom:3px">ğŸ¬ Direction</div><div style="font-size:11.5px;color:rgba(255,255,255,0.55)">'+s.direction+'</div></div></div><div style="background:'+c+'11;border-left:3px solid '+c+';padding:7px 10px;border-radius:0 6px 6px 0"><div style="font-size:9px;color:'+c+';font-weight:700;text-transform:uppercase;margin-bottom:3px">ğŸ¤ Script</div><div style="font-size:12px;color:rgba(255,255,255,0.8);line-height:1.5;font-style:italic">"'+s.dialogue+'"</div></div></div></div>';}).join('')+'<div style="background:rgba(139,92,246,0.08);border:1px solid rgba(139,92,246,0.2);border-radius:12px;padding:12px;margin-bottom:12px"><div style="font-size:10px;color:#c4b5fd;font-weight:700;text-transform:uppercase;margin-bottom:8px">âœ‚ï¸ Editing Tips</div>'+(r.editingTips||[]).map(function(t){return '<div style="font-size:12px;color:rgba(255,255,255,0.65);margin-bottom:5px"><span style="color:#8b5cf6">â€¢ </span>'+t+'</div>';}).join('')+'</div><div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07);border-radius:12px;padding:12px"><div style="font-size:10px;color:rgba(255,255,255,0.4);font-weight:700;text-transform:uppercase;margin-bottom:6px">ğŸ“ Caption</div><div style="font-size:12px;color:rgba(255,255,255,0.65);line-height:1.7;margin-bottom:8px">'+r.captionSuggestion+'</div><button onclick="navigator.clipboard.writeText(this.dataset.t)" data-t="'+esc(r.captionSuggestion)+'" style="background:rgba(236,72,153,0.15);border:1px solid rgba(236,72,153,0.3);border-radius:8px;color:#f9a8d4;font-size:11.5px;padding:6px 13px;cursor:pointer">â˜ Copy Caption</button></div></div></div>');
  }catch(e){errMsg('shortsOut','Storyboard generation failed.');}
  doneBtn(btn,'ğŸ©³ Generate Storyboard â€” Free');
}
async function genCommentReplies(){
  var comment=getV('commentInput');if(!comment){alert('Please paste a comment');return;}
  var btn=G('commentBtn');ldBtn(btn,'Generating...');setH('commentOut','');
  try{
    var r=safeJSON(await freeAI('Community manager for Zenoti (@gozenoti). Reply to this YouTube comment. Comment: "'+comment+'". Type: '+G('commentType').value+'. Goal: '+G('commentGoal').value+'. Return ONLY valid JSON: {"replies":[{"label":"Friendly & Warm","tone":"warm","text":"reply text","cta":"call to action"},{"label":"Expert & Authoritative","tone":"expert","text":"reply text","cta":"call to action"},{"label":"Conversion-Focused","tone":"sales","text":"reply text","cta":"call to action"}],"sentiment":"positive|neutral|negative","priority":"high|medium|low","engagementTip":"one tip"}'));
    var sentColor={positive:'#10b981',neutral:'#f59e0b',negative:'#ef4444'};
    var prioColor={high:'#ef4444',medium:'#f59e0b',low:'#10b981'};
    var toneColor={warm:'#ec4899',expert:'#6366f1',sales:'#f59e0b'};
    setH('commentOut','<div style="display:flex;gap:8px;margin-bottom:14px;flex-wrap:wrap"><span style="background:'+sentColor[r.sentiment]+'18;border:1px solid '+sentColor[r.sentiment]+'44;border-radius:20px;padding:3px 10px;font-size:11px;color:'+sentColor[r.sentiment]+';font-weight:700">'+r.sentiment+' sentiment</span><span style="background:'+prioColor[r.priority]+'18;border:1px solid '+prioColor[r.priority]+'44;border-radius:20px;padding:3px 10px;font-size:11px;color:'+prioColor[r.priority]+';font-weight:700">'+r.priority+' priority</span></div>'+(r.replies||[]).map(function(rep){var c=toneColor[rep.tone]||'#6366f1';return '<div style="background:rgba(255,255,255,0.025);border:1px solid '+c+'33;border-radius:14px;padding:16px;margin-bottom:10px"><div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px"><span style="background:'+c+'22;color:'+c+';border:1px solid '+c+'44;border-radius:20px;padding:3px 11px;font-size:11px;font-weight:700">'+rep.label+'</span><button onclick="navigator.clipboard.writeText(this.dataset.t);this.textContent=\'âœ“\';var s=this;setTimeout(function(){s.textContent=\'â˜ Copy\';},2000)" data-t="'+esc(rep.text)+'" style="background:'+c+'18;border:1px solid '+c+'35;border-radius:8px;color:'+c+';font-size:11px;padding:4px 11px;cursor:pointer">â˜ Copy</button></div><div style="font-size:13px;color:rgba(255,255,255,0.8);line-height:1.7;margin-bottom:8px">'+rep.text+'</div><div style="font-size:11px;color:rgba(255,255,255,0.35)"><span style="color:'+c+'">â†’ </span>CTA: '+rep.cta+'</div></div>';}).join('')+'<div style="background:rgba(16,185,129,0.07);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:12px;display:flex;gap:8px"><span style="font-size:16px;flex-shrink:0">ğŸ’¡</span><div style="font-size:12px;color:rgba(255,255,255,0.65)"><strong style="color:#6ee7b7">Pro tip:</strong> '+r.engagementTip+'</div></div>');
  }catch(e){errMsg('commentOut','Reply generation failed.');}
  doneBtn(btn,'ğŸ’¬ Generate 3 Reply Variants â€” Free');
}
async function genCompetitorAnalysis(){
  var name=getV('competitorName');if(!name){alert('Please enter a competitor name');return;}
  var btn=G('competitorBtn');ldBtn(btn,'Analyzing...');setH('competitorOut','');
  try{
    var r=safeJSON(await freeAI('YouTube competitive analyst. Compare Zenoti (@gozenoti, 8.2K YouTube subs) vs "'+name+'" ('+G('competitorSize').value+'). Focus: '+G('competitorFocus').value+'. Return ONLY valid JSON: {"competitorOverview":"2 sentences","contentGaps":["gap1","gap2","gap3","gap4"],"keywordOpportunities":["kw1","kw2","kw3","kw4","kw5"],"zenotiAdvantages":["adv1","adv2","adv3"],"competitorStrengths":["str1","str2","str3"],"actionableWins":["win1","win2","win3"],"contentCalendarTip":"specific tip","overallThreatLevel":"Low|Medium|High","overallThreatReason":"one sentence"}'));
    var threatColor={Low:'#10b981',Medium:'#f59e0b',High:'#ef4444'};
    var tc=threatColor[r.overallThreatLevel]||'#f59e0b';
    setH('competitorOut','<div style="background:rgba(255,255,255,0.025);border:1px solid rgba(239,68,68,0.2);border-radius:16px;overflow:hidden"><div style="background:linear-gradient(135deg,rgba(239,68,68,0.12),rgba(245,158,11,0.08));padding:14px 16px;border-bottom:1px solid rgba(255,255,255,0.06)"><div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px"><div style="font-size:13px;font-weight:800;color:white">ğŸ”¬ '+name+' vs Zenoti</div><div style="background:'+tc+'18;border:1px solid '+tc+'40;border-radius:20px;padding:4px 12px"><span style="font-size:11px;font-weight:700;color:'+tc+'">'+r.overallThreatLevel+' Threat</span></div></div><div style="font-size:12px;color:rgba(255,255,255,0.55)">'+r.competitorOverview+'</div></div><div style="padding:16px"><div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:12px"><div style="background:rgba(16,185,129,0.07);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:12px"><div style="font-size:10px;color:#6ee7b7;font-weight:700;text-transform:uppercase;margin-bottom:8px">âœ… Zenoti Advantages</div>'+(r.zenotiAdvantages||[]).map(function(a){return '<div style="font-size:12px;color:rgba(255,255,255,0.65);margin-bottom:5px"><span style="color:#10b981">+ </span>'+a+'</div>';}).join('')+'</div><div style="background:rgba(239,68,68,0.07);border:1px solid rgba(239,68,68,0.2);border-radius:12px;padding:12px"><div style="font-size:10px;color:#fca5a5;font-weight:700;text-transform:uppercase;margin-bottom:8px">âš ï¸ Their Strengths</div>'+(r.competitorStrengths||[]).map(function(a){return '<div style="font-size:12px;color:rgba(255,255,255,0.65);margin-bottom:5px"><span style="color:#ef4444">â€¢ </span>'+a+'</div>';}).join('')+'</div></div><div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2);border-radius:12px;padding:12px;margin-bottom:12px"><div style="font-size:10px;color:#a5b4fc;font-weight:700;text-transform:uppercase;margin-bottom:8px">ğŸ•³ï¸ Content Gaps You Can Win</div>'+(r.contentGaps||[]).map(function(g,i){return '<div style="font-size:12px;color:rgba(255,255,255,0.65);margin-bottom:5px;display:flex;gap:8px;align-items:center"><span style="background:rgba(99,102,241,0.25);border-radius:6px;padding:1px 6px;font-size:10px;font-weight:700;color:#a5b4fc">'+(i+1)+'</span>'+g+'</div>';}).join('')+'</div><div style="background:rgba(245,158,11,0.07);border:1px solid rgba(245,158,11,0.2);border-radius:12px;padding:12px;margin-bottom:12px"><div style="font-size:10px;color:#fde68a;font-weight:700;text-transform:uppercase;margin-bottom:8px">ğŸ” Keyword Opportunities</div><div style="display:flex;flex-wrap:wrap;gap:6px">'+(r.keywordOpportunities||[]).map(function(k){return '<span style="background:rgba(245,158,11,0.12);border:1px solid rgba(245,158,11,0.28);border-radius:20px;padding:3px 10px;font-size:11px;color:#fde68a">'+k+'</span>';}).join('')+'</div></div><div style="background:rgba(16,185,129,0.07);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:12px;margin-bottom:12px"><div style="font-size:10px;color:#6ee7b7;font-weight:700;text-transform:uppercase;margin-bottom:8px">ğŸš€ Actionable Wins</div>'+(r.actionableWins||[]).map(function(w){return '<div style="font-size:12px;color:rgba(255,255,255,0.65);margin-bottom:5px"><span style="color:#10b981">â†’ </span>'+w+'</div>';}).join('')+'</div><div style="background:rgba(99,102,241,0.06);border:1px solid rgba(99,102,241,0.18);border-radius:12px;padding:12px;display:flex;gap:8px"><span style="font-size:16px;flex-shrink:0">ğŸ“…</span><div style="font-size:12px;color:rgba(255,255,255,0.65)"><strong style="color:#a5b4fc">Calendar tip:</strong> '+r.contentCalendarTip+'</div></div></div></div>');
  }catch(e){errMsg('competitorOut','Analysis failed.');}
  doneBtn(btn,'ğŸ”¬ Analyze Competitor â€” Free');
}
function calcMonetization(){
  var views=parseInt((G('monoViews')||{}).value)||0,subs=parseInt((G('monoSubs')||{}).value)||0;
  if(!views||!subs){if(G('monoOut'))G('monoOut').style.display='none';if(G('monoEmpty'))G('monoEmpty').style.display='block';return;}
  var niche=G('monoNiche').value||'saas',length=G('monoLength').value||'medium';
  var rpm=(monoRPM[niche]&&monoRPM[niche][length])||4.5;
  var adsense=Math.round(views/1000*rpm),sponsorRate=subs<10000?300:subs<50000?1200:3500,leadPipeline=Math.round(views*0.003*850),total=adsense+sponsorRate+leadPipeline;
  G('mono-adsense').textContent='$'+adsense.toLocaleString();G('mono-rpm').textContent='RPM $'+rpm.toFixed(2);G('mono-sponsor').textContent='$'+sponsorRate.toLocaleString();G('mono-leads').textContent='$'+leadPipeline.toLocaleString();G('mono-total').textContent='$'+total.toLocaleString();
  var strategy=[{icon:'ğŸ“º',label:'AdSense',pct:Math.round(adsense/total*100),color:'#fde68a'},{icon:'ğŸ¤',label:'Sponsors',pct:Math.round(sponsorRate/total*100),color:'#6ee7b7'},{icon:'ğŸ¯',label:'Lead Gen',pct:Math.round(leadPipeline/total*100),color:'#a5b4fc'}];
  setH('mono-strategy','<div><div class="lbl" style="margin-bottom:10px">ğŸ“Š Revenue Mix</div>'+strategy.map(function(s){return '<div class="bar-row"><span style="min-width:90px;font-size:12px;color:rgba(255,255,255,0.65)">'+s.icon+' '+s.label+'</span><div class="mbar"><div style="height:7px;border-radius:4px;width:'+s.pct+'%;background:'+s.color+';transition:width 0.8s ease"></div></div><span style="font-size:12px;font-weight:700;color:'+s.color+';min-width:35px">'+s.pct+'%</span></div>';}).join('')+'</div>');
  G('monoOut').style.display='block';G('monoEmpty').style.display='none';
}
async function genMonetizationStrategy(){
  var views=getV('monoViews')||'142000',subs=getV('monoSubs')||'8200';
  var btn=G('monoStratBtn');ldBtn(btn,'Generating...');setH('monoStratOut','');
  try{
    var r=safeJSON(await freeAI('YouTube monetization strategist for Zenoti (@gozenoti). Channel: '+subs+' subs, '+views+' views/mo. Niche: '+(G('monoNiche').value||'saas')+'. Return ONLY valid JSON: {"phase1":{"title":"Quick wins (0-3 months)","actions":["action1","action2","action3"]},"phase2":{"title":"Scale up (3-6 months)","actions":["action1","action2","action3"]},"phase3":{"title":"Full monetization (6-12 months)","actions":["action1","action2","action3"]},"sponsorPitchTemplate":"Template email to pitch sponsors","topRevenueStream":"Best single revenue opportunity","projectedMonthly12m":"$X,XXX projected monthly revenue in 12 months"}'));
    var phases=[{key:'phase1',color:'#6366f1'},{key:'phase2',color:'#8b5cf6'},{key:'phase3',color:'#10b981'}];
    setH('monoStratOut','<div style="background:rgba(255,255,255,0.025);border:1px solid rgba(251,191,36,0.2);border-radius:16px;overflow:hidden"><div style="background:linear-gradient(135deg,rgba(251,191,36,0.12),rgba(16,185,129,0.08));padding:12px 16px;border-bottom:1px solid rgba(255,255,255,0.06);display:flex;align-items:center;justify-content:space-between"><div style="font-size:13px;font-weight:800;color:white">ğŸ’° 12-Month Roadmap</div><div style="background:rgba(16,185,129,0.15);border:1px solid rgba(16,185,129,0.3);border-radius:20px;padding:4px 12px"><span style="font-size:12px;font-weight:800;color:#6ee7b7">'+r.projectedMonthly12m+'/mo</span></div></div><div style="padding:16px"><div style="background:rgba(245,158,11,0.08);border:1px solid rgba(245,158,11,0.22);border-radius:12px;padding:12px;margin-bottom:14px"><div style="font-size:10px;color:#fde68a;font-weight:700;text-transform:uppercase;margin-bottom:4px">ğŸ† Top Revenue Opportunity</div><div style="font-size:13px;color:rgba(255,255,255,0.8)">'+r.topRevenueStream+'</div></div>'+phases.map(function(ph){var phase=r[ph.key];if(!phase)return '';return '<div style="margin-bottom:12px"><div style="display:flex;align-items:center;gap:8px;margin-bottom:8px"><div style="height:2px;flex:1;background:'+ph.color+'44"></div><span style="font-size:11px;font-weight:700;color:'+ph.color+';white-space:nowrap">'+phase.title+'</span><div style="height:2px;flex:1;background:'+ph.color+'44"></div></div>'+(phase.actions||[]).map(function(a){return '<div style="font-size:12px;color:rgba(255,255,255,0.65);margin-bottom:6px;display:flex;gap:8px;align-items:flex-start"><span style="width:18px;height:18px;border-radius:5px;background:'+ph.color+'22;border:1px solid '+ph.color+'44;display:inline-flex;align-items:center;justify-content:center;font-size:9px;color:'+ph.color+';flex-shrink:0;margin-top:1px">â†’</span>'+a+'</div>';}).join('')+'</div>';}).join('')+'<div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.22);border-radius:12px;padding:14px"><div style="font-size:10px;color:#a5b4fc;font-weight:700;text-transform:uppercase;margin-bottom:8px">ğŸ“§ Sponsor Outreach Template</div><div style="font-size:12px;color:rgba(255,255,255,0.65);line-height:1.7;white-space:pre-wrap;margin-bottom:8px">'+r.sponsorPitchTemplate+'</div><button onclick="navigator.clipboard.writeText(this.dataset.t)" data-t="'+esc(r.sponsorPitchTemplate)+'" style="background:rgba(99,102,241,0.18);border:1px solid rgba(99,102,241,0.35);border-radius:8px;color:#a5b4fc;font-size:11.5px;padding:6px 13px;cursor:pointer">â˜ Copy Template</button></div></div></div>');
  }catch(e){errMsg('monoStratOut','Strategy generation failed.');}
  doneBtn(btn,'ğŸ’¡ Generate Monetization Strategy â€” Free');
}

// â”€â”€ INIT â”€â”€
window.onload=function(){
  switchTab('create');
  G('freepikKey').addEventListener('input',function(){
    var has=this.value.trim().length>0;
    var fs=G('freepikStatus');
    if(fs){fs.innerHTML=has?'âœ… Key saved':'ğŸ”‘ Key required';fs.style.background=has?'rgba(16,185,129,0.15)':'rgba(245,158,11,0.15)';fs.style.borderColor=has?'rgba(16,185,129,0.3)':'rgba(245,158,11,0.3)';fs.style.color=has?'#6ee7b7':'#fde68a';}
  });
};
</script>
</body>
</html>
