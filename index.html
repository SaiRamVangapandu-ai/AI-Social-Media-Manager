<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Zenoti AI Social Media Intelligence Platform</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"/>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{background:#050510;font-family:'Inter',-apple-system,sans-serif;color:white;min-height:100vh}
input,textarea,select{font-family:'Inter',sans-serif}
input::placeholder,textarea::placeholder{color:rgba(255,255,255,0.25)!important}
select option{background:#0a0a1e;color:white}
::-webkit-scrollbar{width:5px}::-webkit-scrollbar-thumb{background:rgba(99,102,241,0.3);border-radius:3px}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.4}}
.live-dot{width:5px;height:5px;border-radius:50%;background:#10b981;display:inline-block;animation:pulse 2s infinite;flex-shrink:0}
@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
@keyframes barGrow{from{width:0}to{width:var(--w)}}
.card{background:rgba(12,12,32,0.85);border:1px solid rgba(99,102,241,0.18);border-radius:20px;backdrop-filter:blur(24px);box-shadow:0 8px 32px rgba(0,0,0,0.4),inset 0 1px 0 rgba(255,255,255,0.04);padding:24px;margin-bottom:16px}
.lbl{color:rgba(165,180,252,0.75);font-size:10.5px;font-weight:700;letter-spacing:0.12em;text-transform:uppercase;margin-bottom:8px}
.inp{width:100%;background:rgba(255,255,255,0.035);border:1px solid rgba(99,102,241,0.18);border-radius:12px;color:rgba(255,255,255,0.9);font-size:14px;padding:11px 15px;outline:none;transition:border-color 0.2s;resize:none}
.inp:focus{border-color:rgba(99,102,241,0.55)}
.sel{width:100%;background:rgba(8,8,28,0.95);border:1px solid rgba(99,102,241,0.22);border-radius:11px;color:rgba(255,255,255,0.82);font-size:13px;padding:9px 13px;outline:none;cursor:pointer}
.btn{border:none;border-radius:13px;color:white;font-weight:700;font-size:14px;padding:13px 22px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:7px;transition:all 0.18s;width:100%}
.btn:disabled{opacity:0.45;cursor:not-allowed}
.btn:hover:not(:disabled){transform:translateY(-1px)}
.chip{background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.07);border-radius:20px;color:rgba(255,255,255,0.38);font-size:12px;font-weight:600;padding:5px 13px;cursor:pointer;transition:all 0.14s;white-space:nowrap}
.chip.active{background:linear-gradient(135deg,rgba(99,102,241,0.4),rgba(168,85,247,0.35));border-color:rgba(99,102,241,0.55);color:#c4b5fd}
.minibar-wrap{background:rgba(255,255,255,0.05);border-radius:4px;overflow:hidden;flex:1}
.minibar-fill{height:6px;border-radius:4px;transition:width 0.8s ease}
.post-card{background:rgba(255,255,255,0.025);border:1px solid rgba(99,102,241,0.12);border-radius:15px;padding:18px;margin-bottom:12px;animation:fadeIn 0.3s ease}
.sh{display:flex;align-items:center;gap:10px;margin-bottom:16px}
.sh-icon{width:34px;height:34px;border-radius:10px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,rgba(99,102,241,0.25),rgba(168,85,247,0.25));border:1px solid rgba(99,102,241,0.3);font-size:17px;flex-shrink:0}
.divider{height:1px;background:linear-gradient(90deg,rgba(99,102,241,0.35),transparent);margin-bottom:20px}
.bar-row{display:flex;align-items:center;gap:12px;margin-bottom:11px;animation:fadeIn 0.4s ease both}
.bar-fill{height:8px;border-radius:6px;transition:width 1s ease}
.insight-row{display:flex;align-items:flex-start;gap:10px;border-radius:10px;padding:10px 13px;margin-bottom:8px;animation:fadeIn 0.35s ease both}
.trend-row{display:flex;align-items:center;gap:14px;padding:12px 0;border-bottom:1px solid rgba(255,255,255,0.05)}
.sec-div{height:1px;background:linear-gradient(90deg,transparent,rgba(99,102,241,0.25),transparent);margin:18px 0}
</style>
</head>
<body>
<div id="app" style="max-width:760px;margin:0 auto;padding:0 20px 60px">

<div style="position:fixed;top:-150px;left:-150px;width:500px;height:500px;border-radius:50%;background:radial-gradient(circle,rgba(99,102,241,0.07),transparent 70%);pointer-events:none;z-index:0"></div>
<div style="position:fixed;bottom:-150px;right:-150px;width:600px;height:600px;border-radius:50%;background:radial-gradient(circle,rgba(168,85,247,0.06),transparent 70%);pointer-events:none;z-index:0"></div>

<!-- HEADER -->
<div style="text-align:center;padding:32px 0 20px;position:relative;z-index:1">
  <div style="display:inline-flex;align-items:center;gap:8px;background:linear-gradient(135deg,rgba(99,102,241,0.15),rgba(168,85,247,0.15));border:1px solid rgba(99,102,241,0.35);border-radius:20px;padding:4px 14px;margin-bottom:12px">
    <span class="live-dot"></span>
    <span style="font-size:11px;font-weight:700;color:#a5b4fc;letter-spacing:0.1em;text-transform:uppercase">@gozenoti Â· Live Profile Data</span>
  </div>
  <h1 style="font-size:30px;font-weight:900;margin:0 0 6px;background:linear-gradient(135deg,#e0e7ff 0%,#a5b4fc 35%,#c084fc 65%,#f0abfc 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-0.025em;line-height:1.15">AI Social Media Intelligence Platform</h1>
  <p style="color:rgba(255,255,255,0.35);font-size:13px">Predict Â· Personalize Â· Automate Â· Amplify</p>
</div>

<!-- LIVE STATS -->
<div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:16px;position:relative;z-index:1">
  <div style="background:rgba(225,48,108,0.08);border:1px solid rgba(225,48,108,0.2);border-radius:14px;padding:12px;text-align:center">
    <div style="font-size:18px;margin-bottom:3px">ğŸ“¸</div><div style="font-size:18px;font-weight:800">14K</div>
    <div style="font-size:10px;color:rgba(225,48,108,0.8);font-weight:600">Instagram</div>
    <div style="font-size:10px;color:rgba(255,255,255,0.35);margin-top:2px">1.2% eng Â· +512/mo</div>
  </div>
  <div style="background:rgba(0,119,181,0.08);border:1px solid rgba(0,119,181,0.2);border-radius:14px;padding:12px;text-align:center">
    <div style="font-size:18px;margin-bottom:3px">ğŸ’¼</div><div style="font-size:18px;font-weight:800">68.8K</div>
    <div style="font-size:10px;color:rgba(0,119,181,0.9);font-weight:600">LinkedIn</div>
    <div style="font-size:10px;color:rgba(255,255,255,0.35);margin-top:2px">2.1% eng Â· +2.2K/mo</div>
  </div>
  <div style="background:rgba(29,161,242,0.08);border:1px solid rgba(29,161,242,0.2);border-radius:14px;padding:12px;text-align:center">
    <div style="font-size:18px;margin-bottom:3px">ğŸ¦</div><div style="font-size:18px;font-weight:800">1.3K</div>
    <div style="font-size:10px;color:rgba(29,161,242,0.9);font-weight:600">X / Twitter</div>
    <div style="font-size:10px;color:rgba(255,255,255,0.35);margin-top:2px">0.9% eng Â· growing</div>
  </div>
  <div style="background:rgba(24,119,242,0.08);border:1px solid rgba(24,119,242,0.2);border-radius:14px;padding:12px;text-align:center">
    <div style="font-size:18px;margin-bottom:3px">ğŸ‘¥</div><div style="font-size:18px;font-weight:800">12.4K</div>
    <div style="font-size:10px;color:rgba(24,119,242,0.9);font-weight:600">Facebook</div>
    <div style="font-size:10px;color:rgba(255,255,255,0.35);margin-top:2px">1.4% eng Â· stable</div>
  </div>
</div>

<!-- NAV GRID -->
<div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:16px;position:relative;z-index:1">
  <button onclick="switchTab('analytics',this)" id="nav-analytics"
    style="background:linear-gradient(135deg,rgba(225,48,108,0.2),rgba(236,72,153,0.15));border:1px solid rgba(225,48,108,0.35);border-radius:18px;padding:20px 14px;cursor:pointer;text-align:center;transition:all 0.2s">
    <div style="font-size:30px;margin-bottom:8px">ğŸ“Š</div>
    <div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">Analytics</div>
    <div style="font-size:11px;color:rgba(249,168,212,0.7);line-height:1.5">IG Â· LinkedIn Â· Trends</div>
    <div style="margin-top:10px;background:rgba(225,48,108,0.2);border-radius:20px;font-size:10px;font-weight:700;color:#f9a8d4;padding:3px 10px;display:inline-block">ğŸ“¡ Live Data</div>
  </button>
  <button onclick="switchTab('create',this)" id="nav-create"
    style="background:linear-gradient(135deg,rgba(99,102,241,0.25),rgba(168,85,247,0.2));border:1px solid rgba(99,102,241,0.4);border-radius:18px;padding:20px 14px;cursor:pointer;text-align:center;transition:all 0.2s">
    <div style="font-size:30px;margin-bottom:8px">ğŸš€</div>
    <div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">Generate Post</div>
    <div style="font-size:11px;color:rgba(165,180,252,0.7);line-height:1.5">Text Â· Image Â· Video</div>
    <div style="margin-top:10px;background:rgba(99,102,241,0.3);border-radius:20px;font-size:10px;font-weight:700;color:#a5b4fc;padding:3px 10px;display:inline-block">ğŸ†“ Free</div>
  </button>
  <button onclick="switchTab('predict',this)" id="nav-predict"
    style="background:linear-gradient(135deg,rgba(245,158,11,0.2),rgba(239,68,68,0.15));border:1px solid rgba(245,158,11,0.35);border-radius:18px;padding:20px 14px;cursor:pointer;text-align:center;transition:all 0.2s">
    <div style="font-size:30px;margin-bottom:8px">ğŸ”¬</div>
    <div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">Viral Predictor</div>
    <div style="font-size:11px;color:rgba(253,230,138,0.7);line-height:1.5">Score your posts</div>
    <div style="margin-top:10px;background:rgba(245,158,11,0.2);border-radius:20px;font-size:10px;font-weight:700;color:#fde68a;padding:3px 10px;display:inline-block">ğŸ†“ Free</div>
  </button>
  <button onclick="switchTab('persona',this)" id="nav-persona"
    style="background:linear-gradient(135deg,rgba(139,92,246,0.2),rgba(236,72,153,0.15));border:1px solid rgba(139,92,246,0.35);border-radius:18px;padding:20px 14px;cursor:pointer;text-align:center;transition:all 0.2s">
    <div style="font-size:30px;margin-bottom:8px">ğŸ­</div>
    <div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">Persona AI</div>
    <div style="font-size:11px;color:rgba(196,181,253,0.7);line-height:1.5">4 audience variants</div>
    <div style="margin-top:10px;background:rgba(139,92,246,0.2);border-radius:20px;font-size:10px;font-weight:700;color:#c4b5fd;padding:3px 10px;display:inline-block">ğŸ†“ Free</div>
  </button>
  <button onclick="switchTab('repurpose',this)" id="nav-repurpose"
    style="background:linear-gradient(135deg,rgba(16,185,129,0.2),rgba(99,102,241,0.15));border:1px solid rgba(16,185,129,0.35);border-radius:18px;padding:20px 14px;cursor:pointer;text-align:center;transition:all 0.2s">
    <div style="font-size:30px;margin-bottom:8px">â™»ï¸</div>
    <div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">Repurpose</div>
    <div style="font-size:11px;color:rgba(110,231,183,0.7);line-height:1.5">1 post â†’ 8 formats</div>
    <div style="margin-top:10px;background:rgba(16,185,129,0.2);border-radius:20px;font-size:10px;font-weight:700;color:#6ee7b7;padding:3px 10px;display:inline-block">ğŸ†“ Free</div>
  </button>
  <button onclick="switchTab('calendar',this)" id="nav-calendar"
    style="background:linear-gradient(135deg,rgba(59,130,246,0.2),rgba(99,102,241,0.15));border:1px solid rgba(59,130,246,0.35);border-radius:18px;padding:20px 14px;cursor:pointer;text-align:center;transition:all 0.2s">
    <div style="font-size:30px;margin-bottom:8px">ğŸ“…</div>
    <div style="font-size:14px;font-weight:800;color:white;margin-bottom:4px">Calendar</div>
    <div style="font-size:11px;color:rgba(147,197,253,0.7);line-height:1.5">Approve Â· Reject</div>
    <div style="margin-top:10px;background:rgba(59,130,246,0.2);border-radius:20px;font-size:10px;font-weight:700;color:#93c5fd;padding:3px 10px;display:inline-block"><span id="calBadge">4</span> Pending</div>
  </button>
</div>

<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;position:relative;z-index:1">
  <button onclick="switchTab('calendar',document.getElementById('nav-calendar'));setTimeout(()=>{toggleUploadForm()},50)"
    style="background:linear-gradient(135deg,rgba(99,102,241,0.28),rgba(168,85,247,0.22));border:1px solid rgba(99,102,241,0.45);border-radius:12px;color:#a5b4fc;font-size:12.5px;font-weight:700;padding:9px 16px;cursor:pointer;display:flex;align-items:center;gap:6px;transition:all 0.2s"
    onmouseover="this.style.background='rgba(99,102,241,0.38)';this.style.color='white'"
    onmouseout="this.style.background='linear-gradient(135deg,rgba(99,102,241,0.28),rgba(168,85,247,0.22))';this.style.color='#a5b4fc'">
    â• Schedule a Post
  </button>
  <button onclick="switchTab('settings',document.getElementById('nav-settings') || this)"
    style="background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.1);border-radius:12px;color:rgba(255,255,255,0.5);font-size:12.5px;font-weight:600;padding:8px 16px;cursor:pointer;display:flex;align-items:center;gap:6px;transition:all 0.2s"
    onmouseover="this.style.background='rgba(99,102,241,0.12)';this.style.color='#a5b4fc'"
    onmouseout="this.style.background='rgba(255,255,255,0.04)';this.style.color='rgba(255,255,255,0.5)'">
    âš™ï¸ Settings &amp; API Keys
  </button>
</div>

<!-- â•â• SETTINGS â•â• -->
<div id="panel-settings" class="tab-panel" style="display:none;position:relative;z-index:1">
  <div class="card">
    <div class="sh"><div class="sh-icon">âš™ï¸</div><div><div style="color:white;font-weight:700;font-size:15.5px">Settings & API Configuration</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Configure your API keys for image & video generation</div></div></div>
    <div class="divider"></div>
    <div style="background:rgba(16,185,129,0.08);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:14px 16px;margin-bottom:20px">
      <div style="font-size:12.5px;font-weight:700;color:#6ee7b7;margin-bottom:4px">âœ… All AI features work for free â€” no key needed</div>
      <div style="font-size:12px;color:rgba(255,255,255,0.5);line-height:1.6">Only add a Freepik key if you want real AI images & videos.</div>
    </div>
    <div style="margin-bottom:20px">
      <div class="lbl">ğŸ–¼ï¸ Freepik API Key (Optional)</div>
      <input id="freepikKey" class="inp" type="password" placeholder="FPSX-... paste your Freepik API key here"/>
      <div style="margin-top:8px;font-size:11.5px;color:rgba(255,255,255,0.35)">Get free $5 credits at <a href="https://freepik.com/api" target="_blank" style="color:#a5b4fc">freepik.com/api</a></div>
    </div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
      <div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2);border-radius:14px;padding:16px">
        <div style="font-size:18px;margin-bottom:8px">ğŸ¤–</div>
        <div style="font-size:13px;font-weight:700;color:white;margin-bottom:4px">AI Post Generation</div>
        <div style="font-size:11.5px;color:rgba(255,255,255,0.4);margin-bottom:8px">Powered by Pollinations.ai</div>
        <span style="background:rgba(16,185,129,0.15);border:1px solid rgba(16,185,129,0.3);border-radius:20px;color:#6ee7b7;font-size:11px;font-weight:700;padding:3px 10px">ğŸ†“ Free</span>
      </div>
      <div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2);border-radius:14px;padding:16px">
        <div style="font-size:18px;margin-bottom:8px">ğŸ–¼ï¸</div>
        <div style="font-size:13px;font-weight:700;color:white;margin-bottom:4px">Image & Video Generation</div>
        <div style="font-size:11.5px;color:rgba(255,255,255,0.4);margin-bottom:8px">Powered by Freepik AI</div>
        <span id="freepikStatus" style="background:rgba(245,158,11,0.15);border:1px solid rgba(245,158,11,0.3);border-radius:20px;color:#fde68a;font-size:11px;font-weight:700;padding:3px 10px">ğŸ”‘ Key required</span>
      </div>
    </div>
  </div>
</div>

<!-- â•â• ANALYTICS â•â• -->
<div id="panel-analytics" class="tab-panel" style="display:none;position:relative;z-index:1">

  <!-- Instagram Card -->
  <div class="card" style="box-shadow:0 0 40px rgba(225,48,108,0.1),0 8px 32px rgba(0,0,0,0.4)">
    <div class="sh">
      <div class="sh-icon" style="background:linear-gradient(135deg,rgba(225,48,108,0.3),rgba(236,72,153,0.2));border-color:rgba(225,48,108,0.4)">ğŸ“¸</div>
      <div>
        <div style="color:white;font-weight:700;font-size:15.5px">@gozenoti Instagram</div>
        <div style="color:rgba(255,255,255,0.38);font-size:11.5px">14K followers Â· 1,089 posts Â· 1.2% engagement</div>
      </div>
      <div style="margin-left:auto;display:flex;align-items:center;gap:5px;background:rgba(16,185,129,0.12);border:1px solid rgba(16,185,129,0.3);border-radius:20px;padding:4px 10px">
        <span class="live-dot"></span>
        <span style="font-size:10px;font-weight:700;color:#6ee7b7">Live</span>
      </div>
    </div>
    <div class="divider"></div>

    <!-- IG stat cards -->
    <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:20px">
      <div style="background:rgba(225,48,108,0.08);border:1px solid rgba(225,48,108,0.2);border-radius:14px;padding:14px;text-align:center">
        <div style="font-size:18px;margin-bottom:4px">ğŸ‘¥</div><div style="font-size:20px;font-weight:800">14K</div>
        <div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;letter-spacing:0.06em;margin-top:2px">Followers</div>
        <div style="font-size:10px;color:#10b981;margin-top:3px;font-weight:600">â–² +512/mo</div>
      </div>
      <div style="background:rgba(225,48,108,0.08);border:1px solid rgba(225,48,108,0.2);border-radius:14px;padding:14px;text-align:center">
        <div style="font-size:18px;margin-bottom:4px">ğŸ–¼ï¸</div><div style="font-size:20px;font-weight:800">1,089</div>
        <div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;letter-spacing:0.06em;margin-top:2px">Posts</div>
        <div style="font-size:10px;color:#a5b4fc;margin-top:3px;font-weight:600">~6/week</div>
      </div>
      <div style="background:rgba(225,48,108,0.08);border:1px solid rgba(225,48,108,0.2);border-radius:14px;padding:14px;text-align:center">
        <div style="font-size:18px;margin-bottom:4px">ğŸ’¬</div><div style="font-size:20px;font-weight:800">1.2%</div>
        <div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;letter-spacing:0.06em;margin-top:2px">Eng Rate</div>
        <div style="font-size:10px;color:#f59e0b;margin-top:3px;font-weight:600">Industry avg 3.5%</div>
      </div>
      <div style="background:rgba(225,48,108,0.08);border:1px solid rgba(225,48,108,0.2);border-radius:14px;padding:14px;text-align:center">
        <div style="font-size:18px;margin-bottom:4px">ğŸ“¡</div><div style="font-size:20px;font-weight:800">18.6K</div>
        <div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;letter-spacing:0.06em;margin-top:2px">Avg Reach</div>
        <div style="font-size:10px;color:#10b981;margin-top:3px;font-weight:600">â–² +8% vs last mo</div>
      </div>
    </div>

    <!-- IG Content Format Performance -->
    <div class="lbl">ğŸ“Š Content Format Performance</div>
    <div id="ig-perf"></div>

    <div class="sec-div"></div>

    <!-- IG Hashtags -->
    <div class="lbl">ğŸ·ï¸ Top Performing Hashtags</div>
    <div id="ig-tags"></div>

    <!-- IG best time + growth -->
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:16px">
      <div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.2);border-radius:12px;padding:14px">
        <div style="font-size:11px;color:#a5b4fc;font-weight:700;margin-bottom:6px">â° Best Posting Time</div>
        <div style="font-size:14px;color:white;font-weight:700">Mon / Wed / Fri</div>
        <div style="font-size:12px;color:rgba(255,255,255,0.45);margin-top:2px">6:00 PM â€“ 8:00 PM</div>
        <div style="font-size:10.5px;color:#10b981;margin-top:6px;font-weight:600">+34% reach vs off-peak</div>
      </div>
      <div style="background:rgba(16,185,129,0.08);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:14px">
        <div style="font-size:11px;color:#6ee7b7;font-weight:700;margin-bottom:6px">ğŸ“ˆ Monthly Growth</div>
        <div style="font-size:14px;color:white;font-weight:700">+3.8% Â· +512 followers</div>
        <div style="font-size:12px;color:rgba(255,255,255,0.45);margin-top:2px">Save rate 4.2% Â· Stories 82% complete</div>
        <div style="font-size:10.5px;color:#10b981;margin-top:6px;font-weight:600">Goal: 20K by Q3 2026</div>
      </div>
    </div>

    <!-- AI Content Mix -->
    <div style="margin-top:14px;background:linear-gradient(135deg,rgba(225,48,108,0.07),rgba(99,102,241,0.07));border:1px solid rgba(225,48,108,0.18);border-radius:14px;padding:16px">
      <div style="font-size:11px;color:#f9a8d4;font-weight:700;margin-bottom:10px">ğŸ¤– AI Recommended Content Mix</div>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <div style="flex:1;min-width:80px;background:rgba(225,48,108,0.12);border-radius:10px;padding:10px;text-align:center"><div style="font-size:18px;font-weight:800;color:#e1306c">40%</div><div style="font-size:10px;color:rgba(255,255,255,0.5);margin-top:2px">Reels</div></div>
        <div style="flex:1;min-width:80px;background:rgba(99,102,241,0.12);border-radius:10px;padding:10px;text-align:center"><div style="font-size:18px;font-weight:800;color:#a5b4fc">30%</div><div style="font-size:10px;color:rgba(255,255,255,0.5);margin-top:2px">Carousels</div></div>
        <div style="flex:1;min-width:80px;background:rgba(245,158,11,0.12);border-radius:10px;padding:10px;text-align:center"><div style="font-size:18px;font-weight:800;color:#fbbf24">20%</div><div style="font-size:10px;color:rgba(255,255,255,0.5);margin-top:2px">Stories</div></div>
        <div style="flex:1;min-width:80px;background:rgba(16,185,129,0.12);border-radius:10px;padding:10px;text-align:center"><div style="font-size:18px;font-weight:800;color:#6ee7b7">10%</div><div style="font-size:10px;color:rgba(255,255,255,0.5);margin-top:2px">Static</div></div>
      </div>
    </div>
  </div>

  <!-- LinkedIn Card -->
  <div class="card" style="box-shadow:0 0 40px rgba(0,119,181,0.1),0 8px 32px rgba(0,0,0,0.4)">
    <div class="sh">
      <div class="sh-icon" style="background:linear-gradient(135deg,rgba(0,119,181,0.3),rgba(0,119,181,0.15));border-color:rgba(0,119,181,0.4)">ğŸ’¼</div>
      <div>
        <div style="color:white;font-weight:700;font-size:15.5px">Zenoti LinkedIn</div>
        <div style="color:rgba(255,255,255,0.38);font-size:11.5px">68.8K followers Â· 862 employees Â· 30K+ customers Â· $1.5B valuation</div>
      </div>
      <div style="margin-left:auto;display:flex;align-items:center;gap:5px;background:rgba(16,185,129,0.12);border:1px solid rgba(16,185,129,0.3);border-radius:20px;padding:4px 10px">
        <span class="live-dot"></span>
        <span style="font-size:10px;font-weight:700;color:#6ee7b7">Live</span>
      </div>
    </div>
    <div class="divider"></div>

    <!-- LI stat cards -->
    <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:20px">
      <div style="background:rgba(0,119,181,0.08);border:1px solid rgba(0,119,181,0.2);border-radius:14px;padding:14px;text-align:center">
        <div style="font-size:18px;margin-bottom:4px">ğŸ‘¥</div><div style="font-size:20px;font-weight:800">68.8K</div>
        <div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;letter-spacing:0.06em;margin-top:2px">Followers</div>
        <div style="font-size:10px;color:#10b981;margin-top:3px;font-weight:600">â–² +2.2K/mo</div>
      </div>
      <div style="background:rgba(0,119,181,0.08);border:1px solid rgba(0,119,181,0.2);border-radius:14px;padding:14px;text-align:center">
        <div style="font-size:18px;margin-bottom:4px">ğŸ’¬</div><div style="font-size:20px;font-weight:800">2.1%</div>
        <div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;letter-spacing:0.06em;margin-top:2px">Eng Rate</div>
        <div style="font-size:10px;color:#10b981;margin-top:3px;font-weight:600">Top 15% industry</div>
      </div>
      <div style="background:rgba(0,119,181,0.08);border:1px solid rgba(0,119,181,0.2);border-radius:14px;padding:14px;text-align:center">
        <div style="font-size:18px;margin-bottom:4px">ğŸ‘ï¸</div><div style="font-size:20px;font-weight:800">124K</div>
        <div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;letter-spacing:0.06em;margin-top:2px">Impressions/mo</div>
        <div style="font-size:10px;color:#f59e0b;margin-top:3px;font-weight:600">â–² +18% vs prev</div>
      </div>
      <div style="background:rgba(0,119,181,0.08);border:1px solid rgba(0,119,181,0.2);border-radius:14px;padding:14px;text-align:center">
        <div style="font-size:18px;margin-bottom:4px">ğŸ“ˆ</div><div style="font-size:20px;font-weight:800">+2.2K</div>
        <div style="font-size:10px;color:rgba(255,255,255,0.4);text-transform:uppercase;letter-spacing:0.06em;margin-top:2px">New/Month</div>
        <div style="font-size:10px;color:#10b981;margin-top:3px;font-weight:600">Goal: 100K by Q4</div>
      </div>
    </div>

    <!-- LI Post Format Performance -->
    <div class="lbl">ğŸ“Š Post Format Performance</div>
    <div id="li-perf"></div>

    <div class="sec-div"></div>

    <!-- LI Algorithm Insights -->
    <div class="lbl">âš¡ LinkedIn 2025 Algorithm Insights</div>
    <div id="li-insights"></div>

    <div class="sec-div"></div>

    <!-- LI Audience Breakdown -->
    <div class="lbl">ğŸ‘¥ Audience Breakdown</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:4px">
      <div>
        <div style="font-size:10px;color:rgba(255,255,255,0.3);font-weight:600;margin-bottom:8px">BY ROLE</div>
        <div id="li-roles"></div>
      </div>
      <div>
        <div style="font-size:10px;color:rgba(255,255,255,0.3);font-weight:600;margin-bottom:8px">BY INDUSTRY</div>
        <div id="li-industries"></div>
      </div>
    </div>

    <!-- LI best time -->
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:14px">
      <div style="background:rgba(0,119,181,0.08);border:1px solid rgba(0,119,181,0.2);border-radius:12px;padding:14px">
        <div style="font-size:11px;color:#93c5fd;font-weight:700;margin-bottom:6px">â° Best Posting Time</div>
        <div style="font-size:14px;color:white;font-weight:700">Tue / Wed / Thu</div>
        <div style="font-size:12px;color:rgba(255,255,255,0.45);margin-top:2px">8:00 AM â€“ 10:00 AM</div>
        <div style="font-size:10.5px;color:#10b981;margin-top:6px;font-weight:600">+52% reach during biz hours</div>
      </div>
      <div style="background:rgba(245,158,11,0.08);border:1px solid rgba(245,158,11,0.2);border-radius:12px;padding:14px">
        <div style="font-size:11px;color:#fde68a;font-weight:700;margin-bottom:6px">ğŸ¯ Growth Target</div>
        <div style="font-size:14px;color:white;font-weight:700">100K Followers</div>
        <div style="font-size:12px;color:rgba(255,255,255,0.45);margin-top:2px">Est. Q4 2026 at current pace</div>
        <div style="font-size:10.5px;color:#f59e0b;margin-top:6px;font-weight:600">68.8% of goal achieved</div>
      </div>
    </div>
  </div>

  <!-- Trending Card -->
  <div class="card" style="box-shadow:0 0 30px rgba(99,102,241,0.07),0 8px 32px rgba(0,0,0,0.4)">
    <div class="sh">
      <div class="sh-icon" style="background:linear-gradient(135deg,rgba(239,68,68,0.3),rgba(245,158,11,0.2));border-color:rgba(239,68,68,0.35)">ğŸ”¥</div>
      <div>
        <div style="color:white;font-weight:700;font-size:15.5px">Trending Topics for @gozenoti</div>
        <div style="color:rgba(255,255,255,0.38);font-size:11.5px">Beauty & Wellness Â· SaaS Â· AI Â· Updated daily</div>
      </div>
    </div>
    <div class="divider"></div>

    <!-- Trend tabs -->
    <div style="display:flex;gap:6px;margin-bottom:16px" id="trend-tabs">
      <button class="chip active" id="tt-all"  onclick="showTrends(this,'all')">ğŸŒ All</button>
      <button class="chip"        id="tt-ig"   onclick="showTrends(this,'ig')">ğŸ“¸ Instagram</button>
      <button class="chip"        id="tt-li"   onclick="showTrends(this,'li')">ğŸ’¼ LinkedIn</button>
      <button class="chip"        id="tt-tw"   onclick="showTrends(this,'tw')">ğŸ¦ X/Twitter</button>
    </div>

    <div id="trending"></div>

    <div style="margin-top:16px;background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(168,85,247,0.08));border:1px solid rgba(99,102,241,0.25);border-radius:14px;padding:16px">
      <div style="font-size:11px;color:#a5b4fc;font-weight:700;margin-bottom:8px">ğŸš€ Cross-Platform Opportunity</div>
      <div style="font-size:13px;color:rgba(255,255,255,0.7);line-height:1.7"><strong style="color:white">"AI in Beauty & Wellness"</strong> is trending across all platforms â€” post now for max amplification. Combine with <strong style="color:#c4b5fd">#SalonTech</strong> + <strong style="color:#c4b5fd">#AIBooking</strong> for a 3.2x reach multiplier.</div>
      <button onclick="switchTab('create',document.getElementById('nav-create'))" style="margin-top:12px;background:linear-gradient(135deg,#6366f1,#8b5cf6);border:none;border-radius:10px;color:white;font-size:12.5px;font-weight:700;padding:9px 18px;cursor:pointer">ğŸš€ Create Post on This Trend â†’</button>
    </div>
  </div>
</div><!-- end analytics -->

<!-- â•â• VIRAL PREDICTOR â•â• -->
<div id="panel-predict" class="tab-panel" style="display:none;position:relative;z-index:1">
  <div class="card">
    <div class="sh"><div class="sh-icon">ğŸ”¬</div><div><div style="color:white;font-weight:700;font-size:15.5px">Viral Score Analyzer</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Paste your draft â€” AI scores its performance potential</div></div></div>
    <div class="divider"></div>
    <div class="lbl">Platform</div>
    <div style="display:flex;gap:8px;margin-bottom:14px;flex-wrap:wrap">
      <button class="chip active" onclick="selVP(this,'linkedin')">ğŸ’¼ LinkedIn</button>
      <button class="chip" onclick="selVP(this,'instagram')">ğŸ“¸ Instagram</button>
      <button class="chip" onclick="selVP(this,'twitter')">ğŸ¦ X / Twitter</button>
      <button class="chip" onclick="selVP(this,'facebook')">ğŸ‘¥ Facebook</button>
    </div>
    <div class="lbl">Draft Post</div>
    <textarea id="viralDraft" class="inp" rows="4" placeholder="Paste your post draft hereâ€¦"></textarea>
    <button class="btn" onclick="analyzeViral()" id="viralBtn" style="background:linear-gradient(135deg,#f59e0b,#ef4444);margin-top:12px">ğŸ”¬ Analyze Viral Potential â€” Free</button>
    <div id="viralResult" style="margin-top:20px"></div>
  </div>
</div>

<!-- â•â• CREATE â•â• -->
<div id="panel-create" class="tab-panel" style="display:none;position:relative;z-index:1">
  <div class="card">
    <div class="sh"><div class="sh-icon">ğŸ¨</div><div><div style="color:white;font-weight:700;font-size:15.5px">What type of post?</div></div></div>
    <div class="divider"></div>
    <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px">
      <button onclick="selPostType('text')" id="pt-text" style="background:linear-gradient(135deg,rgba(99,102,241,0.33),rgba(99,102,241,0.18));border:2px solid rgba(99,102,241,0.88);border-radius:16px;padding:18px 12px;cursor:pointer;text-align:center;transform:translateY(-2px)">
        <div style="font-size:26px;margin-bottom:8px">âœï¸</div><div style="font-size:13px;font-weight:700;color:white;margin-bottom:4px">Text Post</div>
        <div style="font-size:10px;color:#a5b4fc">Pure copy Â· Free AI</div>
        <div style="margin-top:8px;width:22px;height:22px;border-radius:11px;background:#6366f1;margin-left:auto;margin-right:auto;display:flex;align-items:center;justify-content:center;font-size:12px;color:white;font-weight:800">âœ“</div>
      </button>
      <button onclick="selPostType('image')" id="pt-image" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.07);border-radius:16px;padding:18px 12px;cursor:pointer;text-align:center">
        <div style="font-size:26px;margin-bottom:8px">ğŸ–¼ï¸</div><div style="font-size:13px;font-weight:700;color:rgba(255,255,255,0.55);margin-bottom:4px">Image Post</div>
        <div style="font-size:10px;color:rgba(255,255,255,0.3)">Freepik AI image</div>
      </button>
      <button onclick="selPostType('video')" id="pt-video" style="background:rgba(255,255,255,0.03);border:2px solid rgba(255,255,255,0.07);border-radius:16px;padding:18px 12px;cursor:pointer;text-align:center">
        <div style="font-size:26px;margin-bottom:8px">ğŸ¬</div><div style="font-size:13px;font-weight:700;color:rgba(255,255,255,0.55);margin-bottom:4px">Video Post</div>
        <div style="font-size:10px;color:rgba(255,255,255,0.3)">Freepik AI video</div>
      </button>
    </div>
  </div>
  <div class="card">
    <div class="sh"><div class="sh-icon">âœï¸</div><div><div style="color:white;font-weight:700;font-size:15.5px">Content Brief</div></div></div>
    <div class="divider"></div>
    <div style="margin-bottom:14px"><div class="lbl">Topic / Brief *</div><textarea id="postTopic" class="inp" rows="3" placeholder="e.g. Zenoti AI booking launch â€” trusted by 30k+ salonsâ€¦"></textarea></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:14px">
      <div><div class="lbl">Platforms</div>
        <div style="display:flex;flex-wrap:wrap;gap:6px">
          <button class="chip active" onclick="togPlat(this,'linkedin')">ğŸ’¼ LinkedIn</button>
          <button class="chip active" onclick="togPlat(this,'instagram')">ğŸ“¸ Instagram</button>
          <button class="chip" onclick="togPlat(this,'twitter')">ğŸ¦ X</button>
          <button class="chip" onclick="togPlat(this,'facebook')">ğŸ‘¥ Facebook</button>
        </div>
      </div>
      <div><div class="lbl">Tone</div>
        <div style="display:flex;flex-wrap:wrap;gap:6px">
          <button class="chip active" onclick="selTone(this,'Professional')">Professional</button>
          <button class="chip" onclick="selTone(this,'Casual & Fun')">Casual</button>
          <button class="chip" onclick="selTone(this,'Inspirational')">Inspirational</button>
          <button class="chip" onclick="selTone(this,'Educational')">Educational</button>
        </div>
      </div>
    </div>
    <div style="margin-bottom:14px"><div class="lbl">Extra Context</div><input id="postExtra" class="inp" placeholder="e.g. mention 30k+ salons milestoneâ€¦"/></div>
  </div>
  <div id="text-panel" class="card">
    <div class="sh"><div class="sh-icon">ğŸ“</div><div><div style="color:white;font-weight:700;font-size:15.5px">Text Post Generator</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Free AI Â· @gozenoti voice & hashtags</div></div></div>
    <div class="divider"></div>
    <button class="btn" onclick="genPosts()" id="genPostsBtn" style="background:linear-gradient(135deg,#6366f1,#8b5cf6);margin-bottom:16px">âœ¨ Generate Text Posts â€” Free</button>
    <div id="postsOut"></div>
  </div>
  <div id="image-panel" class="card" style="display:none">
    <div class="sh"><div class="sh-icon">ğŸ–¼ï¸</div><div><div style="color:white;font-weight:700;font-size:15.5px">Image Post Generator</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Freepik AI â€” real JPEG images</div></div></div>
    <div class="divider"></div>
    <div id="imgKeyWarn" style="background:rgba(239,68,68,0.08);border:1px solid rgba(239,68,68,0.25);border-radius:12px;padding:12px 16px;margin-bottom:16px;color:#fca5a5;font-size:12.5px">âš ï¸ Freepik API key required â€” add it in âš™ï¸ Settings</div>
    <div style="margin-bottom:12px"><div class="lbl">Image Prompt *</div><textarea id="imgPrompt" class="inp" rows="3" placeholder="Describe your visualâ€¦"></textarea></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:16px">
      <div><div class="lbl">Style</div><select id="imgStyle" class="sel"><option>realistic</option><option>cinematic</option><option>digital-art</option><option>anime</option><option>oil-painting</option><option>3d-render</option><option>minimalist</option><option>watercolor</option></select></div>
      <div><div class="lbl">Size</div><select id="imgSize" class="sel"><option value="square_1_1">1:1 Square</option><option value="portrait_4_5">4:5 Portrait</option><option value="widescreen_16_9">16:9 Wide</option><option value="vertical_9_16">9:16 Story</option></select></div>
    </div>
    <button class="btn" onclick="genImage()" id="genImgBtn" style="background:linear-gradient(135deg,#10b981,#6366f1);margin-bottom:14px">ğŸ–¼ï¸ Generate Real Image</button>
    <div id="imgStatus"></div><div id="imgOut"></div>
  </div>
  <div id="video-panel" class="card" style="display:none">
    <div class="sh"><div class="sh-icon">ğŸ¬</div><div><div style="color:white;font-weight:700;font-size:15.5px">Video Post Generator</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">Freepik Kling v3 Pro Â· 60â€“120s render</div></div></div>
    <div class="divider"></div>
    <div style="background:rgba(245,158,11,0.07);border:1px solid rgba(245,158,11,0.2);border-radius:10px;padding:9px 13px;margin-bottom:14px;color:rgba(253,224,71,0.7);font-size:11.5px">âš¡ ~$0.49 per 5s Â· Freepik API key required in âš™ï¸ Settings</div>
    <div style="margin-bottom:12px"><div class="lbl">Video Prompt *</div><textarea id="vidPrompt" class="inp" rows="3" placeholder="Describe the scene, action, camera movementâ€¦"></textarea></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">
      <div><div class="lbl">Aspect</div><select id="vidAspect" class="sel"><option value="16:9">ğŸ–¥ï¸ 16:9 Landscape</option><option value="9:16">ğŸ“± 9:16 Reels</option><option value="1:1">â¬› 1:1 Square</option></select></div>
      <div><div class="lbl">Duration</div><select id="vidDur" class="sel"><option value="5">5s (~$0.49)</option><option value="10">10s (~$0.98)</option><option value="15">15s (~$1.47)</option></select></div>
    </div>
    <button class="btn" onclick="genVideo()" id="genVidBtn" style="background:linear-gradient(135deg,#db2777,#9333ea);margin-bottom:14px">ğŸ¬ Generate Video</button>
    <div id="vidStatus"></div><div id="vidOut"></div>
  </div>
</div>

<!-- â•â• PERSONA â•â• -->
<div id="panel-persona" class="tab-panel" style="display:none;position:relative;z-index:1">
  <div class="card">
    <div class="sh"><div class="sh-icon">ğŸ­</div><div><div style="color:white;font-weight:700;font-size:15.5px">Persona-Based Content Variants</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">One topic â†’ 4 unique audience-targeted variants â€” Free</div></div></div>
    <div class="divider"></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:14px">
      <div><div class="lbl">Platform</div>
        <div style="display:flex;gap:6px;flex-wrap:wrap">
          <button class="chip active" onclick="selPP(this,'instagram')">ğŸ“¸</button>
          <button class="chip" onclick="selPP(this,'linkedin')">ğŸ’¼</button>
          <button class="chip" onclick="selPP(this,'twitter')">ğŸ¦</button>
          <button class="chip" onclick="selPP(this,'facebook')">ğŸ‘¥</button>
        </div>
        <input type="hidden" id="persPlat" value="instagram"/>
      </div>
      <div><div class="lbl">Audience Persona</div>
        <select id="persType" class="sel">
          <option value="Salon Owner (ROI focused, 35-50yo)">ğŸ’‡ Salon Owner</option>
          <option value="Spa Manager (Wellness focused, 28-45yo)">ğŸ§– Spa Manager</option>
          <option value="Wellness Coach (Holistic, 25-40yo)">ğŸ§˜ Wellness Coach</option>
          <option value="Beauty Pro (Trend-driven, 22-35yo)">ğŸ’„ Beauty Pro</option>
        </select>
      </div>
    </div>
    <div style="margin-bottom:14px"><div class="lbl">Topic</div><input id="persTopic" class="inp" placeholder="e.g. AI appointment booking saves 3 hours a weekâ€¦"/></div>
    <button class="btn" onclick="genPersona()" id="persBtn" style="background:linear-gradient(135deg,#8b5cf6,#ec4899)">ğŸ­ Generate 4 Persona Variants â€” Free</button>
    <div id="persOut" style="margin-top:20px"></div>
  </div>
</div>

<!-- â•â• REPURPOSE â•â• -->
<div id="panel-repurpose" class="tab-panel" style="display:none;position:relative;z-index:1">
  <div class="card">
    <div class="sh"><div class="sh-icon">â™»ï¸</div><div><div style="color:white;font-weight:700;font-size:15.5px">Auto-Repurpose Engine</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">One piece of content â†’ 8 platform-optimized formats â€” Free</div></div></div>
    <div class="divider"></div>
    <div style="margin-bottom:14px"><div class="lbl">Paste Blog Post, Article, or Any Content</div><textarea id="repInput" class="inp" rows="5" placeholder="Paste your blog post, article, announcementâ€¦"></textarea></div>
    <button class="btn" onclick="genRepurpose()" id="repBtn" style="background:linear-gradient(135deg,#10b981,#6366f1)">â™»ï¸ Repurpose Into 8 Formats â€” Free</button>
    <div id="repOut" style="margin-top:20px"></div>
  </div>
</div>

<!-- â•â• CALENDAR â•â• -->
<div id="panel-calendar" class="tab-panel" style="display:none;position:relative;z-index:1">
  <div class="card">
    <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px">
      <div class="sh" style="margin-bottom:0"><div class="sh-icon">ğŸ“…</div><div><div style="color:white;font-weight:700;font-size:15.5px">AI Content Calendar</div><div style="color:rgba(255,255,255,0.38);font-size:11.5px">AI-planned schedule Â· Approve or reject</div></div></div>
      <div style="display:flex;align-items:center;gap:8px">
        <span id="schCount" style="background:rgba(16,185,129,0.15);border:1px solid rgba(16,185,129,0.3);border-radius:20px;color:#6ee7b7;font-size:11px;font-weight:700;padding:4px 12px">3 Scheduled</span>
        <button onclick="toggleUploadForm()" id="uploadToggleBtn" style="background:linear-gradient(135deg,rgba(99,102,241,0.3),rgba(168,85,247,0.25));border:1px solid rgba(99,102,241,0.5);border-radius:20px;color:#a5b4fc;font-size:11px;font-weight:700;padding:5px 13px;cursor:pointer;display:flex;align-items:center;gap:5px">
          â• Add Post
        </button>
      </div>
    </div>
    <div class="divider"></div>

    <!-- Manual Upload Form -->
    <div id="uploadForm" style="display:none;background:rgba(99,102,241,0.06);border:1px solid rgba(99,102,241,0.22);border-radius:16px;padding:18px;margin-bottom:18px;animation:fadeIn 0.25s ease">
      <div style="font-size:13px;font-weight:800;color:white;margin-bottom:14px;display:flex;align-items:center;gap:8px">
        <span style="width:28px;height:28px;background:linear-gradient(135deg,#6366f1,#8b5cf6);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:14px">ğŸ“¤</span>
        Schedule a Post Manually
      </div>

      <!-- Platform + Type -->
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px">
        <div>
          <div class="lbl">Platform</div>
          <select id="upPlatform" class="sel">
            <option value="instagram">ğŸ“¸ Instagram</option>
            <option value="linkedin">ğŸ’¼ LinkedIn</option>
            <option value="twitter">ğŸ¦ X / Twitter</option>
            <option value="facebook">ğŸ‘¥ Facebook</option>
          </select>
        </div>
        <div>
          <div class="lbl">Post Type</div>
          <select id="upType" class="sel">
            <option>Reels</option>
            <option>Carousel</option>
            <option>Static Image</option>
            <option>Video</option>
            <option>Story</option>
            <option>Article</option>
            <option>Thread</option>
            <option>Poll</option>
          </select>
        </div>
      </div>

      <!-- Topic / Caption -->
      <div style="margin-bottom:12px">
        <div class="lbl">Topic / Title</div>
        <input id="upTopic" class="inp" placeholder="e.g. New AI Feature Launch â€” Zenoti Smart Scheduling"/>
      </div>
      <div style="margin-bottom:12px">
        <div class="lbl">Caption</div>
        <textarea id="upCaption" class="inp" rows="3" placeholder="Write your post caption, hashtags, CTAâ€¦"></textarea>
      </div>

      <!-- Media Upload -->
      <div style="margin-bottom:12px">
        <div class="lbl">Upload Image or Video</div>
        <label for="upMedia" id="upMediaLabel" style="display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;background:rgba(255,255,255,0.03);border:2px dashed rgba(99,102,241,0.3);border-radius:12px;padding:22px;cursor:pointer;transition:all 0.2s" onmouseover="this.style.borderColor='rgba(99,102,241,0.6)';this.style.background='rgba(99,102,241,0.08)'" onmouseout="this.style.borderColor='rgba(99,102,241,0.3)';this.style.background='rgba(255,255,255,0.03)'">
          <span style="font-size:28px" id="upMediaIcon">ğŸ–¼ï¸</span>
          <span style="font-size:13px;font-weight:600;color:rgba(255,255,255,0.6)" id="upMediaText">Click to upload image or video</span>
          <span style="font-size:11px;color:rgba(255,255,255,0.28)">JPG, PNG, MP4, MOV Â· Max 200MB</span>
        </label>
        <input type="file" id="upMedia" accept="image/*,video/*" style="display:none" onchange="handleMediaUpload(this)"/>
        <div id="upMediaPreview" style="margin-top:10px;display:none"></div>
      </div>

      <!-- Schedule Date + Time -->
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px">
        <div>
          <div class="lbl">Schedule Date</div>
          <input type="date" id="upDate" class="inp" style="color-scheme:dark"/>
        </div>
        <div>
          <div class="lbl">Schedule Time</div>
          <input type="time" id="upTime" class="inp" style="color-scheme:dark"/>
        </div>
      </div>

      <!-- Submit -->
      <div style="display:flex;gap:8px">
        <button onclick="submitUpload()" style="flex:2;background:linear-gradient(135deg,#6366f1,#8b5cf6);border:none;border-radius:11px;color:white;font-size:13px;font-weight:700;padding:11px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:6px">
          ğŸ“… Add to Calendar
        </button>
        <button onclick="toggleUploadForm()" style="flex:1;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:11px;color:rgba(255,255,255,0.5);font-size:13px;font-weight:600;padding:11px;cursor:pointer">
          Cancel
        </button>
      </div>
    </div>

    <div id="calItems"></div>
  </div>
</div>

</div><!-- #app -->
<script>
// â”€â”€ CONSTANTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const PC={linkedin:'#0077b5',instagram:'#e1306c',twitter:'#1da1f2',facebook:'#1877f2'};
const PI={linkedin:'ğŸ’¼',instagram:'ğŸ“¸',twitter:'ğŸ¦',facebook:'ğŸ‘¥'};
const PL={linkedin:'LinkedIn',instagram:'Instagram',twitter:'X/Twitter',facebook:'Facebook'};
const PM={linkedin:3000,instagram:2200,twitter:280,facebook:500};
const PT={linkedin:'professional, insightful',instagram:'visual, engaging, emotional',twitter:'punchy, witty, concise',facebook:'friendly, community-driven'};

// â”€â”€ ANALYTICS DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const igPerfData=[
  ['ğŸ¬ Reels',91,'#e1306c','4.8% eng Â· 3.2x reach boost'],
  ['ğŸ  Carousel',85,'#c026d3','3.6% eng Â· Highest saves'],
  ['â­• Stories',72,'#9333ea','82% completion Â· Strong DMs'],
  ['ğŸ–¼ï¸ Static Image',64,'#6366f1','2.1% eng Â· Quick to produce'],
  ['ğŸ”— Link Post',38,'#3b82f6','0.9% eng Â· Reach penalty']
];
const igTagsData=[
  {tag:'#GoZenoti',reach:'18.4K',color:'#e1306c'},
  {tag:'#SalonTech',reach:'142K',color:'#c026d3'},
  {tag:'#BeautyAndWellness',reach:'98K',color:'#9333ea'},
  {tag:'#MedSpa',reach:'76K',color:'#6366f1'},
  {tag:'#AIBeauty',reach:'54K',color:'#3b82f6'},
  {tag:'#SpaLife',reach:'211K',color:'#0ea5e9'},
  {tag:'#WellnessTech',reach:'38K',color:'#10b981'},
  {tag:'#SalonOwner',reach:'89K',color:'#f59e0b'},
  {tag:'#BookingApp',reach:'31K',color:'#ef4444'},
  {tag:'#BeautyBiz',reach:'167K',color:'#ec4899'},
];
const liPerfData=[
  ['ğŸ“„ Document/Carousel',92,'#0077b5','5.2% eng Â· Top shares & saves'],
  ['ğŸ¬ Native Video',86,'#0ea5e9','4.1% eng Â· 2.8x organic reach'],
  ['âœï¸ Text-only Post',78,'#6366f1','3.8% eng Â· High comment rate'],
  ['ğŸ—³ï¸ Poll',71,'#8b5cf6','Avg 340 votes Â· Great discovery'],
  ['ğŸ“° Article',62,'#a855f7','Long shelf-life Â· SEO value'],
  ['ğŸ”— External Link',34,'#64748b','Algorithm penalized Â· Use sparingly']
];
const liInsightsData=[
  {icon:'âš¡',text:'Posts shown to only ~1.6% of followers initially â€” quality of early engagement determines viral fate',bg:'rgba(245,158,11,0.07)',border:'rgba(245,158,11,0.2)'},
  {icon:'ğŸ’¬',text:'Comments are 15x more valuable than likes â€” always reply within 60 min to trigger second distribution wave',bg:'rgba(16,185,129,0.07)',border:'rgba(16,185,129,0.2)'},
  {icon:'â°',text:'First 90 minutes is the golden window â€” schedule for 8â€“10 AM Tue/Wed/Thu when decision-makers are online',bg:'rgba(99,102,241,0.08)',border:'rgba(99,102,241,0.2)'},
  {icon:'ğŸ“„',text:'Documents & carousels get 3x more saves â€” saves signal topic authority to the algorithm',bg:'rgba(168,85,247,0.07)',border:'rgba(168,85,247,0.2)'},
  {icon:'ğŸ‘¤',text:'Employee advocacy posts get 2.75x more impressions â€” tag team members and encourage reshares',bg:'rgba(239,68,68,0.07)',border:'rgba(239,68,68,0.2)'},
];
const liRolesData=[['Salon/Spa Owner',42,'#0077b5'],['C-Suite / VP',18,'#6366f1'],['Product Manager',14,'#8b5cf6'],['Marketing Lead',13,'#ec4899'],['Operations',13,'#10b981']];
const liIndustriesData=[['Health & Wellness',38,'#0077b5'],['Hospitality',22,'#10b981'],['Beauty & Personal Care',19,'#e1306c'],['Retail & eComm',11,'#f59e0b'],['Technology',10,'#6366f1']];

const allTrends=[
  {topic:'AI in Beauty & Wellness',score:96,delta:'+42%',plats:['ğŸ“¸','ğŸ’¼','ğŸ¦'],tag:'ğŸ”¥ Breakout',filter:['all','ig','li','tw']},
  {topic:'MedSpa Automation',score:88,delta:'+38%',plats:['ğŸ“¸','ğŸ’¼'],tag:'ğŸ“ˆ Rising',filter:['all','ig','li']},
  {topic:'Salon Booking Software',score:84,delta:'+31%',plats:['ğŸ’¼','ğŸ‘¥'],tag:'ğŸ“ˆ Rising',filter:['all','li']},
  {topic:'Self-Care Sunday',score:80,delta:'+27%',plats:['ğŸ“¸','ğŸ‘¥'],tag:'âœ… Steady',filter:['all','ig']},
  {topic:'AI Appointment Booking',score:76,delta:'+24%',plats:['ğŸ’¼','ğŸ¦'],tag:'âœ… Steady',filter:['all','li','tw']},
  {topic:'Wellness Tech 2026',score:73,delta:'+19%',plats:['ğŸ’¼','ğŸ¦'],tag:'âœ… Steady',filter:['all','li','tw']},
  {topic:'Spa Industry Trends',score:70,delta:'+16%',plats:['ğŸ“¸','ğŸ‘¥'],tag:'âœ… Steady',filter:['all','ig']},
  {topic:'Beauty Business Tips',score:66,delta:'+12%',plats:['ğŸ“¸','ğŸ‘¥','ğŸ¦'],tag:'âœ… Steady',filter:['all','ig','tw']},
];

// â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const S={
  viralPlat:'linkedin', postType:'text',
  selPlats:['linkedin','instagram'], tone:'Professional',
  trendFilter:'all',
  cal:[
    {id:1,pl:'instagram',type:'Reels',   topic:'AI Booking Demo',         score:94,time:'Mon 6pm', st:'scheduled'},
    {id:2,pl:'linkedin', type:'Article', topic:'Future of Salon Tech',    score:88,time:'Tue 9am', st:'pending'},
    {id:3,pl:'twitter',  type:'Thread',  topic:'5 Wellness Trends 2026',  score:85,time:'Wed 12pm',st:'pending'},
    {id:4,pl:'instagram',type:'Carousel',topic:'Before & After Gallery',  score:91,time:'Wed 6pm', st:'scheduled'},
    {id:5,pl:'facebook', type:'Event',   topic:'Zenoti Webinar Live',     score:79,time:'Thu 2pm', st:'pending'},
    {id:6,pl:'linkedin', type:'Video',   topic:'Customer Success Story',  score:92,time:'Fri 10am',st:'pending'},
    {id:7,pl:'twitter',  type:'Poll',    topic:'Biggest Salon Challenge?',score:83,time:'Fri 1pm', st:'scheduled'},
  ]
};

// â”€â”€ HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const $=id=>document.getElementById(id);
const setH=(id,h)=>{if($(id))$(id).innerHTML=h;};
const getV=id=>$(id)?$(id).value.trim():'';
function errMsg(id,msg){setH(id,`<div style="background:rgba(239,68,68,0.08);border:1px solid rgba(239,68,68,0.3);border-radius:12px;padding:12px 16px;color:#fca5a5;font-size:13px">âŒ ${msg}</div>`);}
function ldBtn(b,m){b.disabled=true;b.innerHTML=`<span style="width:14px;height:14px;border:2px solid rgba(255,255,255,0.3);border-top:2px solid white;border-radius:50%;animation:spin 1s linear infinite;display:inline-block;flex-shrink:0"></span> ${m}`;}
function doneBtn(b,l){b.disabled=false;b.innerHTML=l;}

// â”€â”€ RENDER ANALYTICS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function renderAnalytics(){
  // IG perf bars
  setH('ig-perf', igPerfData.map(([t,s,c,sub],i)=>`
    <div class="bar-row" style="animation-delay:${i*0.07}s">
      <span style="min-width:120px;font-size:12.5px;color:rgba(255,255,255,0.72);font-weight:600">${t}</span>
      <div class="minibar-wrap" style="height:8px">
        <div class="bar-fill" style="width:${s}%;background:linear-gradient(90deg,${c},${c}88);height:8px;box-shadow:0 0 8px ${c}44"></div>
      </div>
      <span style="min-width:26px;font-size:12.5px;font-weight:800;text-align:right;color:${c}">${s}</span>
      <span style="font-size:10px;color:rgba(255,255,255,0.28);white-space:nowrap;min-width:160px;padding-left:4px">${sub}</span>
    </div>`).join(''));

  // IG hashtags
  setH('ig-tags',`
    <div style="display:flex;flex-wrap:wrap;gap:0;margin-bottom:8px">
      ${igTagsData.map(h=>`<span style="display:inline-block;margin:3px;background:${h.color}18;border:1px solid ${h.color}40;border-radius:20px;font-size:11.5px;color:${h.color};padding:5px 12px;font-weight:700">${h.tag} <span style="opacity:0.5;font-size:10px">Â· ${h.reach}</span></span>`).join('')}
    </div>
    <div style="font-size:10.5px;color:rgba(255,255,255,0.28)">Reach = total posts using hashtag Â· Mix large (100K+) & niche (&lt;50K) for best discovery</div>`);

  // LI post format bars
  setH('li-perf', liPerfData.map(([t,s,c,sub],i)=>`
    <div class="bar-row" style="animation-delay:${i*0.07}s">
      <span style="min-width:145px;font-size:12.5px;color:rgba(255,255,255,0.72);font-weight:600">${t}</span>
      <div class="minibar-wrap" style="height:8px">
        <div class="bar-fill" style="width:${s}%;background:linear-gradient(90deg,${c},${c}88);height:8px;box-shadow:0 0 8px ${c}44"></div>
      </div>
      <span style="min-width:26px;font-size:12.5px;font-weight:800;text-align:right;color:${c}">${s}</span>
      <span style="font-size:10px;color:rgba(255,255,255,0.28);white-space:nowrap;min-width:145px;padding-left:4px">${sub}</span>
    </div>`).join(''));

  // LI insights
  setH('li-insights', liInsightsData.map((ins,i)=>`
    <div class="insight-row" style="background:${ins.bg};border:1px solid ${ins.border};animation-delay:${i*0.08}s">
      <span style="font-size:16px;flex-shrink:0">${ins.icon}</span>
      <span style="font-size:12px;color:rgba(255,255,255,0.65);line-height:1.65">${ins.text}</span>
    </div>`).join(''));

  // LI roles
  setH('li-roles', liRolesData.map(([r,p,c])=>`
    <div style="display:flex;align-items:center;gap:8px;margin-bottom:9px">
      <span style="font-size:11px;color:rgba(255,255,255,0.5);min-width:95px">${r}</span>
      <div class="minibar-wrap"><div class="bar-fill" style="width:${p}%;background:${c};height:6px"></div></div>
      <span style="font-size:11px;font-weight:700;color:${c};min-width:28px">${p}%</span>
    </div>`).join(''));

  // LI industries
  setH('li-industries', liIndustriesData.map(([r,p,c])=>`
    <div style="display:flex;align-items:center;gap:8px;margin-bottom:9px">
      <span style="font-size:11px;color:rgba(255,255,255,0.5);min-width:95px">${r}</span>
      <div class="minibar-wrap"><div class="bar-fill" style="width:${p}%;background:${c};height:6px"></div></div>
      <span style="font-size:11px;font-weight:700;color:${c};min-width:28px">${p}%</span>
    </div>`).join(''));

  // Trending
  showTrends(null, S.trendFilter);
}

function showTrends(el, filter){
  S.trendFilter = filter;
  // update tab chips
  ['all','ig','li','tw'].forEach(k=>{
    const b=$('tt-'+k);
    if(b) b.classList.toggle('active', k===filter);
  });
  const sc=s=>s>=85?'#ef4444':s>=75?'#f59e0b':'#10b981';
  const data=allTrends.filter(t=>t.filter.includes(filter));
  setH('trending', data.map((t,i)=>`
    <div class="trend-row" style="${i===data.length-1?'border-bottom:none':''}">
      <div style="width:30px;height:30px;border-radius:9px;background:linear-gradient(135deg,rgba(99,102,241,0.3),rgba(168,85,247,0.3));display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:800;color:#a5b4fc;flex-shrink:0">${i+1}</div>
      <div style="flex:1">
        <div style="font-size:13.5px;font-weight:700;color:white;margin-bottom:3px">${t.topic}</div>
        <div style="display:flex;gap:6px;align-items:center">
          <span style="font-size:10px;background:rgba(255,255,255,0.05);border-radius:20px;padding:2px 8px;color:rgba(255,255,255,0.4)">${t.tag}</span>
          <span style="font-size:11px;color:rgba(255,255,255,0.3)">${t.plats.join(' ')}</span>
        </div>
      </div>
      <div style="display:flex;align-items:center;gap:10px;flex-shrink:0">
        <div class="minibar-wrap" style="max-width:72px"><div class="bar-fill" style="width:${t.score}%;background:linear-gradient(90deg,${sc(t.score)},${sc(t.score)}88);height:6px"></div></div>
        <span style="font-size:12px;font-weight:800;color:${sc(t.score)};min-width:26px">${t.score}</span>
        <span style="font-size:12px;font-weight:700;color:#10b981;min-width:40px">${t.delta}</span>
      </div>
    </div>`).join(''));
}

// â”€â”€ NAV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function switchTab(id, btn){
  document.querySelectorAll('.tab-panel').forEach(p=>p.style.display='none');
  $('panel-'+id).style.display='block';
  if(id==='analytics') renderAnalytics();
  if(id==='calendar')  renderCal();
  window.scrollTo({top:0,behavior:'smooth'});
}

// â”€â”€ FREE AI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function freeAI(prompt){
  const r=await fetch(`https://text.pollinations.ai/${encodeURIComponent(prompt)}`,{headers:{'Accept':'text/plain'}});
  return await r.text();
}

// â”€â”€ CHIP HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function togPlat(el,p){el.classList.toggle('active');S.selPlats=el.classList.contains('active')?[...S.selPlats,p]:S.selPlats.filter(x=>x!==p);}
function selTone(el,t){document.querySelectorAll('#panel-create .chip').forEach(c=>{if(c.getAttribute('onclick')?.includes('selTone'))c.classList.remove('active');});el.classList.add('active');S.tone=t;}
function selVP(el,p){el.parentElement.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));el.classList.add('active');S.viralPlat=p;}
function selPP(el,p){el.parentElement.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));el.classList.add('active');$('persPlat').value=p;}
function selPostType(t){
  S.postType=t;
  const cols={text:'#6366f1',image:'#10b981',video:'#ec4899'};
  ['text','image','video'].forEach(x=>{
    const b=$('pt-'+x),on=x===t;
    b.style.background=on?`linear-gradient(135deg,${cols[x]}33,${cols[x]}18)`:'rgba(255,255,255,0.03)';
    b.style.border=`2px solid ${on?cols[x]+'88':'rgba(255,255,255,0.07)'}`;
    b.style.transform=on?'translateY(-2px)':'none';
    const old=b.querySelector('.chk');if(old)old.remove();
    if(on){const d=document.createElement('div');d.className='chk';d.style.cssText=`margin-top:8px;width:22px;height:22px;border-radius:11px;background:${cols[x]};margin-left:auto;margin-right:auto;display:flex;align-items:center;justify-content:center;font-size:12px;color:white;font-weight:800`;d.textContent='âœ“';b.appendChild(d);}
  });
  $('text-panel').style.display=t==='text'?'block':'none';
  $('image-panel').style.display=t==='image'?'block':'none';
  $('video-panel').style.display=t==='video'?'block':'none';
}

// â”€â”€ VIRAL ANALYZER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function analyzeViral(){
  const draft=getV('viralDraft');if(!draft){alert('Please enter a post draft');return;}
  const btn=$('viralBtn');ldBtn(btn,'Analyzingâ€¦');setH('viralResult','');
  try{
    const raw=await freeAI(`Analyze this ${S.viralPlat} post for Zenoti (@gozenoti). Return ONLY valid JSON no extra text:
Post: "${draft}"
{"viralScore":78,"engagementPrediction":"8-12%","reachEstimate":"45K-80K","hookStrength":72,"emotionalTrigger":85,"shareability":68,"clarity":90,"ctaStrength":60,"bestTimeToPost":"Wed 6-8pm","strengths":["point 1","point 2"],"improvements":["fix 1","fix 2"],"rewrittenHook":"better opening","verdict":"2-line assessment"}`);
    const r=JSON.parse(raw.replace(/```json|```/g,'').trim());
    const sc=s=>s>=85?'#10b981':s>=70?'#f59e0b':'#ef4444';
    const ring=(score,lbl,sz=80)=>{const r2=30,ci=2*Math.PI*r2,d=(score/100)*ci,c=sc(score);return `<div style="display:flex;flex-direction:column;align-items:center;gap:5px"><svg width="${sz}" height="${sz}" viewBox="0 0 72 72"><circle cx="36" cy="36" r="${r2}" fill="none" stroke="rgba(255,255,255,0.06)" stroke-width="5"/><circle cx="36" cy="36" r="${r2}" fill="none" stroke="${c}" stroke-width="5" stroke-dasharray="${d} ${ci-d}" stroke-dashoffset="${ci/4}" stroke-linecap="round" style="filter:drop-shadow(0 0 6px ${c})"/><text x="36" y="40" text-anchor="middle" fill="white" font-size="14" font-weight="800">${score}</text></svg>${lbl?`<span style="font-size:9px;color:rgba(255,255,255,0.38);font-weight:700;text-transform:uppercase;letter-spacing:0.08em">${lbl}</span>`:''}</div>`;};
    setH('viralResult',`<div style="display:flex;gap:12px;align-items:center;justify-content:center;margin-bottom:20px;flex-wrap:wrap">${ring(r.viralScore,'Viral Score')}${ring(r.hookStrength,'Hook',64)}${ring(r.emotionalTrigger,'Emotion',64)}${ring(r.shareability,'Share',64)}${ring(r.ctaStrength,'CTA',64)}</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">${[['ğŸ“Š Engagement',r.engagementPrediction],['ğŸ“¡ Reach',r.reachEstimate],['â° Best Time',r.bestTimeToPost],['ğŸ¯ Clarity',r.clarity+'/100']].map(([l,v])=>`<div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.06);border-radius:12px;padding:12px"><div style="font-size:10px;color:rgba(255,255,255,0.38);margin-bottom:3px">${l}</div><div style="font-size:15px;font-weight:700">${v}</div></div>`).join('')}</div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">
      <div style="background:rgba(16,185,129,0.07);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:14px"><div style="font-size:10px;color:#6ee7b7;font-weight:700;margin-bottom:8px">âœ… STRENGTHS</div>${(r.strengths||[]).map(s=>`<div style="font-size:12px;color:rgba(255,255,255,0.65);margin-bottom:5px;display:flex;gap:5px"><span style="color:#10b981">+</span>${s}</div>`).join('')}</div>
      <div style="background:rgba(239,68,68,0.07);border:1px solid rgba(239,68,68,0.2);border-radius:12px;padding:14px"><div style="font-size:10px;color:#fca5a5;font-weight:700;margin-bottom:8px">âš¡ IMPROVEMENTS</div>${(r.improvements||[]).map(s=>`<div style="font-size:12px;color:rgba(255,255,255,0.65);margin-bottom:5px;display:flex;gap:5px"><span style="color:#f59e0b">â†’</span>${s}</div>`).join('')}</div>
    </div>
    <div style="background:rgba(99,102,241,0.08);border:1px solid rgba(99,102,241,0.22);border-radius:12px;padding:14px;margin-bottom:14px;border-left:3px solid #6366f1"><div style="font-size:10px;color:#a5b4fc;font-weight:700;margin-bottom:5px">ğŸª„ AI REWRITES YOUR HOOK</div><div style="font-size:13px;color:#c4b5fd;font-style:italic;line-height:1.6">"${r.rewrittenHook}"</div></div>
    <div style="background:rgba(255,255,255,0.03);border-radius:12px;padding:14px"><div style="font-size:10px;color:rgba(255,255,255,0.38);font-weight:700;margin-bottom:4px">ğŸ§  AI VERDICT</div><div style="font-size:13px;color:rgba(255,255,255,0.75);line-height:1.6">${r.verdict}</div></div>`);
  }catch(e){errMsg('viralResult','Analysis failed â€” please try again.');}
  doneBtn(btn,'ğŸ”¬ Analyze Viral Potential â€” Free');
}

// â”€â”€ GENERATE POSTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function genPosts(){
  const topic=getV('postTopic');if(!topic){alert('Please enter a topic');return;}
  const btn=$('genPostsBtn');ldBtn(btn,'Generatingâ€¦');setH('postsOut','');
  try{
    const pd=S.selPlats.map(id=>`${PL[id]}: max ${PM[id]} chars, tone: ${PT[id]}`).join(' | ');
    const extra=getV('postExtra');
    const raw=await freeAI(`You are a social media manager for Zenoti (@gozenoti, beauty & wellness SaaS, 30k+ salons). Create posts.
Topic: ${topic}, Tone: ${S.tone}${extra?', Extra: '+extra:''}
Hashtags: #GoZenoti #BeautyAndWellness #SalonTech #MedSpa
Platforms: ${pd}
Return ONLY valid JSON object no extra text: { ${S.selPlats.map(id=>`"${id}": "post content"`).join(', ')} }`);
    const posts=JSON.parse(raw.replace(/```json|```/g,'').trim());
    let html=`<div style="display:flex;gap:6px;margin-bottom:14px;flex-wrap:wrap">`;
    S.selPlats.forEach((id,i)=>{html+=`<button class="chip${i===0?' active':''}" onclick="showPost(this,'${id}')">${PI[id]} ${PL[id]}</button>`;});
    html+=`<button class="chip" onclick="showAllPosts(this)">ğŸ“‹ All</button></div><div id="postCards">`;
    S.selPlats.forEach((id,i)=>{
      if(!posts[id])return;
      html+=`<div class="post-card" data-p="${id}" style="${i>0?'display:none':''}"><div style="display:flex;justify-content:space-between;margin-bottom:10px"><span style="color:rgba(255,255,255,0.65);font-weight:600;font-size:12.5px">${PI[id]} ${PL[id]}</span><span style="color:rgba(255,255,255,0.25);font-size:10.5px;font-family:monospace">${posts[id].length}/${PM[id]}</span></div><p style="color:rgba(255,255,255,0.78);font-size:13.5px;line-height:1.72;white-space:pre-wrap;margin-bottom:12px">${posts[id]}</p><button onclick="cpBtn(this)" data-t="${posts[id].replace(/"/g,'&quot;').replace(/'/g,'&#39;')}" style="background:rgba(99,102,241,0.12);border:1px solid rgba(99,102,241,0.28);border-radius:8px;color:#a5b4fc;font-size:11.5px;font-weight:600;padding:5px 13px;cursor:pointer">â˜ Copy</button></div>`;
    });
    html+=`</div><button onclick="genPosts()" style="width:100%;margin-top:8px;background:transparent;border:1px solid rgba(99,102,241,0.22);border-radius:11px;color:rgba(165,180,252,0.55);font-size:12.5px;font-weight:600;padding:10px;cursor:pointer">ğŸ”„ Regenerate</button>`;
    setH('postsOut',html);
  }catch(e){errMsg('postsOut','Generation failed â€” please try again.');}
  doneBtn(btn,'âœ¨ Generate Text Posts â€” Free');
}
function showPost(el,p){document.querySelectorAll('#postCards .post-card').forEach(c=>c.style.display=c.dataset.p===p?'block':'none');el.parentElement.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));el.classList.add('active');}
function showAllPosts(el){document.querySelectorAll('#postCards .post-card').forEach(c=>c.style.display='block');el.parentElement.querySelectorAll('.chip').forEach(c=>c.classList.remove('active'));el.classList.add('active');}
function cpBtn(b){navigator.clipboard.writeText(b.dataset.t).then(()=>{b.textContent='âœ“ Copied';setTimeout(()=>b.textContent='â˜ Copy',2000);});}

// â”€â”€ IMAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function genImage(){
  const fk=getV('freepikKey');if(!fk){alert('Add your Freepik API key in âš™ï¸ Settings');return;}
  const prompt=getV('imgPrompt');if(!prompt){alert('Please enter an image prompt');return;}
  const btn=$('genImgBtn');ldBtn(btn,'Generatingâ€¦');
  setH('imgStatus','<div style="background:rgba(16,185,129,0.07);border:1px solid rgba(16,185,129,0.2);border-radius:12px;padding:12px 16px;color:#6ee7b7;font-size:12.5px;display:flex;align-items:center;gap:8px"><div style="width:14px;height:14px;border:2px solid rgba(16,185,129,0.3);border-top:2px solid #10b981;border-radius:50%;animation:spin 1s linear infinite;flex-shrink:0"></div>Generating via Freepik AIâ€¦ 15-30s</div>');
  setH('imgOut','');
  try{
    const fp=`${prompt}, ${$('imgStyle').value} style, professional high quality social media`;
    const res=await fetch('https://api.freepik.com/v1/ai/text-to-image',{method:'POST',headers:{'Content-Type':'application/json','x-freepik-api-key':fk},body:JSON.stringify({prompt:fp,num_images:1,image:{size:$('imgSize').value},filter_nsfw:true})});
    const data=await res.json();
    if(!res.ok)throw new Error(data?.message||`Freepik error ${res.status}`);
    let imgUrl=null;
    if(data?.data?.length){const it=data.data[0];imgUrl=it.base64?`data:image/jpeg;base64,${it.base64}`:it.url;}
    else if(data?.data?.task_id){
      const tid=data.data.task_id;
      for(let i=0;i<20;i++){
        await new Promise(r=>setTimeout(r,4000));
        setH('imgStatus',`<div style="background:rgba(99,102,241,0.07);border:1px solid rgba(99,102,241,0.18);border-radius:12px;padding:12px 16px;color:rgba(165,180,252,0.75);font-size:12.5px">âŸ³ Processingâ€¦ ${(i+1)*4}s</div>`);
        const p=await(await fetch(`https://api.freepik.com/v1/ai/text-to-image/${tid}`,{headers:{'x-freepik-api-key':fk}})).json();
        if(p?.data?.status==='COMPLETED'||p?.data?.status==='OK'){const imgs=p?.data?.generated||p?.data||[];if(imgs[0])imgUrl=imgs[0].base64?`data:image/jpeg;base64,${imgs[0].base64}`:imgs[0].url;break;}
        if(p?.data?.status==='FAILED')throw new Error('Task failed');
      }
    }
    if(!imgUrl)throw new Error('No image returned â€” check Freepik credits');
    setH('imgStatus','<div style="background:rgba(16,185,129,0.1);border:1px solid rgba(16,185,129,0.3);border-radius:12px;padding:10px 14px;color:#6ee7b7;font-size:12px">âœ… Image generated!</div>');
    setH('imgOut',`<div style="position:relative;border-radius:14px;overflow:hidden;border:1px solid rgba(16,185,129,0.25);margin-top:8px"><img src="${imgUrl}" style="width:100%;display:block"/><a href="${imgUrl}" download="zenoti-image.jpg" target="_blank" style="position:absolute;bottom:8px;right:8px;background:rgba(0,0,0,0.75);border:1px solid rgba(255,255,255,0.15);border-radius:8px;color:white;font-size:12px;font-weight:600;padding:5px 11px;text-decoration:none">â¬‡ Save</a></div>`);
  }catch(e){setH('imgStatus','');errMsg('imgOut',e.message);}
  doneBtn(btn,'ğŸ–¼ï¸ Generate Real Image');
}

// â”€â”€ VIDEO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function genVideo(){
  const fk=getV('freepikKey');if(!fk){alert('Add your Freepik API key in âš™ï¸ Settings');return;}
  const prompt=getV('vidPrompt');if(!prompt){alert('Please enter a video prompt');return;}
  const btn=$('genVidBtn');ldBtn(btn,'Submittingâ€¦');setH('vidStatus','');setH('vidOut','');
  try{
    const res=await fetch('https://api.freepik.com/v1/ai/video/kling-v3-pro',{method:'POST',headers:{'Content-Type':'application/json','x-freepik-api-key':fk},body:JSON.stringify({prompt,aspect_ratio:$('vidAspect').value,duration:$('vidDur').value,negative_prompt:'blurry, low quality, distorted'})});
    const data=await res.json();
    if(!res.ok)throw new Error(data?.message||`Freepik error ${res.status}`);
    const tid=data?.data?.task_id;if(!tid)throw new Error('No task ID');
    for(let i=0;i<40;i++){
      await new Promise(r=>setTimeout(r,5000));btn.innerHTML=`â³ Renderingâ€¦ ${(i+1)*5}s`;
      setH('vidStatus',`<div style="background:rgba(99,102,241,0.07);border:1px solid rgba(99,102,241,0.18);border-radius:11px;padding:11px 15px;color:rgba(165,180,252,0.75);font-size:12.5px">âŸ³ Renderingâ€¦ ${(i+1)*5}s</div>`);
      const p=await(await fetch(`https://api.freepik.com/v1/ai/video/kling-v3-pro/${tid}`,{headers:{'x-freepik-api-key':fk}})).json();
      if(p?.data?.status==='COMPLETED'||p?.data?.status==='OK'){
        const url=p?.data?.generated?.[0]?.url||p?.data?.url;
        if(url){setH('vidStatus','');setH('vidOut',`<div style="border-radius:14px;overflow:hidden;border:1px solid rgba(236,72,153,0.3)"><video src="${url}" controls style="width:100%;display:block"></video><div style="display:flex;gap:8px;padding:10px;background:rgba(255,255,255,0.02)"><a href="${url}" download="zenoti-video.mp4" target="_blank" style="flex:1;text-align:center;padding:9px;border-radius:9px;background:linear-gradient(135deg,#db2777,#9333ea);color:white;font-size:12.5px;font-weight:700;text-decoration:none">â¬‡ Download</a><button onclick="navigator.clipboard.writeText('${url}')" style="padding:9px 14px;border-radius:9px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08);color:rgba(255,255,255,0.55);font-size:12.5px;cursor:pointer">ğŸ”— URL</button></div></div>`);break;}
      }
      if(p?.data?.status==='FAILED')throw new Error('Video failed');
    }
  }catch(e){setH('vidStatus','');errMsg('vidOut',e.message);}
  doneBtn(btn,'ğŸ¬ Generate Video');
}

// â”€â”€ PERSONA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function genPersona(){
  const topic=getV('persTopic');if(!topic){alert('Please enter a topic');return;}
  const btn=$('persBtn');ldBtn(btn,'Generating 4 variantsâ€¦');setH('persOut','');
  try{
    const plat=$('persPlat').value,persona=$('persType').value;
    const raw=await freeAI(`Create 4 different post variants for Zenoti (@gozenoti) on ${PL[plat]}, topic: "${topic}", targeting: ${persona}. Each must have a unique angle.
Return ONLY valid JSON array no extra text: [{"variant":"Name","hook":"Opening line","body":"Post body max 150 chars","angle":"Strategy","predictedEng":"X-Y%"},{"variant":"...","hook":"...","body":"...","angle":"...","predictedEng":"..."},{"variant":"...","hook":"...","body":"...","angle":"...","predictedEng":"..."},{"variant":"...","hook":"...","body":"...","angle":"...","predictedEng":"..."}]`);
    const vars=JSON.parse(raw.replace(/```json|```/g,'').trim());
    const cols=['#6366f1','#8b5cf6','#ec4899','#f59e0b'];
    setH('persOut',`<div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;animation:fadeIn 0.3s ease">${vars.slice(0,4).map((v,i)=>`<div style="background:rgba(255,255,255,0.025);border:1px solid ${cols[i]}33;border-radius:15px;padding:16px"><div style="display:flex;justify-content:space-between;margin-bottom:10px"><span style="font-size:11px;font-weight:700;color:${cols[i]};background:${cols[i]}22;padding:3px 10px;border-radius:20px">${v.variant}</span><span style="font-size:11px;color:#10b981;font-weight:700">${v.predictedEng}</span></div><div style="font-size:13px;font-weight:700;color:white;margin-bottom:6px;line-height:1.5">"${v.hook}"</div><div style="font-size:11.5px;color:rgba(255,255,255,0.5);margin-bottom:8px;line-height:1.6">${v.body}</div><div style="font-size:10.5px;color:${cols[i]};background:${cols[i]}11;padding:5px 10px;border-radius:8px">${v.angle}</div></div>`).join('')}</div>`);
  }catch(e){errMsg('persOut','Generation failed â€” please try again.');}
  doneBtn(btn,'ğŸ­ Generate 4 Persona Variants â€” Free');
}

// â”€â”€ REPURPOSE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function genRepurpose(){
  const input=getV('repInput');if(!input){alert('Please paste some content');return;}
  const btn=$('repBtn');ldBtn(btn,'Repurposingâ€¦');setH('repOut','');
  try{
    const raw=await freeAI(`Repurpose this for Zenoti (@gozenoti) into 8 formats. Include hashtags #GoZenoti #BeautyAndWellness #SalonTech.
Content: "${input}"
Return ONLY valid JSON object no extra text: {"linkedin_post":"...","linkedin_article_hook":"...","instagram_caption":"...","instagram_story":"...","twitter_thread":"Tweet 1\\n\\nTweet 2\\n\\nTweet 3","twitter_single":"...","facebook_post":"...","youtube_short_script":"..."}`);
    const r=JSON.parse(raw.replace(/```json|```/g,'').trim());
    const fmts=[{k:'linkedin_post',l:'LinkedIn Post',i:'ğŸ’¼',c:'#0077b5'},{k:'linkedin_article_hook',l:'LinkedIn Article',i:'ğŸ“°',c:'#0077b5'},{k:'instagram_caption',l:'Instagram Caption',i:'ğŸ“¸',c:'#e1306c'},{k:'instagram_story',l:'Instagram Story',i:'â­•',c:'#e1306c'},{k:'twitter_thread',l:'Twitter Thread',i:'ğŸ§µ',c:'#1da1f2'},{k:'twitter_single',l:'Twitter Post',i:'ğŸ¦',c:'#1da1f2'},{k:'facebook_post',l:'Facebook Post',i:'ğŸ‘¥',c:'#1877f2'},{k:'youtube_short_script',l:'YouTube Short',i:'ğŸ¬',c:'#ff0000'}];
    setH('repOut',`<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;animation:fadeIn 0.3s ease">${fmts.map(f=>`<div style="background:rgba(255,255,255,0.025);border:1px solid ${f.c}25;border-radius:13px;padding:14px"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px"><span style="font-size:11px;font-weight:700;color:${f.c}">${f.i} ${f.l}</span><button onclick="navigator.clipboard.writeText(this.dataset.t);this.textContent='âœ“';setTimeout(()=>this.textContent='â˜',2000)" data-t="${(r[f.k]||'').replace(/"/g,'&quot;').replace(/'/g,'&#39;')}" style="background:transparent;border:1px solid ${f.c}44;border-radius:6px;color:${f.c};font-size:10px;padding:2px 8px;cursor:pointer">â˜</button></div><div style="font-size:12px;color:rgba(255,255,255,0.6);line-height:1.6">${(r[f.k]||'').slice(0,150)}â€¦</div></div>`).join('')}</div>`);
  }catch(e){errMsg('repOut','Repurpose failed â€” please try again.');}
  doneBtn(btn,'â™»ï¸ Repurpose Into 8 Formats â€” Free');
}

// â”€â”€ CALENDAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const calMeta={
  1:{caption:'Show how Zenoti AI booking works in 60 seconds â€” real salon walkthrough with before/after booking flow.',hashtags:'#GoZenoti #AIBooking #SalonTech',cta:'Link in bio to book a free demo ğŸ‘†'},
  2:{caption:'The beauty industry is at an inflection point. AI isn\'t replacing stylists â€” it\'s giving them back 10+ hours a week. Here\'s what the next 3 years look like.',hashtags:'#SalonTech #BeautyAndWellness #FutureOfWork',cta:'What\'s your take? Drop a comment ğŸ‘‡'},
  3:{caption:'5 wellness trends reshaping spas & salons in 2026. Thread ğŸ§µ\n\n1/ AI-powered booking â†’ zero no-shows\n2/ Personalized treatment plans\n3/ Real-time inventory management\n4/ Client retention automation\n5/ Revenue forecasting dashboards',hashtags:'#WellnessTrends #SpaLife #MedSpa',cta:'Follow for more industry insights'},
  4:{caption:'Swipe to see real client transformations powered by Zenoti. Our partners report 40% more repeat bookings after going live.',hashtags:'#BeforeAndAfter #SalonLife #GoZenoti',cta:'DM us to see your salon\'s potential ğŸ’¬'},
  5:{caption:'ğŸ”´ LIVE WEBINAR: How top salons are using AI to 2x revenue without hiring more staff. Join 500+ salon owners this Thursday.',hashtags:'#Webinar #SalonBusiness #BeautyTech',cta:'Register free â€” link in bio'},
  6:{caption:'"We reduced no-shows by 67% in 30 days." â€” Maria, Owner of Luxe Salon & Spa. Real results. Real salon. Powered by Zenoti.',hashtags:'#CustomerSuccess #SalonOwner #GoZenoti',cta:'Read the full story â†’ link in bio'},
  7:{caption:'Quick poll for salon owners ğŸ‘‡\n\nWhat\'s your biggest challenge right now?',hashtags:'#SalonOwner #SmallBusiness #BeautyBiz',cta:'Vote & share with a fellow salon owner!'},
};

function renderCal(){
  const sch=S.cal.filter(x=>x.st==='scheduled').length;
  const pend=S.cal.filter(x=>x.st==='pending').length;
  $('schCount').textContent=`${sch} Scheduled`;
  $('calBadge').textContent=pend;
  const sc=s=>s>=85?'#10b981':s>=70?'#f59e0b':'#ef4444';
  const scoreLabel=s=>s>=85?'High Potential':s>=70?'Good':'Needs Work';

  setH('calItems', S.cal.map(item=>{
    const isSch=item.st==='scheduled';
    const meta=calMeta[item.id]||{};
    const scoreColor=sc(item.score);
    return `
    <div style="background:rgba(255,255,255,0.025);border:1px solid ${isSch?'rgba(16,185,129,0.22)':'rgba(255,255,255,0.08)'};border-radius:16px;padding:18px;margin-bottom:12px;animation:fadeIn 0.3s ease">

      <!-- Top row: platform icon + topic + type + time + score -->
      <div style="display:flex;align-items:center;gap:12px;margin-bottom:14px">
        <div style="width:44px;height:44px;border-radius:13px;background:${PC[item.pl]}22;border:1px solid ${PC[item.pl]}44;display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0">${PI[item.pl]}</div>
        <div style="flex:1;min-width:0">
          <div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap;margin-bottom:5px">
            <span style="font-size:14px;font-weight:800;color:white">${item.topic}</span>
            <span style="font-size:10.5px;background:${PC[item.pl]}22;color:${PC[item.pl]};padding:2px 9px;border-radius:20px;font-weight:700;flex-shrink:0">${item.type}</span>
            ${isSch?`<span style="font-size:10px;background:rgba(16,185,129,0.15);border:1px solid rgba(16,185,129,0.3);color:#6ee7b7;padding:2px 9px;border-radius:20px;font-weight:700">âœ“ Approved</span>`:''}
          </div>
          <div style="display:flex;gap:14px;align-items:center;flex-wrap:wrap">
            <span style="font-size:11.5px;color:rgba(255,255,255,0.4);display:flex;align-items:center;gap:4px">â° ${item.time}</span>
            <span style="font-size:11.5px;color:rgba(255,255,255,0.4)">${PL[item.pl]}</span>
            <div style="display:flex;align-items:center;gap:6px">
              <div style="width:6px;height:6px;border-radius:50%;background:${scoreColor}"></div>
              <span style="font-size:11px;font-weight:700;color:${scoreColor}">${item.score} â€” ${scoreLabel(item.score)}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Score bar -->
      <div style="display:flex;align-items:center;gap:10px;margin-bottom:14px">
        <span style="font-size:10px;color:rgba(255,255,255,0.3);font-weight:600;white-space:nowrap">AI SCORE</span>
        <div class="minibar-wrap"><div class="minibar-fill" style="width:${item.score}%;background:linear-gradient(90deg,${scoreColor},${scoreColor}88)"></div></div>
        <span style="font-size:11px;font-weight:800;color:${scoreColor};min-width:28px">${item.score}/100</span>
      </div>

      <!-- Content preview -->
      <div style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07);border-radius:12px;padding:13px 15px;margin-bottom:12px">
        <div style="font-size:10px;color:rgba(255,255,255,0.3);font-weight:700;letter-spacing:0.08em;text-transform:uppercase;margin-bottom:7px">ğŸ“ Caption Preview</div>
        <div style="font-size:12.5px;color:rgba(255,255,255,0.72);line-height:1.7;white-space:pre-wrap;margin-bottom:8px">${meta.caption||'No caption set.'}</div>
        <div style="font-size:11px;color:rgba(165,180,252,0.6);margin-bottom:6px">${meta.hashtags||''}</div>
        <div style="font-size:11.5px;color:#6ee7b7;font-weight:600">${meta.cta||''}</div>
      </div>

      <!-- Action buttons -->
      ${isSch
        ?`<div style="display:flex;gap:8px">
            <button onclick="rejCal(${item.id})" style="flex:1;background:rgba(239,68,68,0.08);border:1px solid rgba(239,68,68,0.22);border-radius:10px;color:#fca5a5;font-size:12.5px;font-weight:700;padding:9px;cursor:pointer">âœ• Remove</button>
          </div>`
        :`<div style="display:flex;gap:8px">
            <button onclick="appCal(${item.id})" style="flex:2;background:linear-gradient(135deg,rgba(16,185,129,0.2),rgba(16,185,129,0.12));border:1px solid rgba(16,185,129,0.35);border-radius:10px;color:#6ee7b7;font-size:12.5px;font-weight:700;padding:10px;cursor:pointer;transition:all 0.15s" onmouseover="this.style.background='rgba(16,185,129,0.28)'" onmouseout="this.style.background='linear-gradient(135deg,rgba(16,185,129,0.2),rgba(16,185,129,0.12))'">âœ“ Approve & Schedule</button>
            <button onclick="rejCal(${item.id})" style="flex:1;background:rgba(239,68,68,0.08);border:1px solid rgba(239,68,68,0.22);border-radius:10px;color:#fca5a5;font-size:12.5px;font-weight:700;padding:10px;cursor:pointer;transition:all 0.15s" onmouseover="this.style.background='rgba(239,68,68,0.18)'" onmouseout="this.style.background='rgba(239,68,68,0.08)'">âœ• Reject</button>
          </div>`
      }
    </div>`;
  }).join(''));
}
function appCal(id){S.cal=S.cal.map(x=>x.id===id?{...x,st:'scheduled'}:x);renderCal();}
function rejCal(id){S.cal=S.cal.filter(x=>x.id!==id);renderCal();}

function toggleUploadForm(){
  const f=$('uploadForm');
  const open=f.style.display==='block';
  f.style.display=open?'none':'block';
  // set default date/time to tomorrow 9am
  if(!open){
    const t=new Date();t.setDate(t.getDate()+1);
    $('upDate').value=t.toISOString().split('T')[0];
    $('upTime').value='09:00';
  }
}

function handleMediaUpload(input){
  const file=input.files[0];
  if(!file) return;
  const isVideo=file.type.startsWith('video/');
  const url=URL.createObjectURL(file);
  $('upMediaIcon').textContent=isVideo?'ğŸ¬':'ğŸ–¼ï¸';
  $('upMediaText').textContent=file.name+' ('+Math.round(file.size/1024/1024*10)/10+' MB)';
  const prev=$('upMediaPreview');
  prev.style.display='block';
  prev.innerHTML=isVideo
    ?`<video src="${url}" controls style="width:100%;border-radius:10px;border:1px solid rgba(99,102,241,0.3);max-height:200px"></video>`
    :`<img src="${url}" style="width:100%;border-radius:10px;border:1px solid rgba(99,102,241,0.3);max-height:200px;object-fit:cover"/>`;
}

function submitUpload(){
  const topic=getV('upTopic');
  const caption=getV('upCaption');
  const pl=$('upPlatform').value;
  const type=$('upType').value;
  const date=$('upDate').value;
  const time=$('upTime').value;
  const file=$('upMedia').files[0];
  if(!topic){alert('Please enter a topic/title');return;}
  if(!date||!time){alert('Please set a schedule date and time');return;}
  // format time label
  const d=new Date(date+'T'+time);
  const days=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
  const hr=d.getHours();
  const ampm=hr>=12?'pm':'am';
  const h12=hr%12||12;
  const timeLabel=`${days[d.getDay()]} ${h12}${d.getMinutes()?':'+String(d.getMinutes()).padStart(2,'0'):''}${ampm}`;
  const newId=Date.now();
  // add to calMeta
  calMeta[newId]={
    caption:caption||'No caption provided.',
    hashtags:'#GoZenoti #BeautyAndWellness #SalonTech',
    cta:''
  };
  S.cal.push({id:newId,pl,type,topic,score:75,time:timeLabel,st:'pending',manual:true,hasMedia:!!file});
  // reset form
  $('upTopic').value='';$('upCaption').value='';$('upMedia').value='';
  $('upMediaPreview').style.display='none';
  $('upMediaIcon').textContent='ğŸ–¼ï¸';
  $('upMediaText').textContent='Click to upload image or video';
  toggleUploadForm();
  renderCal();
}

// â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
window.onload=()=>{
  // Show Generate Post by default
  $('panel-create').style.display='block';
  renderCal();
  // Freepik key watcher
  $('freepikKey').addEventListener('input',function(){
    const has=this.value.trim().length>0;
    $('imgKeyWarn').style.display=has?'none':'block';
    $('freepikStatus').innerHTML=has?'âœ… Key saved':'ğŸ”‘ Key required';
    $('freepikStatus').style.background=has?'rgba(16,185,129,0.15)':'rgba(245,158,11,0.15)';
    $('freepikStatus').style.borderColor=has?'rgba(16,185,129,0.3)':'rgba(245,158,11,0.3)';
    $('freepikStatus').style.color=has?'#6ee7b7':'#fde68a';
  });
};
</script>
</body>
</html>
